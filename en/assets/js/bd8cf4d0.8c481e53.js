"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["72865"],{53036:function(e,n,s){s.d(n,{Ay:()=>o,RM:()=>i});var t=s(74848),r=s(84429);let i=[];function a(e){let n={p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Transaction means the logical unit of work (LUW) on the server side for processing a user browser request. The process for an individual web service (URL) request is a transaction. A transaction in a web application is the process from receiving an HTTP request for a web service (URL) to returning a response."}),"\n",(0,t.jsx)(n.p,{children:"The performance of the application can be summarized as the performance of these transactions. Transaction performance includes information such as transaction start-to-end time, response time, resource usage, or attributes of the transaction caller."}),"\n",(0,t.jsx)(n.p,{children:"Basically, the transaction performance can be analyzed through the response distribution and statistics."})]})}function o(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},54663:function(e,n,s){s.r(n),s.d(n,{metadata:()=>t,default:()=>p,frontMatter:()=>o,contentTitle:()=>c,toc:()=>d,assets:()=>l});var t=JSON.parse('{"id":"dotnet/agent-transaction","title":"Transactions","description":"The agent traces the transaction performance and provides the following configurable options.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/dotnet/agent-transaction.mdx","sourceDirName":"dotnet","slug":"/dotnet/agent-transaction","permalink":"/whatap-docs/en/dotnet/agent-transaction","draft":false,"unlisted":false,"editUrl":"undefined/docs/dotnet/agent-transaction.mdx","tags":[],"version":"current","frontMatter":{"id":"agent-transaction","title":"Transactions","description":"The agent traces the transaction performance and provides the following configurable options.","keywords":[".NET","Transactions"],"isTranslationMissing":false},"sidebar":"dotNetSidebar","previous":{"title":"Agent Log","permalink":"/whatap-docs/en/dotnet/agent-log"},"next":{"title":"DB, SQL","permalink":"/whatap-docs/en/dotnet/agent-dbsql"}}'),r=s(74848),i=s(84429),a=s(53036);let o={id:"agent-transaction",title:"Transactions",description:"The agent traces the transaction performance and provides the following configurable options.",keywords:[".NET","Transactions"],isTranslationMissing:!1},c,l={},d=[...a.RM,{value:"Transaction Tracing",id:"transaction-tracing",level:2},{value:"Exceptional handling",id:"exception",level:2},{value:"HTTP transaction tracing",id:"http-transaction-tracing",level:2}];function h(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Cmdname:s,ScrollToLink:t,Status:o}=n;return s||x("Cmdname",!0),t||x("ScrollToLink",!0),o||x("Status",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Ay,{}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"transaction-tracing",children:"Transaction Tracing"}),(0,r.jsx)(n.p,{children:"The following agent options allow you to trace the execution paths of each transaction for applications in detail."}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"trace_active_transaction_slow_time"})," ",(0,r.jsx)("span",{class:"type",children:"Millisecond"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"3000"})]}),"\n",(0,r.jsx)(n.p,{children:"In the active transaction arc equalizer graph on the dashboard that checks collected data, specify the criteria for the transaction response time that can be recorded as a slow section. If the transaction response time exceeds the set time, the number of slow active transactions is included."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"trace_active_transaction_very_slow_time"})," ",(0,r.jsx)("span",{class:"type",children:"Millisecond"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"8000"})]}),"\n",(0,r.jsx)(n.p,{children:"In the active transaction arc equalizer graph on the dashboard that checks collected data, specify the criteria for the transaction response time that can be recorded as a very slow section. If the transaction response time exceeds the set time, the number of very slow active transactions is included."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"trace_active_transaction_lost_time"})," ",(0,r.jsx)("span",{class:"type",children:"Millisecond"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"300000"})]}),"\n",(0,r.jsxs)(n.p,{children:["Timeout waiting for a transaction to end. If a transaction does not end within 5 minutes, no further transaction data is collected. You can see ",(0,r.jsx)(n.code,{children:"Lost Connection"})," in the transaction trace information."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"prepend_app_pool_name"})," ",(0,r.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"false"})]}),"\n",(0,r.jsxs)(n.p,{children:["If the option value is set to ",(0,r.jsx)(n.code,{children:"true"}),", the full name of the application appears before the URL of the transaction."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"trace_db_command_methods"})," ",(0,r.jsx)("span",{class:"type",children:"String"})," ",(0,r.jsx)(o,{priority:"1",children:"Deprecated"})]}),"\n",(0,r.jsxs)(n.p,{children:["Enter the name of the method to monitor in the ",(0,r.jsx)(n.code,{children:"System.Data.Common.DbCommand"})," class. To set multiple values, use comma (,) as the delimiter. To monitor all methods, apply as follows:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",metastring:'title="whatap.conf"',children:"trace_db_command_methods=ExecuteReader, ExecuteReaderAsync, ExecuteNonQuery, ExecuteNonQueryAsync, ExecuteScalar, ExecuteScalarAsync\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"expand_transaction_level"})," ",(0,r.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"false"})]}),"\n",(0,r.jsxs)(n.p,{children:["If the option value is set to ",(0,r.jsx)(n.code,{children:"true"}),", SQL and HTTP calls that occur outside of transactions are treated as transactions and displayed in the hitmap."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"expand_transaction_basetime"})," ",(0,r.jsx)("span",{class:"type",children:"Int"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"1000"}),"(1 second) / Min ",(0,r.jsx)(n.code,{children:"100"}),"(0.1 second)"]}),"\n",(0,r.jsxs)(n.p,{children:["When the ",(0,r.jsx)(n.code,{children:"expand_transaction_level"})," option is ",(0,r.jsx)(n.code,{children:"true"}),", data is collected only when the response time is longer than the set time. The data is collected up to 100 cases per second."]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"exception",children:"Exceptional handling"}),(0,r.jsxs)(n.p,{children:["The following options are used to manage and monitor exceptions that occur in applications. You can check the stability of applications by registering business exceptions and collecting related statistics. You can also set whether to ignore specific exceptions or treat them as errors if the HTTP status code is an error. Exception-handled items appear as normal transactions in the ",(0,r.jsx)(s,{sid:"side_hitmap",className:"uitext"})," or ",(0,r.jsx)(s,{sid:"TTL06209",className:"uitext"})," window."]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"transaction_status_error_enable"})," ",(0,r.jsx)("span",{class:"type",children:"Boolean"})," ",(0,r.jsx)(t,{anchor:"transaction_status_error_enable"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"true"})]}),"\n",(0,r.jsx)(n.p,{children:"If an HTTP status code that is not a normal response such as HTTP 401 or 403, is returned, set whether or not to handle it as an error."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"status_ignore"})," ",(0,r.jsx)("span",{class:"type",children:"String"})," ",(0,r.jsx)(t,{anchor:"status_ignore"})]}),"\n",(0,r.jsx)(n.p,{children:"You can set the HTTP status codes to ignore. For multiple values, use comma (,) as the delimiter."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"# example\nstatus_ignore=408,500\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Ignore status error/Hitmap display level: Excludes the ",(0,r.jsx)("span",{class:"normal",children:"INFO"})," (blue)/error statistics."]})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"status_ignore_set"})," ",(0,r.jsx)("span",{class:"type",children:"String"})," ",(0,r.jsx)(t,{anchor:"status_ignore_set"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"whatap.error.STATUS_ERROR"})," is ignored. For multiple values, use comma (,) as the delimiter."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"# example\nstatus_ignore_set=/api/test/timeout/{time}:408,/error:500\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Ignore status error set/Hitmap display level: Excludes the ",(0,r.jsx)("span",{class:"normal",children:"INFO"})," (blue)/error statistics."]})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"httpc_status_error_enable"})," ",(0,r.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"true"})]}),"\n",(0,r.jsxs)(n.p,{children:["Set whether or not to collect when the HTTP status code is an error. It includes client error responses (",(0,r.jsx)(n.code,{children:"400"})," or higher) and server error responses (",(0,r.jsx)(n.code,{children:"500"})," or higher)."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["For more information about the HTTP status codes, see ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/HTTP/Status",children:"the following"}),"."]})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"httpc_status_ignore"})," ",(0,r.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,r.jsxs)(n.p,{children:["If the HTTP status code is an error (",(0,r.jsx)(n.code,{children:"HTTPC_ERROR"}),"), it can be ignored. When listing multiple values, use comma (,) as the delimiter."]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"Ignore HTTP status error code/Exclude error statistics"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"httpc_status_ignore_set"})," ",(0,r.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"whatap.error.HTTPC_ERROR"})," is ignored. For multiple values, use comma (,) as the delimiter."]}),"\n",(0,r.jsxs)(n.p,{children:["Set it as ",(0,r.jsx)(n.code,{children:"httpc_status_ignore_set=/a/b/c:400,/a/ab/c:404"}),". In Statistics/Error Analysis, enter the value for ",(0,r.jsx)(n.code,{children:"HTTPC_URL"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",metastring:'title="whatap.conf"',children:"httpc_status_ignore_set=/a/b/c:400,/a/ab/c:404\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"Ignore HTTP status error code/Exclude error statistics"})}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"http-transaction-tracing",children:"HTTP transaction tracing"}),(0,r.jsx)(n.p,{children:"The following agent options trace and record various data related to HTTP requests and responses. This allows you to closely monitor and analyze the HTTP transactions for applications. You can add parameter values \u200B\u200Bto the transaction names or exclude specific URLs or HTTP methods. You can also record transactions in detail, including HTTP headers and parameters."}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"profile_http_parameter_keys"})," ",(0,r.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,r.jsx)(n.p,{children:"Only the parameters corresponding to the set key are recorded. For multiple values, use comma (,) as the delimiter."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"profile_http_header_enabled"})," ",(0,r.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"false"})]}),"\n",(0,r.jsxs)(n.p,{children:["To record HTTP headers in the trace details, set it to ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"profile_http_parameter_enabled"})," ",(0,r.jsx)("span",{class:"type",children:"Boolean"}),(0,r.jsx)(t,{anchor:"profile_http_parameter"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"false"})]}),"\n",(0,r.jsxs)(n.p,{children:["To record HTTP parameters in the trace details, set this to ",(0,r.jsx)(n.code,{children:"true"}),". Parameters can be viewed by entering a separate security key."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Set the security key to 6 digits in ",(0,r.jsx)(n.em,{children:"'%PROGRAMFILES%'\\WhaTap .NET\\paramkey.txt"})," of the WAS server. If ",(0,r.jsx)(n.em,{children:"paramkey.txt"})," does not exist, it is automatically generated as a random value."]})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"profile_http_parameter_url_prefix"})," ",(0,r.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,r.jsx)(n.p,{children:"It is used to define the prefix of URL to record HTTP parameters in the trace details."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"profile_http_body_url_prefix"})," ",(0,r.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,r.jsx)(n.p,{children:"It is used to define the prefix of the target URL to record the HTTP body information in the trace history."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"trace_ignore_url_set"})," ",(0,r.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,r.jsx)(n.p,{children:"It sets URLs to exclude from transaction tracing. For multiple values, use comma (,) as the delimiter."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["The URLs registered through this option are excluded from the ",(0,r.jsx)(s,{sid:"side_hitmap",className:"uitext"}),", ",(0,r.jsx)(s,{sid:"TTL06209",className:"uitext"}),", or ",(0,r.jsx)(s,{sid:"TTL06527",className:"uitext"})," window for collection."]})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"trace_ignore_url_prefix"})," ",(0,r.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,r.jsx)(n.p,{children:"Set the prefix of URLs to exclude from transaction collection. URLs matching the set prefix are not collected for transaction performance. To set multiple values, use comma (,) as the delimiter."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["The URLs registered through this option are excluded from the ",(0,r.jsx)(s,{sid:"side_hitmap",className:"uitext"}),", ",(0,r.jsx)(s,{sid:"TTL06209",className:"uitext"}),", or ",(0,r.jsx)(s,{sid:"TTL06527",className:"uitext"})," window for collection."]})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"trace_ignore_url_suffix"})," ",(0,r.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,r.jsx)(n.p,{children:"Set the suffix of URLs to exclude from transaction collection. URLs matching the set suffix are not collected for transaction performance. To set multiple values, use comma (,) as the delimiter."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["The URLs registered through this option are excluded from the ",(0,r.jsx)(s,{sid:"side_hitmap",className:"uitext"}),", ",(0,r.jsx)(s,{sid:"TTL06209",className:"uitext"}),", or ",(0,r.jsx)(s,{sid:"TTL06527",className:"uitext"})," window for collection."]})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"disabled_section_names"})," ",(0,r.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,r.jsx)(n.p,{children:"Set the section names to exclude from monitoring. To set multiple values, use comma (,) as a delimiter. Restart the IIS service after applying this option."}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.p,{children:"The section names that can be selected are as follows:"}),(0,r.jsx)(n.p,{children:"AspNetCoreMvc2, AspNetMvc, AspNetWebApi2, AspNetWebForm, DbCommand, IDbCommand, SqlCommand, OracleCommand, WebRequest, HttpMessageHandler, HttpClient, WebClient, ServiceStackRedis, StackExchangeRedis, StackExchangeRedis2, LINQ"})]}),"\n"]}),"\n"]})]})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}function x(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},84429:function(e,n,s){s.d(n,{R:()=>a,x:()=>o});var t=s(96540);let r={},i=t.createContext(r);function a(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);