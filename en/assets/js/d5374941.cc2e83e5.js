"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["30293"],{18755:function(e,n,s){s.r(n),s.d(n,{metadata:()=>t,default:()=>h,frontMatter:()=>c,contentTitle:()=>l,toc:()=>a,assets:()=>o});var t=JSON.parse('{"id":"kubernetes/set-agent","title":"Setting the Kubernetes agent options","description":"Configure necessary settings in whatap.conf for monitoring the applications in the container. Let\'s learn about available options.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/kubernetes/set-agent.mdx","sourceDirName":"kubernetes","slug":"/kubernetes/set-agent","permalink":"/whatap-docs/en/kubernetes/set-agent","draft":false,"unlisted":false,"editUrl":"undefined/docs/kubernetes/set-agent.mdx","tags":[],"version":"current","frontMatter":{"id":"set-agent","title":"Setting the Kubernetes agent options","description":"Configure necessary settings in whatap.conf for monitoring the applications in the container. Let\'s learn about available options.","toc_max_heading_level":3,"keywords":["Kubernetes","Kubernetes Monitoring","Application","Java","Python","Node.js","whatap.conf"],"isTranslationMissing":false},"sidebar":"kubeSidebar","previous":{"title":"Agent troubleshooting","permalink":"/whatap-docs/en/kubernetes/agent-troubleshooting"},"next":{"title":"Namespace Management","permalink":"/whatap-docs/en/kubernetes/namespace"}}'),i=s(74848),r=s(84429);let c={id:"set-agent",title:"Setting the Kubernetes agent options",description:"Configure necessary settings in whatap.conf for monitoring the applications in the container. Let's learn about available options.",toc_max_heading_level:3,keywords:["Kubernetes","Kubernetes Monitoring","Application","Java","Python","Node.js","whatap.conf"],isTranslationMissing:!1},l,o={},a=[{value:"Configuring the options for each container",id:"configuring-the-options-for-each-container",level:2},{value:"whatap-node-helper",id:"whatap-node-helper",level:3},{value:"whatap-node-agent",id:"whatap-node-agent",level:3},{value:"whatap-control-plane-helper",id:"whatap-control-plane-helper",level:3},{value:"whatap-master-agent",id:"whatap-master-agent",level:3},{value:"Screen components affected by each metric",id:"k8s-affected-comp-by-metrics",level:2},{value:"<code>kube_pod</code>",id:"kube_pod",level:3},{value:"<code>container</code>",id:"container",level:3}];function d(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",section:"section",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Cmdname:t,ImgLang:c,ScrollToLink:l}=n;return t||x("Cmdname",!0),c||x("ImgLang",!0),l||x("ScrollToLink",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["When releasing the WhaTap Kubernetes agent, it can be set through the container ",(0,i.jsx)(n.code,{children:"env"})," field."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["It can be configured by modifying the ",(0,i.jsx)(n.em,{children:"whatap.conf"})," file in the container."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["The options in the ",(0,i.jsx)(n.em,{children:"whatap.conf"})," file have higher priority than those set in the container ",(0,i.jsx)(n.code,{children:"env"})," field."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If no value is set in ",(0,i.jsx)(n.em,{children:"whatap.conf"})," or container ",(0,i.jsx)(n.code,{children:"env"}),", the default value is used."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Setting the application agent options in the container"})}),(0,i.jsxs)(n.p,{children:["Configure necessary settings in ",(0,i.jsx)(n.em,{children:"whatap.conf"})," for monitoring applications such as Java, Python, and Node.js in the container. For more information about available options in ",(0,i.jsx)(n.em,{children:"whatap.conf"}),", see the following links:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"../java/set-agent",children:"Configuring Java - whatap.conf"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"../nodejs/set-agent",children:"Configuring Node.js - whatap.conf"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"../python/set-agent",children:"Configuring Python - whatap.conf"})}),"\n"]}),"\n"]})]}),"\n",(0,i.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,i.jsx)(n.h2,{id:"configuring-the-options-for-each-container",children:"Configuring the options for each container"})}),"\n",(0,i.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,i.jsx)(n.h3,{id:"whatap-node-helper",children:"whatap-node-helper"}),(0,i.jsx)(n.hr,{}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"collect_volume_detail_enabled"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsxs)(n.p,{children:["In the node agent, use the ",(0,i.jsx)(n.code,{children:"exec df"})," command for all containers to enable searching the container volume information. It enables the function to collect storage usage and volume data for all containers running on the node."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"inject_container_id_to_apm_agent_enabled"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsxs)(n.p,{children:["It enables container ID injection using ",(0,i.jsx)(n.code,{children:"exec"})," in the WhaTap APM container. It automatically extracts the ID of the container identified by the WhaTap APM. You can inject this into the APM tool to associate the performance monitoring data with containers."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"debug"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set whether or not to enable the debugging mode. Set the log level to ",(0,i.jsx)(n.code,{children:"DEBUG"})," when the debugging mode is enabled, otherwise to ",(0,i.jsx)(n.code,{children:"INFO"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"kube_config_path"})," ",(0,i.jsx)("span",{class:"type",children:"string"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"~/.kube/config"})]}),"\n",(0,i.jsxs)(n.p,{children:["Specify the Kubernetes configuration file path. If not set, use ",(0,i.jsx)(n.em,{children:"~/.kube/config"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"log_sys_out"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set the log system output. When the option value is set to ",(0,i.jsx)(n.code,{children:"true"}),", logging is left simultaneously in the standard output (stdOut) and a file. Any changes are immediately reflected in the logging system."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"collect_kube_node_process_metric_enabled"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsxs)(n.p,{children:["It is the flag to enable or disable the monitoring for Kubernetes-related processes on the node. If it is set to ",(0,i.jsx)(n.code,{children:"true"}),", monitoring is enabled. If it is set to ",(0,i.jsx)(n.code,{children:"false"}),", monitoring is disabled."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"collect_kube_node_process_metric_target_list"})," ",(0,i.jsx)("span",{class:"type",children:"list"})," ",(0,i.jsx)(l,{anchor:"collect_kube_node_process_metric_target_list"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:'"kubelet,containerd-shim,containerd,docker,dockerd,crio,metrics-server, coredns,aws-k8s-agent,kube-proxy"'})]}),"\n",(0,i.jsx)(n.p,{children:"Basically, it monitors Kubernetes-related processes. Users can arbitrarily set the processes to monitor by modifying the process list."}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"List of default monitoring target processes by WhaTab"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"kubelet"})}),"\n",(0,i.jsx)(n.p,{children:"This controller runs on each node, continuously monitors containers and communicates with the Kubernetes master to make sure that workloads are scheduled and run correctly. It is responsible for checking container status and managing node resources."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"containerd"})}),"\n",(0,i.jsx)(n.p,{children:"It is a high-performance container runtime for running containers. It handles image management, container creation and execution, networking, and such."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"dockerd"})}),"\n",(0,i.jsx)(n.p,{children:"It is the main process that manages the creation of Docker containers. This process includes building, releasing, running, networking, and data management for container images."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"crio"})}),"\n",(0,i.jsx)(n.p,{children:"It is a lightweight container runtime designed for Kubernetes that implements the Container Runtime Interface (CRI) to efficiently manage container workloads."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"coredns"})}),"\n",(0,i.jsx)(n.p,{children:"This process provides DNS services in the Kubernetes cluster and handles name resolution for services in the cluster. It also performs service discovery and load balancing, and supports seamless communication between services in the cluster."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"aws-k8s-agent"})}),"\n",(0,i.jsx)(n.p,{children:"This agent manages Kubernetes network interfaces (VPC CNI) in the AWS environment. This process allocates and releases AWS network resources (ENIs) for inter-Pod communication. If a problem occurs, it may cause network connection failures or resource allocation errors."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"kube-proxy"})}),"\n",(0,i.jsx)(n.p,{children:"This process for routing network traffic is performed in the Kubernetes cluster. This process runs on each node and enables communication between services and Pods. It also uses Linux networking technologies like iptables or IPVS to deliver the cluster's internal requests to the correct Pods. This enables service discovery and load balancing in the Kubernetes cluster."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"kube-apiserver"})}),"\n",(0,i.jsx)(n.p,{children:"This Kubernetes API server is a central component that handles all requests in the cluster and manages the status of resources. It processes all requests in the cluster, including authentication, authorization, and admission control."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"etcd"})}),"\n",(0,i.jsx)(n.p,{children:"It is a distributed key-value database that stores Kubernetes cluster status data. It plays an important role in saving and recovering the status of the cluster."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"kube-controller"})}),"\n",(0,i.jsx)(n.p,{children:"This process manages and runs multiple controllers, maintains the status of cluster resources, and performs automated tasks. It performs various roles such as managing node and Pod status, maintaining replication, etc."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"kube-scheduler"})}),"\n",(0,i.jsx)(n.p,{children:"It places Pods on appropriate nodes in the cluster. It selects an optimal node considering the Pod's requirements and the status of each node."}),"\n"]}),"\n"]})]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,i.jsx)(n.h3,{id:"whatap-node-agent",children:"whatap-node-agent"}),(0,i.jsx)(n.hr,{}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"shutdown"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"Forcibly disconnect the collection server. This means stopping communication."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"license"})," ",(0,i.jsx)("span",{class:"type",children:"string"})]}),"\n",(0,i.jsx)(n.p,{children:"Agents are identified using the license issued to the project."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"whatap.server.host"})," ",(0,i.jsx)("span",{class:"type",children:"string"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"13.124.11.223"})," or ",(0,i.jsx)(n.code,{children:"13.209.172.35"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set the IP of the collection server. In case of ",(0,i.jsx)(n.code,{children:"delimiter"}),", use ",(0,i.jsx)(n.code,{children:"/:"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"whatap.server.port"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"6600"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the data receiving port of the collection server."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"ONODE_NAME"})," ",(0,i.jsx)("span",{class:"type",children:"string"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"NODE_NAME"})," or ",(0,i.jsx)(n.code,{children:"NODE_IP"})," environment variable value"]}),"\n",(0,i.jsx)(n.p,{children:"Set a name to identify the agent node."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"tcp_connection_timeout"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"3000"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the timeout time when connecting whatap-master-agent to the collection server socket."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"tcp_so_timeout"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"60000"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the data sending/receiving timeout time after socket connection."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"debug"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"Set whether or not to enable the debugging mode."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gpuEnabled"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"Set whether or not to enable the GPU monitoring."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"count_interval"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"5000"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set the cycle to transmit metrics (",(0,i.jsx)(n.code,{children:"kube pod"}),", ",(0,i.jsx)(n.code,{children:"container"}),") to the collection server. The unit of the default value is ms."]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsxs)(n.p,{children:["This option may affect the on-screen data refresh cycle. For more information, see ",(0,i.jsx)(n.a,{href:"#k8s-affected-comp-by-metrics",children:"Screen components affected by each metric"}),"."]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"collect_interval"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"5000"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set the cycle for the agent to request apiserver to collect metrics (",(0,i.jsx)(n.code,{children:"kube_pod"}),", ",(0,i.jsx)(n.code,{children:"container"}),")."]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsxs)(n.p,{children:["This option may affect the on-screen data refresh cycle. For more information, see ",(0,i.jsx)(n.a,{href:"#k8s-affected-comp-by-metrics",children:"Screen components affected by each metric"}),"."]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"collect_apiserver_metric_by_leader"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.p,{children:["If the option is enabled, the node agent delegates metrics collection to the master agent. It requires to enable the ",(0,i.jsx)(n.code,{children:"collect_apiserver_metric_by_leader"})," option of whatap-master-agent first. Through metric collection delegation, the apiserver load generated by the existing whatap-node-agent can be reduced."]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,i.jsx)(n.h3,{id:"whatap-control-plane-helper",children:"whatap-control-plane-helper"}),(0,i.jsx)(n.hr,{}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"port"})," ",(0,i.jsx)("span",{class:"type",children:"string"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"9496"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the web server port of whatap-control-plane-helper."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"cycle"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"5"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the cycle at which the control-plane-helper scrapes metrics. The unit of the default value is s."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"collect_control_plane_monitoring_enabled"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"It determines whether or not to enable the control-plane-monitoring function."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"kube_config_path"})," ",(0,i.jsx)("span",{class:"type",children:"string"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"~.kube/config"})]}),"\n",(0,i.jsxs)(n.p,{children:["Specify the Kubernetes configuration file path. If not set, use ",(0,i.jsx)(n.em,{children:"~/.kube/config"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"kube_master_url"})," ",(0,i.jsx)("span",{class:"type",children:"string"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"~/.kube/config"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set the URL of the control-plane to request for scraping. If not set, use ",(0,i.jsx)(n.em,{children:"~/.kube/config"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"debug"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"Set whether or not to enable the debugging (logging) for whatap-control-plane-helper."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"kube_client_tls_verify"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})," ",(0,i.jsx)(l,{anchor:"kube_client_tls_verify"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsxs)(n.p,{children:["If the option value is set to ",(0,i.jsx)(n.code,{children:"false"}),", TLS authentication is not enforced and the authentication process can be skipped."]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,i.jsx)(n.h3,{id:"whatap-master-agent",children:"whatap-master-agent"}),(0,i.jsx)(n.hr,{}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"shutdown"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"Forcibly disconnect the collection server. This means stopping communication."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"license"})," ",(0,i.jsx)("span",{class:"type",children:"string"})]}),"\n",(0,i.jsx)(n.p,{children:"Agents are identified using the license issued to the project."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"whatap.server.host"})," ",(0,i.jsx)("span",{class:"type",children:"string"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"13.124.11.223"})," or ",(0,i.jsx)(n.code,{children:"13.209.172.35"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set the IP of the collection server. In case of ",(0,i.jsx)(n.code,{children:"delimiter"}),", use ",(0,i.jsx)(n.code,{children:"/:"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"whatap.server.port"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"6600"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the data receiving port of the collection server."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"tcp_connection_timeout"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"3000"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the timeout time when connecting whatap-master-agent to the collection server socket."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"tcp_so_timeout"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"60000"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the timeout time when connecting whatap-master-agent to the collection server socket."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"debug"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set whether or not to enable the ",(0,i.jsx)(n.code,{children:"DEBUG"})," level logging in whatap-master-agent."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"collect_apiserver_metric_by_leader"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"Sets whether or not to enable whatap-master-agent to act as the leader of the scraper. When enabled, whatap-master-agent alone requests metrics to apiserver."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"collect_control_plane_monitoring_enabled"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"Set whether or not to enable the control-plane monitoring."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"master_to_control_plane_connection_timeout"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"5000"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the time until a connection timeout occurs when whatap-master-agent communicates with whatap-control-plane-helper. The unit of the default value is ms."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"master_to_control_plane_read_timeout"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"20000"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the time until a read timeout occurs when whatap-master-agent communicates with whatap-control-plane-helper. The unit of the default value is ms."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"control_plane_debug"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"Set whether or not to enable all debug logging in whatap-master-agent for control-plane monitoring."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"store_k8s_object_manifest_enabled"})," ",(0,i.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsx)(n.p,{children:"Set whether or not to enable the Object Manifest collection. When enabled, manifest information for cluster objects is collected once a day."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"store_k8s_object_manifest_timezone"})," ",(0,i.jsx)("span",{class:"type",children:"string"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"UTC"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the time zone for collection of object manifests. If there is no separate setting, collection starts at midnight based on UTC by default."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["For example, to run it at midnight in Korean time, set the time zone to ",(0,i.jsx)(n.code,{children:"GMT+9"})," or ",(0,i.jsx)(n.code,{children:"Asia/Seoul"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"store_k8s_object_manifest_max_fetch_limit"})," ",(0,i.jsx)("span",{class:"type",children:"number"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"50"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set the view number of objects to collect at a time. If there is no separate setting, 50 items are requested upon request based on the default value of ",(0,i.jsx)(n.code,{children:"50"}),"."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["For example, when setting the option ",(0,i.jsx)(n.code,{children:"30"})," in a cluster with a total number of Pods of 90, pods are requested 3 times for 30 pods each."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,i.jsx)(n.h2,{id:"k8s-affected-comp-by-metrics",children:"Screen components affected by each metric"})}),"\n",(0,i.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,i.jsx)(n.h3,{id:"kube_pod",children:(0,i.jsx)(n.code,{children:"kube_pod"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Dashboard"})})," > ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container Map"})})]}),"\n",(0,i.jsxs)(n.p,{children:["The Pod view reference data in the following example image is affected by the ",(0,i.jsx)(n.code,{children:"kube_pod"})," metrics collection cycle and collection server transmission cycle."]}),"\n",(0,i.jsx)(c,{img:"k8s-set-agent-kube-pod-container-map.png",desc:"Container Map Pod view"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Workload"})})," > ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Pod List"})})]}),"\n",(0,i.jsxs)(n.p,{children:["The following example data is affected by the ",(0,i.jsx)(n.code,{children:"kube_pod"})," metrics collection cycle and collection server transmission cycle."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Pod list",src:s(24050).A+"",width:"1200",height:"130"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Dashboard"})})," > ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Performance Summary"})})]}),"\n",(0,i.jsxs)(n.p,{children:["It is affected by ",(0,i.jsx)(t,{sid:"TTL07433",className:"uitext"})," chart update cycle using the ",(0,i.jsx)(n.code,{children:"kube_pod"})," metrics."]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,i.jsx)(n.h3,{id:"container",children:(0,i.jsx)(n.code,{children:"container"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Dashboard"})})," > ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container Map"})})]}),"\n",(0,i.jsxs)(n.p,{children:["In the following example, the screen data refresh cycle based on the container view is affected by the ",(0,i.jsx)(n.code,{children:"container"})," metrics."]}),"\n",(0,i.jsx)(c,{img:"k8s-set-agent-container-container-map.png",desc:"Container Map Container view"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container"})})," > ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container Images"})})]}),"\n",(0,i.jsxs)(n.p,{children:["The data in the following example is affected by the ",(0,i.jsx)(n.code,{children:"container"})," metrics."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Container image",src:s(93267).A+"",width:"1200",height:"150"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Dashboard"})})," > ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Performance Summary"})})]}),"\n",(0,i.jsxs)(n.p,{children:["It is affected by the update cycle of the following charts using the ",(0,i.jsx)(n.code,{children:"kube_pod"})," metrics."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Number of containers running on nodes with agents"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Number of nodes with agents"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Total Container CPU Request"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Total Container CPU Usage"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Node CPU"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Node Memory"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container CPU Usage by Request"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container CPU Usage by Node"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container Memory Working Set by Request"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container Memory Failure Count"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container CPU Throttling Time"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container Network Receive Byte"})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Container Network Transmit Byte"})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Cluster"})})," > ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Node Detail"})})]}),"\n",(0,i.jsxs)(n.p,{children:["In the following ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Node details"})})," screen as an example, the update cycle of the ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"container"})})," list is affected by the ",(0,i.jsx)(n.code,{children:"container"})," metrics."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Node Detail",src:s(33884).A+"",width:"1200",height:"851"})}),"\n"]}),"\n"]})]})]})}function h(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}function x(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},93267:function(e,n,s){s.d(n,{A:()=>t});let t=s.p+"assets/images/k8s-set-agent-container-image-79a301ba9cfd481af7df9a9e5181dbdc.png"},24050:function(e,n,s){s.d(n,{A:()=>t});let t=s.p+"assets/images/k8s-set-agent-kube-pod-pod-list-7e8656e1223fbbb1731d09985716c00c.png"},33884:function(e,n,s){s.d(n,{A:()=>t});let t=s.p+"assets/images/k8s-set-agent-node-detail-567772f78f2b5c5b7fb4f17440d9a99e.png"},84429:function(e,n,s){s.d(n,{R:()=>c,x:()=>l});var t=s(96540);let i={},r=t.createContext(i);function c(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);