"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["66951"],{72970:function(e,i,n){n.r(i),n.d(i,{metadata:()=>t,default:()=>h,frontMatter:()=>r,contentTitle:()=>a,toc:()=>d,assets:()=>o});var t=JSON.parse('{"id":"dotnet/isapi-filter-based-tx-tracking","title":"Analysis of ISAPI filter-based transactions","description":"It explains how to apply the transaction tracing feature based on the ISAPI filter.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/dotnet/isapi-filter-based-tx-tracking.mdx","sourceDirName":"dotnet","slug":"/dotnet/isapi-filter-based-tx-tracking","permalink":"/whatap-docs/en/dotnet/isapi-filter-based-tx-tracking","draft":false,"unlisted":false,"editUrl":"undefined/docs/dotnet/isapi-filter-based-tx-tracking.mdx","tags":[],"version":"current","frontMatter":{"id":"isapi-filter-based-tx-tracking","title":"Analysis of ISAPI filter-based transactions","description":"It explains how to apply the transaction tracing feature based on the ISAPI filter.","keywords":[".NET"],"isTranslationMissing":false},"sidebar":"dotNetSidebar","previous":{"title":"WCF and Web Service monitoring configuration","permalink":"/whatap-docs/en/dotnet/agent-webservice"},"next":{"title":"\uBD80\uAC00 \uAE30\uB2A5","permalink":"/whatap-docs/en/dotnet/additional-function"}}'),s=n(74848),l=n(84429);let r={id:"isapi-filter-based-tx-tracking",title:"Analysis of ISAPI filter-based transactions",description:"It explains how to apply the transaction tracing feature based on the ISAPI filter.",keywords:[".NET"],isTranslationMissing:!1},a,o={},d=[{value:"Installation",id:"installation",level:2},{value:"Setting the ISAPI filter",id:"setting-the-isapi-filter",level:2},{value:"Applying the server-wide filter",id:"applying-the-server-wide-filter",level:3},{value:"Applying individual site filters",id:"applying-individual-site-filters",level:3},{value:"Adding filter items",id:"adding-filter-items",level:3},{value:"If the ISAPI filter does not work",id:"if-the-isapi-filter-does-not-work",level:2}];function c(e){let i={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{ImgLang:n}=i;return n||function(e,i){throw Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImgLang",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.p,{children:"The WhaTap .NET agent provides the ISAPI filtering feature to enable tracing transactions for various applications running on IIS. This allows for a wide range of monitoring, including requests based on technologies other than .NET, such as ASP, ASP.NET, CGI, and ISAPI extensions."}),"\n",(0,s.jsxs)(i.admonition,{type:"note",children:[(0,s.jsx)(i.mdxAdmonitionTitle,{}),(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Requirements"})}),(0,s.jsx)(i.p,{children:"The ISAPI filtering feature is supported in WhaTap .NET Agent v2.4.0 or later."})]}),"\n",(0,s.jsxs)(i.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(i.h2,{id:"installation",children:"Installation"}),(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Install the .NET agent following the ",(0,s.jsx)(i.a,{href:"/dotnet/install-agent",children:"Agent installation"})," instructions."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["After installing the agent, copy the ",(0,s.jsx)(i.em,{children:"whatap_isapi_filter.dll"})," file to the root directory of the target site."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:'C:..> copy "C:\\Program Files\\WhaTap .NET\\whatap_isapi_filter.dll" C:\\inetpub\\yoursite\n'})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"If you copy the filter file into the directory where the IIS website is running, no additional setup is required."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["The filter file does not necessarily have to be located in the directory where the website is hosted, but the path and file must have ",(0,s.jsx)(i.strong,{children:"read and execute roles"})," granted to the ",(0,s.jsx)(i.strong,{children:"IIS_IUSRS"})," group."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(i.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(i.h2,{id:"setting-the-isapi-filter",children:"Setting the ISAPI filter"}),(0,s.jsxs)(i.p,{children:["ISAPI filters can be applied ",(0,s.jsx)(i.strong,{children:"server-wide"})," or ",(0,s.jsx)(i.strong,{children:"individually to sites"}),"."]})]}),"\n",(0,s.jsxs)(i.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(i.h3,{id:"applying-the-server-wide-filter",children:"Applying the server-wide filter"}),(0,s.jsx)(i.p,{children:"To apply filters to requests from all websites hosted on IIS, set it as follows."}),(0,s.jsx)(n,{img:"dotnet-isapi-pic-001.png",desc:"Apply server-wide filter"}),(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Run the IIS Manager."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"In the tree on the left, select a server node."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Double-click the ISAPI filter icon in the center area."}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(i.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(i.h3,{id:"applying-individual-site-filters",children:"Applying individual site filters"}),(0,s.jsx)(i.p,{children:"To filter transactions on individual sites, set as follows."}),(0,s.jsx)(n,{img:"dotnet-isapi-pic-002.png",desc:"Apply individual site filters"}),(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Run the IIS Manager."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"In the tree on the left, select a target site."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Double-click the ISAPI filter icon in the center area."}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(i.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(i.h3,{id:"adding-filter-items",children:"Adding filter items"}),(0,s.jsx)(n,{img:"dotnet-isapi-pic-003.png",desc:"Added a filter"}),(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Click the Add button in the task pane on the right."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Specify the filter name freely."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Locate and select the ",(0,s.jsx)(i.em,{children:"whatap_isapi_filter.dll"})," file."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Click."}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(i.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(i.h2,{id:"if-the-isapi-filter-does-not-work",children:"If the ISAPI filter does not work"}),(0,s.jsxs)(i.p,{children:["If it does not work after setting the filter, you may need to add ",(0,s.jsx)(i.strong,{children:"ISAPI and CGI restrictions"}),"."]}),(0,s.jsx)(n,{img:"dotnet-isapi-pic-004-2.png",desc:"filter does not work sc"}),(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"In the tree on the left in IIS Manager, select a server."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Double-click the ISAPI and CGI restriction icons in the center area."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Click the Add button in the task pane on the right."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Select the ",(0,s.jsx)(i.em,{children:"whatap_isapi_filter.dll"})," file."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Enter the item name."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Check in the Allow extended path execution."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Click."}),"\n"]}),"\n"]})]})]})}function h(e={}){let{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},84429:function(e,i,n){n.d(i,{R:()=>r,x:()=>a});var t=n(96540);let s={},l=t.createContext(s);function r(e){let i=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(l.Provider,{value:i},e.children)}}}]);