"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["50692"],{25871:function(e,n,t){t.d(n,{Ay:()=>a,RM:()=>s});var i=t(74848),o=t(84429);let s=[];function r(e){let n={a:"a",admonition:"admonition",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Download"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://repo.whatap.io/windows/whatap_dotnet.exe",children:".NET Agent download"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://repo.whatap.io/windows/whatap_dotnet_450.exe",children:"Earlier than .NET runtime 4.6.1 or earlier than Windows 2012"})}),"\n",(0,i.jsx)(n.p,{children:"Windows Server 2008 R2 is the minimum requirement."}),"\n"]}),"\n"]})]})}function a(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(r,{...e})}):r(e)}},87166:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,default:()=>p,frontMatter:()=>a,contentTitle:()=>d,toc:()=>l,assets:()=>c});var i=JSON.parse('{"id":"release-notes/dotnet/dotnet-2_3_5","title":".NET Agent v2.3.5","description":"November 4, 2024","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/release-notes/dotnet/dotnet-2.3.5.mdx","sourceDirName":"release-notes/dotnet","slug":"/release-notes/dotnet/dotnet-2_3_5","permalink":"/whatap-docs/en/release-notes/dotnet/dotnet-2_3_5","draft":false,"unlisted":false,"editUrl":"undefined/docs/release-notes/dotnet/dotnet-2.3.5.mdx","tags":[],"version":"current","frontMatter":{"id":"dotnet-2_3_5","title":".NET Agent v2.3.5","toc_max_heading_level":2,"pagination_next":"release-notes/dotnet/dotnet-2_3_4","displayed_sidebar":"releaseSidebar","isTranslationMissing":false},"sidebar":"releaseSidebar","next":{"title":".NET Agent v2.3.4","permalink":"/whatap-docs/en/release-notes/dotnet/dotnet-2_3_4"}}'),o=t(74848),s=t(84429),r=t(25871);let a={id:"dotnet-2_3_5",title:".NET Agent v2.3.5",toc_max_heading_level:2,pagination_next:"release-notes/dotnet/dotnet-2_3_4",displayed_sidebar:"releaseSidebar",isTranslationMissing:!1},d,c={},l=[...r.RM];function h(e){let n={admonition:"admonition",code:"code",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{Status:t}=n;return t||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Status",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"November 4, 2024"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(t,{priority:"1",children:"New"})," Added the User Transaction feature in .NET Core."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"See the following example: If you do not need to monitor the number of users, enter an empty string in the user identification field."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-C",children:'using System;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        // Start tracing (domain, Url, user identification)\n        WhatapDiagnostic.TraceStart("127.0.0.1", "/api/test", "user123");\n\n        try\n        {\n            // Start step\n            WhatapDiagnostic.StepStart("test Step");\n\n            // User code area\n\n            // End step\n            WhatapDiagnostic.StepStop();\n        }\n        catch (Exception ex)\n        {\n            // Log exceptions in diagnostic information upon an exception\n            WhatapDiagnostic.SetExceptionForTrace(ex);\n        }\n        finally\n        {\n            // End tracing\n            WhatapDiagnostic.TraceStop();\n        }\n    }\n}\n\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{}),(0,o.jsx)(n.p,{children:"Supporting the .NET Framework is in preparation."})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The WhatapDiagnostic code is as follows. The format does not matter, as long as the content of ",(0,o.jsx)(n.code,{children:"diagnosticSource.Write(\u2026)"})," is correct."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-C",children:'using System.Diagnostics;\xe5\n\npublic static class WhatapDiagnostic\n{\n    private static readonly DiagnosticSource diagnosticSource = new DiagnosticListener("WhatapDiagnosticListener");\n\n    public static void TraceStart(string host, string url, string userId)\n    {\n        if (diagnosticSource.IsEnabled("Whatap.Diagnostic.Trace.Start"))\n        {\n            diagnosticSource.Write("Whatap.Diagnostic.Trace.Start", new { Host = host, Url = url, UserId = userId });\n            Console.WriteLine("Whatap.Diagnostic.Trace.Start!");\n        }\n    }\n\n    public static void SetExceptionForTrace(Exception exception)\n    {\n        if (diagnosticSource.IsEnabled("Whatap.Diagnostic.Trace.Exception"))\n        {\n            diagnosticSource.Write("Whatap.Diagnostic.Trace.Exception", exception);\n        }\n    }\n\n    public static void StepStart(string message)\n    {\n        diagnosticSource.Write("Whatap.Diagnostic.Step.Start", message);\n    }\n\n    public static void StepStop()\n    {\n        diagnosticSource.Write("Whatap.Diagnostic.Step.Stop", new { });\n    }\n\n    public static void TraceStop()\n    {\n        if (diagnosticSource.IsEnabled("Whatap.Diagnostic.Trace.Stop"))\n        {\n            diagnosticSource.Write("Whatap.Diagnostic.Trace.Stop", new { });\n        }\n    }\n\n    public static void UserLog(string message)\n    {\n        if (diagnosticSource.IsEnabled("Whatap.Diagnostic.UserLog"))\n        {\n            diagnosticSource.Write("Whatap.Diagnostic.UserLog", message);\n        }\n    }\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(t,{priority:"1",children:"New"})," Supported the Method hook."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"You can monitor by specifying the method name. See the following configuration."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-C",children:"hook_methods_enabled=true\nhook_methods_prefix=System.Net.Http.HttpClient., System.Net.WebRequest., System.Data., System.Net.Http.\nhook_methods_ignores=get,set\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Set the value of the ",(0,o.jsx)(n.code,{children:"hook_methods_enabled"})," option to ",(0,o.jsx)(n.code,{children:"true"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The value of the ",(0,o.jsx)(n.code,{children:"hook_methods_prefix"})," option becomes the monitoring target when the first part of the option value matches. Separate with comma (,)."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The value of the ",(0,o.jsx)(n.code,{children:"hook_methods_ignore"})," option is excluded from monitoring when the first part of the value matches."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(t,{priority:"1",children:"New"})," Added the feature to support the WebClient.DownloadString method monitoring."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(t,{priority:"1",children:"Changed"})," Processed the response body option."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Added the enabling option instead of the default setting because the string encoding-related error was found."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The default value of the ",(0,o.jsx)(n.code,{children:"profile_http_response_body_enabled"})," option is ",(0,o.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{}),(0,o.jsx)(n.p,{children:"Support for string encoding is under development."})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(t,{priority:"1",children:"Changed"})," Changed the Redis output format for the .NET Framework version."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"The decoration effect has been applied to match the output method of .Net Core."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(t,{priority:"1",children:"Deprecate"})," Removed the ",(0,o.jsx)(n.code,{children:"trace_db_command_methods"})," option."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"This option is currently not required due to automatic processing of monitoring targets."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"The methods excluded from monitoring can be processed using the Method hook."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-C",children:"hook_methods_enabled=true\nhook_methods_prefix=System.Data., ...\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n","\n",(0,o.jsx)(r.Ay,{})]})}function p(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},84429:function(e,n,t){t.d(n,{R:()=>r,x:()=>a});var i=t(96540);let o={},s=i.createContext(o);function r(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);