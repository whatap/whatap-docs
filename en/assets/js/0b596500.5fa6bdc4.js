"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["89765"],{79574:function(e,t,a){a.r(t),a.d(t,{metadata:()=>n,default:()=>d,frontMatter:()=>o,contentTitle:()=>c,toc:()=>l,assets:()=>r});var n=JSON.parse('{"id":"java/scale-in-auto-delete","title":"Automatic deletion of the agent in Scale In","description":"The following explains how to automatically delete the Java agent when an automatically scaled system performs Scale In in the Auto Scale environment. The agent sends a SILENT_SHUTDOWN event to the server by creating a specific file, which automatically removes the agent from the list. This process facilitates agent management when the system automatically scales down, and manages resources efficiently without additional intervention.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/java/scale-in-auto-delete.mdx","sourceDirName":"java","slug":"/java/scale-in-auto-delete","permalink":"/whatap-docs/en/java/scale-in-auto-delete","draft":false,"unlisted":false,"editUrl":"undefined/docs/java/scale-in-auto-delete.mdx","tags":[],"version":"current","frontMatter":{"id":"scale-in-auto-delete","title":"Automatic deletion of the agent in Scale In","description":"The following explains how to automatically delete the Java agent when an automatically scaled system performs Scale In in the Auto Scale environment. The agent sends a SILENT_SHUTDOWN event to the server by creating a specific file, which automatically removes the agent from the list. This process facilitates agent management when the system automatically scales down, and manages resources efficiently without additional intervention.","keywords":["Java","Agent"],"isTranslationMissing":false},"sidebar":"javaSidebar","previous":{"title":"AES 256 encryption","permalink":"/whatap-docs/en/java/aes-256-encryption"},"next":{"title":"Dashboard","permalink":"/whatap-docs/en/java/dashboard-intro"}}'),s=a(74848),i=a(84429);let o={id:"scale-in-auto-delete",title:"Automatic deletion of the agent in Scale In",description:"The following explains how to automatically delete the Java agent when an automatically scaled system performs Scale In in the Auto Scale environment. The agent sends a SILENT_SHUTDOWN event to the server by creating a specific file, which automatically removes the agent from the list. This process facilitates agent management when the system automatically scales down, and manages resources efficiently without additional intervention.",keywords:["Java","Agent"],isTranslationMissing:!1},c,r={},l=[];function h(e){let t={admonition:"admonition",code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"If an agent name is automatically assigned in the Auto Scale environment, administrator's intervention is not required when a scale out occurs. The system scales up automatically. If a scale in occurs, the system must recognize it as a graceful shutdown."}),"\n",(0,s.jsxs)(t.p,{children:["For automatic deletion of the agent, the WhaTap server must receive messages from the Java agent. The agent sends a ",(0,s.jsx)(t.strong,{children:"SILENT_SHUTDOWN"})," event to the Whatap server when the ",(0,s.jsx)(t.em,{children:"whatap"}),(0,s.jsx)(t.code,{children:"{java-process-pid}"}),".shutdown_ file of the Java process appears in ",(0,s.jsx)(t.code,{children:"${WHATAP_HOME}"}),". Transfers are completed within 5 seconds."]}),"\n",(0,s.jsxs)(t.p,{children:["When the ",(0,s.jsx)(t.strong,{children:"SILENT_SHUTDOWN"})," event has been transferred to the WhaTap server and then the agent is shut down within 1 minute, the WhaTap server deletes the agent from the list. Any inactive event does not occur."]}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsxs)(t.p,{children:["In case of Tomcat, you can configure in the ",(0,s.jsx)(t.em,{children:"shutdown.sh"})," file."]}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",metastring:"title=$TOMCAT_HOME/bin/shutdown.sh",children:"touch $WHATAP_HOME/whatap_{java-process-pid}.shutdown\n"})})]})]})}function d(e={}){let{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},84429:function(e,t,a){a.d(t,{R:()=>o,x:()=>c});var n=a(96540);let s={},i=n.createContext(s);function o(e){let t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);