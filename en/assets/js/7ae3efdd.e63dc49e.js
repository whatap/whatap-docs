"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["98447"],{32983:function(e,r,t){t.r(r),t.d(r,{metadata:()=>n,default:()=>h,frontMatter:()=>o,contentTitle:()=>a,toc:()=>l,assets:()=>c});var n=JSON.parse('{"id":"browser/browser-preset","title":"Preliminary configuration","description":"It provides a preliminary configuration method for applying browser agents.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/browser/browser-preset.mdx","sourceDirName":"browser","slug":"/browser/browser-preset","permalink":"/whatap-docs/en/browser/browser-preset","draft":false,"unlisted":false,"editUrl":"undefined/docs/browser/browser-preset.mdx","tags":[],"version":"current","frontMatter":{"id":"browser-preset","title":"Preliminary configuration","description":"It provides a preliminary configuration method for applying browser agents.","keywords":["Browser Monitoring","Preliminary configuration"],"isTranslationMissing":false},"sidebar":"rumsSidebar","previous":{"title":"Browser Compatibility","permalink":"/whatap-docs/en/browser/browser-compatibility"},"next":{"title":"Application of the browser agent","permalink":"/whatap-docs/en/browser/apply-agent"}}'),i=t(74848),s=t(84429);let o={id:"browser-preset",title:"Preliminary configuration",description:"It provides a preliminary configuration method for applying browser agents.",keywords:["Browser Monitoring","Preliminary configuration"],isTranslationMissing:!1},a,c={},l=[{value:"Content Security Policy Settings",id:"content-security-policy-settings",level:2},{value:"Timing-Allow-Origin Setting",id:"timing-allow-origin-setting",level:2}];function d(e){let r={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",section:"section",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.p,{children:"Apply the browser agent and then proceed with the preliminary configuration according to the instructions for data collection."}),"\n",(0,i.jsxs)(r.section,{className:"remark-sectionize-h2",children:[(0,i.jsx)(r.h2,{id:"content-security-policy-settings",children:"Content Security Policy Settings"}),(0,i.jsx)(r.p,{children:"In case of web applications with the content security policy (CSP) settings, add the CDN URL of the browser agent and the URL of the collection server for sending the collected data."}),(0,i.jsx)(r.p,{children:"In addition, the browser agent needs to add the web worker-related CSP options for efficient data transfer."}),(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Directive"}),(0,i.jsx)(r.th,{children:"Source"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"script-src, script-src-elem"}),(0,i.jsx)(r.td,{children:"unsafe-inline"}),(0,i.jsx)(r.td,{children:"Install the browser agent by using an inline script."})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"script-src, script-src-elem"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://repo.whatap-browser-agent.io/rum/prod/",children:"https://repo.whatap-browser-agent.io/rum/prod/"})}),(0,i.jsx)(r.td,{children:"Browser agent CDN domain"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"connect-src"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://rum-ap-northeast-2.whatap-browser-agent.io",children:"https://rum-ap-northeast-2.whatap-browser-agent.io"})}),(0,i.jsx)(r.td,{children:"Domain for transmission of collected data"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"worker-src, child-src"}),(0,i.jsx)(r.td,{children:"blob:"}),(0,i.jsx)(r.td,{children:"Web worker-related CSP options for efficient data transfer by the browser agent (recommended)"})]})]})]})]}),"\n",(0,i.jsxs)(r.section,{className:"remark-sectionize-h2",children:[(0,i.jsx)(r.h2,{id:"timing-allow-origin-setting",children:"Timing-Allow-Origin Setting"}),(0,i.jsxs)(r.p,{children:["If you apply CORS to the server that provides resources, most resource timing properties return 0. In order for the browser agent to collect property values of resources, the server must return the ",(0,i.jsx)(r.code,{children:"Timing-Allow-Origin"})," HTTP response header."]}),(0,i.jsx)(r.p,{children:"If you can control the server that provides resources, add headers to each response and all domains that access the properties (the domain of the website to which the browser agent is applied)."}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Example 1: Resource timing data is provided from all sources.","\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:"Timing-Allow-Origin: *\n"})}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["Example 2: Resource timing data is provided only in the domain of the web application to which the browser agent is applied.","\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:"Timing-Allow-Origin: www.site.com\n"})}),"\n"]}),"\n"]})]})]})}function h(e={}){let{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},84429:function(e,r,t){t.d(r,{R:()=>o,x:()=>a});var n=t(96540);let i={},s=n.createContext(i);function o(e){let r=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);