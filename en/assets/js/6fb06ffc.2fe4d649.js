"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["99121"],{52303:function(e,n,s){s.r(n),s.d(n,{metadata:()=>i,default:()=>h,frontMatter:()=>c,contentTitle:()=>d,toc:()=>l,assets:()=>o});var i=JSON.parse('{"id":"server/agent-gpu","title":"GPU Feature","description":"Describes GPU agent support and update methods.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/server/agent-gpu.mdx","sourceDirName":"server","slug":"/server/agent-gpu","permalink":"/whatap-docs/en/server/agent-gpu","draft":false,"unlisted":false,"editUrl":"undefined/docs/server/agent-gpu.mdx","tags":[],"version":"current","frontMatter":{"id":"agent-gpu","title":"GPU Feature","description":"Describes GPU agent support and update methods.","toc_max_heading_level":3,"keywords":["Server","GPU Feature","Update"],"isTranslationMissing":false},"sidebar":"serverSidebar","previous":{"title":"Advanced functions","permalink":"/whatap-docs/en/server/advanced-feature"},"next":{"title":"Agent Update","permalink":"/whatap-docs/en/server/agent-update"}}'),r=s(74848),t=s(84429);let c={id:"agent-gpu",title:"GPU Feature",description:"Describes GPU agent support and update methods.",toc_max_heading_level:3,keywords:["Server","GPU Feature","Update"],isTranslationMissing:!1},d,o={},l=[{value:"GPU Monitoring Support Environment",id:"gpu-monitoring-support-environment",level:2},{value:"GPU Features",id:"gpu-features",level:2},{value:"GPU Options",id:"gpu-options",level:3}];function a(e){let n={admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"This guide provides information about the agent environment and GPU options required to enable GPU monitoring."}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"gpu-monitoring-support-environment",children:"GPU Monitoring Support Environment"}),(0,r.jsxs)(n.p,{children:["By default, performance and inventory data can be collected using ",(0,r.jsx)(n.code,{children:"nvidia-smi"}),". However, if ",(0,r.jsx)(n.code,{children:"nvidia-dcgm"})," is installed, additional metrics can be collected.",(0,r.jsx)(n.br,{}),"\n","When ",(0,r.jsx)(n.code,{children:"nvidia-dcgm"})," is present, the ",(0,r.jsx)(n.code,{children:"nvidia-dcgm"})," service must be running."]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["You can verify that the ",(0,r.jsx)(n.code,{children:"nvidia-dcgm"})," service is running properly with the following command:  ",(0,r.jsx)(n.code,{children:"systemctl status nvidia-dcgm"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"The list of collectable metrics may continue to grow over time."}),"\n"]}),"\n"]}),(0,r.jsx)("br",{}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Metrics Collectable with Only nvidia-smi"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"GPU_Util"})," ",(0,r.jsx)(n.code,{children:"Encoder_Util"})," ",(0,r.jsx)(n.code,{children:"Decoder_Util"})," ",(0,r.jsx)(n.code,{children:"Memory_Copy_Util"})," ",(0,r.jsx)(n.code,{children:"FB_Total_Memory"})," ",(0,r.jsx)(n.code,{children:"FB_Free_Memory"})," ",(0,r.jsx)(n.code,{children:"FB_Used_Memory"})," ",(0,r.jsx)(n.code,{children:"PerformanceState"})," ",(0,r.jsx)(n.code,{children:"Power_Usage"})," ",(0,r.jsx)(n.code,{children:"Fan_Speed"})," ",(0,r.jsx)(n.code,{children:"SM_Clock"})," ",(0,r.jsx)(n.code,{children:"Memory_Clock"})," ",(0,r.jsx)(n.code,{children:"Video_Clock"})]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Metrics Collectable with nvidia-dcgm"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"GR_Engine_Active"})," ",(0,r.jsx)(n.code,{children:"SM_Actve_Util"})," ",(0,r.jsx)(n.code,{children:"SM_Occupancy"})," ",(0,r.jsx)(n.code,{children:"Tensor_Core_Util"})," ",(0,r.jsx)(n.code,{children:"DRAM_Active_Util"})," ",(0,r.jsx)(n.code,{children:"FP64_Compute_Util"})," ",(0,r.jsx)(n.code,{children:"FP32_Compute_Util"})," ",(0,r.jsx)(n.code,{children:"FP16_Compute_Util"})," ",(0,r.jsx)(n.code,{children:"BAR1_Total_Memory"})," ",(0,r.jsx)(n.code,{children:"FB_Reserved_Memory"})," ",(0,r.jsx)(n.code,{children:"FB_Memory_Usage"})," ",(0,r.jsx)(n.code,{children:"ECC_SBE_Total"})," ",(0,r.jsx)(n.code,{children:"ECC_DBE_Total"})," ",(0,r.jsx)(n.code,{children:"GPU_Temperature"})," ",(0,r.jsx)(n.code,{children:"PCIe_TX"})," ",(0,r.jsx)(n.code,{children:"PCIe_RX"})," ",(0,r.jsx)(n.code,{children:"NVLink_TX"})," ",(0,r.jsx)(n.code,{children:"NVLink_RX"})]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"gpu-features",children:"GPU Features"}),(0,r.jsx)(n.p,{children:"To use the GPU Inventory and GPU Performance Summary features, you must update the agent to the required version and apply the necessary settings."}),(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Supported Version"})}),(0,r.jsx)(n.p,{children:"Linux 2.8.9 or later"})]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Amazon Linux, RHEL, Fedora, Oracle Linux, CentOS, Rocky Linux, SUSE"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo yum update whatap-infra\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Debian, Ubuntu"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt-get update\nsudo apt-get install whatap-infra\n"})}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"gpu-options",children:"GPU Options"}),(0,r.jsx)(n.p,{children:"To enable the GPU Inventory feature, the following options must be enabled:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"nvidiav2.enabled"})," ",(0,r.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"false"})]}),"\n",(0,r.jsx)(n.p,{children:"Option to collect NVIDIA GPU metrics including physical GPU configuration and resource usage."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"nvidiav2.mig.enabled"})," ",(0,r.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"false"})]}),"\n",(0,r.jsxs)(n.p,{children:["Option to collect metrics related to NVIDIA GPU MIG configuration and resource usage. Requires ",(0,r.jsx)(n.strong,{children:"nvidiav2.enabled"})," to be set to ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"nvidiav2.proc.enabled"})," ",(0,r.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"false"})]}),"\n",(0,r.jsxs)(n.p,{children:["Option to collect information about processes assigned to NVIDIA GPUs. Requires ",(0,r.jsx)(n.strong,{children:"nvidiav2.enabled"})," to be set to ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"nvidiav2.dcp.enabled"})," ",(0,r.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"true"})]}),"\n",(0,r.jsxs)(n.p,{children:["Option to collect NVIDIA DCP (Data Center Profiling) metrics. Requires ",(0,r.jsx)(n.strong,{children:"nvidiav2.enabled"})," to be set to ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"nvidiav2.interval.sec"})}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"30 seconds"})]}),"\n",(0,r.jsx)(n.p,{children:"Interval for collecting NVIDIA GPU metrics."}),"\n"]}),"\n"]})]})]})}function h(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},84429:function(e,n,s){s.d(n,{R:()=>c,x:()=>d});var i=s(96540);let r={},t=i.createContext(r);function c(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);