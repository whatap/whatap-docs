"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["19829"],{83054:function(e,n,s){s.r(n),s.d(n,{metadata:()=>t,default:()=>h,frontMatter:()=>r,contentTitle:()=>l,toc:()=>a,assets:()=>c});var t=JSON.parse('{"id":"faq/log-faq","title":"Log FAQs","description":"This document has FAQs of the WhaTap log monitoring service.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/faq/log-faq.mdx","sourceDirName":"faq","slug":"/faq/log-faq","permalink":"/whatap-docs/en/faq/log-faq","draft":false,"unlisted":false,"editUrl":"undefined/docs/faq/log-faq.mdx","tags":[],"version":"current","frontMatter":{"id":"log-faq","title":"Log FAQs","description":"This document has FAQs of the WhaTap log monitoring service.","keywords":["Log Monitoring","FAQ"],"isTranslationMissing":false},"sidebar":"faqSidebar","previous":{"title":"Database FAQs","permalink":"/whatap-docs/en/faq/db-faq"},"next":{"title":"Server FAQs","permalink":"/whatap-docs/en/faq/server-faq"}}'),o=s(74848),i=s(84429);let r={id:"log-faq",title:"Log FAQs",description:"This document has FAQs of the WhaTap log monitoring service.",keywords:["Log Monitoring","FAQ"],isTranslationMissing:!1},l,c={},a=[{value:"Restoration of the original log",id:"restoration-of-the-original-log",level:3},{value:"Log data deletion cycle",id:"log-data-deletion-cycle",level:3},{value:"Agent logs transmission cycle",id:"agent-logs-transmission-cycle",level:3},{value:"Integrating with third-party log solutions",id:"integrating-with-third-party-log-solutions",level:3},{value:"Log Collection by Platform",id:"log-collection-by-platform",level:3}];function d(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Cmdname:s,Details:t}=n;return s||g("Cmdname",!0),t||g("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Check out frequently asked questions from users about the WhaTap log monitoring service."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)("div",{className:"faqs",children:[(0,o.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,o.jsx)(n.h3,{id:"restoration-of-the-original-log",children:"Restoration of the original log"}),(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"Can I recover the original logs after collecting them?"}),"\n"]}),(0,o.jsx)(n.p,{children:"The function to restore the original logs is not provided. Currently, log collection is provided for analysis, not for security."})]}),(0,o.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,o.jsx)(n.h3,{id:"log-data-deletion-cycle",children:"Log data deletion cycle"}),(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"What is the log data deletion cycle?"}),"\n"]}),(0,o.jsxs)(n.p,{children:["It is the same as ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.em,{children:"Data retention"})})," set in ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.em,{children:"Log Configuration"})}),". However, because the loaded log retention period is in hours, data may remain for 1 hour in addition to the setting in ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.em,{children:"Data retention"})}),"."]}),(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["If ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.em,{children:"Data retention"})})," has not been set, the default value is 1 day. For more information about the setting in ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.em,{children:"Data retention"})}),", see ",(0,o.jsx)(n.a,{href:"../log/log-setting#log-data-setting",children:"the following"}),"."]})})]}),(0,o.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,o.jsx)(n.h3,{id:"agent-logs-transmission-cycle",children:"Agent logs transmission cycle"}),(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"What is the log transmission cycle from the agent?"}),"\n"]}),(0,o.jsxs)(n.p,{children:["Logs are sent when the agent's log buffer capacity (64 KB) or transmission cycle (2 seconds) is reached. It is compressed in a ",(0,o.jsx)(n.em,{children:"zip"})," file and transmitted during network transmission, and is decompressed and stored when received from the collection server."]})]}),(0,o.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,o.jsx)(n.h3,{id:"integrating-with-third-party-log-solutions",children:"Integrating with third-party log solutions"}),(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"Can it integrate with other log solutions?"}),"\n"]}),(0,o.jsx)(n.p,{children:"Currently, integration with third-party log solutions is not provided."})]}),(0,o.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,o.jsx)(n.h3,{id:"log-collection-by-platform",children:"Log Collection by Platform"}),(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"How can I collect logs for applications, servers, and Kubernetes?"}),"\n"]}),(0,o.jsx)(n.p,{children:"Log collection by platform is as follows."}),(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.strong,{children:"JAVA"})}),(0,o.jsxs)(n.p,{children:["The logs are collected by hooking in the ",(0,o.jsx)(n.code,{children:"log4j"})," and ",(0,o.jsx)(n.code,{children:"logback"})," log libraries."]}),(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["When using ",(0,o.jsx)(n.code,{children:"logback"})," or ",(0,o.jsx)(n.code,{children:"log4j"}),", you may need to set options for Appender-based log collection. For more information, see the ",(0,o.jsx)(n.a,{href:"../java/agent-weaving#%EC%A7%80%EC%9B%90-%EC%98%A4%ED%94%88%EC%86%8C%EC%8A%A4-%EB%AA%A9%EB%A1%9D",children:"Open source tracing"})," document in WhaTap Docs."]})})]}),(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.strong,{children:"Node.js"})}),(0,o.jsxs)(n.p,{children:["By hooking the built-in package process of Node.js, the logs for ",(0,o.jsx)(n.code,{children:"process.stdout"})," and ",(0,o.jsx)(n.code,{children:"process.stderr"})," are collected."]})]}),(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.strong,{children:"Python"})}),(0,o.jsxs)(n.p,{children:["The logs are collected by hooking in the ",(0,o.jsx)(n.code,{children:"logging"})," and ",(0,o.jsx)(n.code,{children:"loguru"})," log libraries."]})]}),(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.strong,{children:"PHP / Server"})}),(0,o.jsx)(n.p,{children:"Collection is made by specifying the log files to monitor."})]}),(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.strong,{children:"Go"})}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Collection is made by specifying the log files to monitor."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"Standard out"})," and ",(0,o.jsx)(n.code,{children:"Standard error"})," logs are collected for applications."]}),"\n"]}),"\n"]}),(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["To collect logs for standard outs and errors, extra settings are required.",(0,o.jsx)(n.br,{}),"\n","For more information, see the ",(0,o.jsx)(n.a,{href:"../golang/api-guide",children:"Go Monitoring > API Guide"})," document in WhaTap Docs."]})})]}),(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.strong,{children:"Kubernetes"})}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Container StdOut"})}),"\n",(0,o.jsxs)(n.p,{children:["The WhaTap Kubernetes agent collects ",(0,o.jsx)("strong",{children:"Container's standard output logs (Container stdout/stderr)"}),".\nThese logs are collected using two methods, depending on the purpose of use."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Logfile-based collection"})}),"\n",(0,o.jsxs)(n.p,{children:["This method directly reads log files stored in the file system of the Kubernetes node.",(0,o.jsx)(n.br,{}),"\n","The collected logs can be checked using the ",(0,o.jsx)(s,{sid:"side_log",className:"uitext"})," > ",(0,o.jsx)(s,{sid:"side_logExplorer",className:"uitext"}),", ",(0,o.jsx)(s,{sid:"side_logSearch",className:"uitext"}),", and ",(0,o.jsx)(s,{sid:"side_logTail",className:"uitext"})," features."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ini",metastring:'title="\uC640\uD0ED \uC5D0\uC774\uC804\uD2B8 \uB85C\uADF8 \uD30C\uC77C \uC218\uC9D1 \uACBD\uB85C"',children:"/var/log/pods/<namespace>_<pod-name>_<uid>/<container-name>/*.log\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ini",metastring:'title="\uC608\uC2DC"',children:"/var/log/pods/whatap_agent_7ddf2a4c-0877-4602-a38c-df07c4501ede/agent/0.log\n"})}),"\n",(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsxs)(n.p,{children:["If logs are not collected, connect to the node and then check if the log files exist in the above path. For more information about the log collection filters, see the ",(0,o.jsx)(n.a,{href:"../kubernetes/log#containerStdOut-%EB%A1%9C%EA%B7%B8-%ED%95%84%ED%84%B0-%EC%84%A4%EC%A0%95",children:"Kubernetes \uBAA8\uB2C8\uD130\uB9C1 > \uB85C\uADF8"})," document in WhaTap Docs."]})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Real-time lookup via kube-apiserver"})}),"\n",(0,o.jsx)(n.p,{children:"When you click a specific container in the container map, the Kubernetes API (kube-apiserver) is called in a way similar to the kubectl logs command to load the container logs in real time."}),"\n",(0,o.jsx)(n.p,{children:"This method is useful for quickly checking the container status, but it does not provide the search or long-term retention feature."}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Log tab"}),(0,o.jsx)(n.th,{children:"Click Container Map > Container"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Collection methods"}),(0,o.jsx)(n.td,{children:"Direct access to the node's file system"}),(0,o.jsx)(n.td,{children:"Call the kube-apiserver API"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Log location"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/var/log/pods/<namespace><pod-name><uid>/<container-name>/*.log"})}),(0,o.jsx)(n.td,{children:"Call the kube-apiserver API"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Use case"}),(0,o.jsx)(n.td,{children:"Search, Filtering, Live Tail"}),(0,o.jsx)(n.td,{children:"Check real-time status"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Retention"}),(0,o.jsx)(n.td,{children:"O"}),(0,o.jsx)(n.td,{children:"X (Real-time view only)"})]})]})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"K8s Event"})}),"\n",(0,o.jsx)(n.p,{children:"The Kubernetes event collection logs are collected after checking via the kubectl get events."}),"\n"]}),"\n"]})]})]})]}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.p,{children:"How to Configure Logs"}),(0,o.jsxs)(n.p,{children:["For the log configuration method, see the contents for each platform (e.g. JAVA, Node.js) in ",(0,o.jsx)(n.a,{href:"../log/introduction",children:"Log Monitoring"})," of WhaTap Docs."]})]})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}function g(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},84429:function(e,n,s){s.d(n,{R:()=>r,x:()=>l});var t=s(96540);let o={},i=t.createContext(o);function r(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);