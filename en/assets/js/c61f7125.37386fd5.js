"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["62183"],{33474:function(e,t,i){i.r(t),i.d(t,{metadata:()=>n,default:()=>h,frontMatter:()=>a,contentTitle:()=>o,toc:()=>l,assets:()=>c});var n=JSON.parse('{"id":"mxql/mxql-overview","title":"MXQL","description":"MXQL is a query language to flexibly query WhaTap\'s performance data (metrics).","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/mxql/mxql-overview.mdx","sourceDirName":"mxql","slug":"/mxql/mxql-overview","permalink":"/whatap-docs/en/mxql/mxql-overview","draft":false,"unlisted":false,"editUrl":"undefined/docs/mxql/mxql-overview.mdx","tags":[],"version":"current","frontMatter":{"id":"mxql-overview","title":"MXQL","description":"MXQL is a query language to flexibly query WhaTap\'s performance data (metrics).","displayed_sidebar":"learningSidebar","keywords":["MXQL","WhaTap","Metrics"],"isTranslationMissing":false},"sidebar":"learningSidebar","previous":{"title":"Using the TCP port monitoring","permalink":"/whatap-docs/en/best-practice-guides/about-tcp-port"},"next":{"title":"MXQL Syntax Guide","permalink":"/whatap-docs/en/mxql/mxql-guide"}}'),r=i(74848),s=i(84429);let a={id:"mxql-overview",title:"MXQL",description:"MXQL is a query language to flexibly query WhaTap's performance data (metrics).",displayed_sidebar:"learningSidebar",keywords:["MXQL","WhaTap","Metrics"],isTranslationMissing:!1},o,c={},l=[{value:"What is MXQL?",id:"what-is-mxql",level:2},{value:"Difference between MXQL and SQL",id:"difference-between-mxql-and-sql",level:2},{value:"Terms",id:"terms",level:3},{value:"Query",id:"query",level:3},{value:"Execution result",id:"execution-result",level:2}];function d(e){let t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",section:"section",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components},{ImgLang:i}=t;return i||function(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImgLang",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["Before learning MXQL, it is recommended to be familiar with the concept of metrics. For more information about metrics, see ",(0,r.jsx)(t.a,{href:"../metrics/common-metrics-intro",children:"the following"}),"."]})}),"\n",(0,r.jsxs)(t.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(t.h2,{id:"what-is-mxql",children:"What is MXQL?"}),(0,r.jsx)(t.p,{children:"MXQL is a query language to flexibly query WhaTap's performance data (metrics). It is used to comprehensively search and use the metrics collected from multiple agents in a project."})]}),"\n",(0,r.jsxs)(t.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(t.h2,{id:"difference-between-mxql-and-sql",children:"Difference between MXQL and SQL"}),(0,r.jsx)(t.p,{children:"Let's learn about the concept of MXQL by comparing it with well-known SQL."})]}),"\n",(0,r.jsxs)(t.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(t.h3,{id:"terms",children:"Terms"}),(0,r.jsx)(t.p,{children:"First, let's look at the terms used in SQL."}),(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:"https://img.whatap.io/media/images/mxql-6.png",alt:"SQL data saving structure"})}),(0,r.jsx)(t.p,{children:"As above, the WhaTap database includes the product table. The product table contains ID, description, and two columns. The terms of MXQL that correspond to database, table, and column of SQL are database, category, and field, respectively."}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Storage method"}),(0,r.jsx)(t.th,{children:"MXQL"}),(0,r.jsx)(t.th,{children:"SQL"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Major"}),(0,r.jsx)(t.td,{children:"Database"}),(0,r.jsx)(t.td,{children:"Database"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Sub-major"}),(0,r.jsx)(t.td,{children:"Category"}),(0,r.jsx)(t.td,{children:"Table"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Minor"}),(0,r.jsx)(t.td,{children:"Field"}),(0,r.jsx)(t.td,{children:"Column"})]})]})]})]}),"\n",(0,r.jsxs)(t.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(t.h3,{id:"query",children:"Query"}),(0,r.jsx)(t.p,{children:"It is a sample query in MXQL and SQL. See comments to the right of each line in MX."}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sql",metastring:"title='SQL query'",children:"SELECT time, pcode  -- Column selection (Set to search only the time and pcode columns.)\nFROM app_counter    -- Table selection (Data is searched in the app_counter table.)\nWHERE tx_count = 1  -- Data filtering (Set to search only the data whose value of tx_count column is 1.)\n"})}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sql",metastring:"title='MXQL query'",children:"CATEGORY app_counter                 -- Set to search data in the app_counter category.\nTAGLOAD                              -- Data is searched.\nSELECT [ time, pcode ]               -- Select only the time and pcode fields from all columns searched.\nFILTER { key : tx_count, value : 5}  -- Leave only the data with a value of 5 in the tx_count field.\n"})})]}),"\n",(0,r.jsxs)(t.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(t.h2,{id:"execution-result",children:"Execution result"}),(0,r.jsx)(t.p,{children:"When you perform an MXQL query, it retrieves the metrics of the selected field in the selected category."}),(0,r.jsxs)(t.p,{children:["The query to search for the ",(0,r.jsx)(t.code,{children:"tx_count"})," and ",(0,r.jsx)(t.code,{children:"tx_error"})," metrics in the ",(0,r.jsx)(t.code,{children:"app_counter"})," category is as follows:"]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sql",metastring:"title='MXQL'",children:"CATEGORY app_counter                   -- Set to search data in the app_counter category.\nTAGLOAD                                -- Data is searched.\nSELECT [time, oid, tx_count, tx_error] -- Set the name of the field to search for.\n"})}),(0,r.jsx)(t.p,{children:"When a query is performed, it retrieves the metrics as follows:"}),(0,r.jsx)(i,{img:"mxql_overview.png",desc:"Example of MXQL execution result"}),(0,r.jsxs)(t.p,{children:["Because the metrics have always ",(0,r.jsx)(t.code,{children:"time"})," and ",(0,r.jsx)(t.code,{children:"oid"})," values, it is recommended to include ",(0,r.jsx)(t.code,{children:"time"})," and ",(0,r.jsx)(t.code,{children:"oid"})," fields in MXQL queries. You can check when (",(0,r.jsx)(t.code,{children:"time"}),") and from which agent (",(0,r.jsx)(t.code,{children:"oid"}),") the metrics were collected."]})]})]})}function h(e={}){let{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},84429:function(e,t,i){i.d(t,{R:()=>a,x:()=>o});var n=i(96540);let r={},s=n.createContext(r);function a(e){let t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);