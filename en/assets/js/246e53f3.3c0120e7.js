"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["50872"],{8569:function(e,s,n){n.r(s),n.d(s,{metadata:()=>t,default:()=>h,frontMatter:()=>r,contentTitle:()=>c,toc:()=>o,assets:()=>a});var t=JSON.parse('{"id":"mssql/analysis-deadlock","title":"Dead lock","description":"It provides detailed information based on the data collected at an interval of 5 seconds for deadlocks that occurred in SQL Server.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/mssql/analysis-deadlock.mdx","sourceDirName":"mssql","slug":"/mssql/analysis-deadlock","permalink":"/whatap-docs/en/mssql/analysis-deadlock","draft":false,"unlisted":false,"editUrl":"undefined/docs/mssql/analysis-deadlock.mdx","tags":[],"version":"current","frontMatter":{"id":"analysis-deadlock","title":"Dead lock","description":"It provides detailed information based on the data collected at an interval of 5 seconds for deadlocks that occurred in SQL Server.","keywords":["SQL Server","DATABASE","Dead lock","Deadlock"],"isTranslationMissing":false},"sidebar":"mssqlSidebar","previous":{"title":"Lock tree","permalink":"/whatap-docs/en/mssql/analysis-lock-tree"},"next":{"title":"Database Parameter","permalink":"/whatap-docs/en/mssql/analysis-databaseparameter"}}'),i=n(74848),d=n(84429);let r={id:"analysis-deadlock",title:"Dead lock",description:"It provides detailed information based on the data collected at an interval of 5 seconds for deadlocks that occurred in SQL Server.",keywords:["SQL Server","DATABASE","Dead lock","Deadlock"],isTranslationMissing:!1},c,a={},o=[{value:"Basic usage guide",id:"basic-usage-guide",level:2},{value:"Column guide",id:"column-guide",level:2}];function l(e){let s={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components},{Cmdname:t,ImgLang:r}=s;return t||u("Cmdname",!0),r||u("ImgLang",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:["Home > Select Project > ",(0,i.jsx)(t,{sid:"side_analysis",className:"uitext"})," > ",(0,i.jsx)(t,{sid:"side_deadLock",className:"uitext"})]}),"\n",(0,i.jsx)(s.p,{children:"It provides detailed information based on the data collected at an interval of 5 seconds for deadlocks that occurred in SQL Server."}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Deadlock"})," is a situation where two or more sessions are waiting for resources owned by each other and never end. SQL Server detects this deadlock condition and resolves it by forcibly terminating specific transactions. However, frequent deadlocks cause system performance degradation and poor user experience, so proper monitoring and tuning are required."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["This feature is available in ",(0,i.jsx)(s.a,{href:"../release-notes/db/dbx-2_2_2",children:"DBX agent 2.2.2"})," or later."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"This feature requires the following permission. Use the SQL command below to grant it."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",children:"USE master;\nGRANT EXECUTE ON xp_readerrorlog TO whatap;\n"})}),"\n"]}),"\n"]})}),"\n",(0,i.jsxs)(s.section,{className:"remark-sectionize-h2",children:[(0,i.jsx)(s.h2,{id:"basic-usage-guide",children:"Basic usage guide"}),(0,i.jsx)(s.p,{children:"Users can query deadlock events by selecting a specific time, instance, and database."}),(0,i.jsx)(r,{img:"db-deadlock-basic-mssql-v2.png",desc:"Deadlock"}),(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Select the date to view and set the time in ",(0,i.jsx)(t,{sid:"time",className:"uitext"})," at the top of the screen."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["In ",(0,i.jsx)(t,{sid:"instance",className:"uitext"}),", select agents (instances) and databases to monitor."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Select ",(0,i.jsx)(s.img,{alt:"Search icon",src:n(9729).A+"",width:"35",height:"29"}),"."]}),"\n"]}),"\n"]}),(0,i.jsxs)(s.p,{children:["You can see the deadlocks that occurred during the set period in the selected instance. Hover the mouse over the ",(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:"query"})})," column to preview the SQL statement."]}),(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"The query time can be set up to 3 weeks."}),"\n"]})}),(0,i.jsxs)(s.admonition,{type:"tip",children:[(0,i.jsx)(s.p,{children:"Analyze the causes of deadlock occurrence and identify frequent deadlock patterns."}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Redesign queries to minimize duplicate access to the same resources."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Use appropriate indexes to streamline data access paths."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Keep transactions short and avoid unnecessary tasks within them."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"If necessary, adjust lock priorities or restructure queries to reduce the potential of conflicts."}),"\n"]}),"\n"]})]})]}),"\n",(0,i.jsxs)(s.section,{className:"remark-sectionize-h2",children:[(0,i.jsx)(s.h2,{id:"column-guide",children:"Column guide"}),(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Item"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Dead Lock Time"})}),(0,i.jsx)(s.td,{children:"Deadlock occurrence time. This allows you to analyze transactions over a specific period."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Dead Count"})}),(0,i.jsx)(s.td,{children:"Number of deadlocks that occurred in the same period. You can assess the problem severity by determining the frequency of deadlocks."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"State"})}),(0,i.jsx)(s.td,{children:"Deadlock event staus. You can check whether the detected deadlock was handled."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Query"})}),(0,i.jsx)(s.td,{children:"Content of the query that caused the deadlock. It provides important information for query optimization and deadlock resolution."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"DB Id"})}),(0,i.jsx)(s.td,{children:"ID of the database where the deadlock occurred. By identifying the database, the cause of the problem can be narrowed down."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"HoBT Id"})}),(0,i.jsx)(s.td,{children:"ID of the resource (Heap or B-Tree) where the deadlock occurred."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"SPID"})}),(0,i.jsx)(s.td,{children:"Process ID (Session Process ID) involved in the deadlock. You can identify the session that caused the problem."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Mode"})}),(0,i.jsx)(s.td,{children:"It Indicates the lock mode (e.g. shared lock, exclusive lock) where the deadlock occurred."})]})]})]})]})]})}function h(e={}){let{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}function u(e,s){throw Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},9729:function(e,s,n){n.d(s,{A:()=>t});let t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAdCAYAAAAgqdWEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMC1jMDAwIDc5LjE3MWMyN2ZhYiwgMjAyMi8wOC8xNi0yMjozNTo0MSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5NGYxMDZkYi1mOWQ1LTRkNWItYjg1Mi01N2E4OWQ4N2NiODAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkM0RjAyQzM1MTBFMTFFRDk1NTBFNTZGQjUwMkEyQzYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkM0RjAyQzI1MTBFMTFFRDk1NTBFNTZGQjUwMkEyQzYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphMzM1ZWVmNC1mYjZhLTRkNzctOWI5MS0yZDViNTU2OTE4YTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTRmMTA2ZGItZjlkNS00ZDViLWI4NTItNTdhODlkODdjYjgwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+xFhE8QAAA2NJREFUeNrMl0tIVGEUx//fd2fm3nGaZHwkA+KjFylBWG5amG10GRGW9AKjRVFRCSJEQUPRokioNulCAhFsV2LiKogIwl7SoiyVsdJ8Vb5G5z3f1/luumk12lynw2WGy1zm/L7z+J9zmZRy4u1gIs/XEV78OC5g0xjostwSEojTR6mXw3fYcO3aok2y15/j83suL7rBgeI8bj4opfUwbOnAw5MCoOv5DVdAG8luvPR1RuqbCUSsAcTfluNmmA5J+MdFlA8Q2cZcjrhAWkz5Vf4VB3dQgUik15R/xcFV7mSaaZR/xcH/9U9SeRDbarpAUJ5HpgVkhO6X4pyZzZDjYogl1ghG04DpRYm5XxKHKm3YV26HywkMjAnc64nBPyxQULh6eUgahpOPnwGJBYrGk6sZ2LvDhukFIEhtWbWToa5Kx/nmEDpexFDs5dZGJhKTCISBRw1OE+Ts/RAePIubVWfYgYcXDbRecELjEh29CRR4Vt6lSR9hbFbi+G4NVWU2HL0dRHtXFN4sIN8D2DWJGl8IbwYTuFLrhJ2OGFuFbvGkW4+iUlvhwMB3gc6XceQVa9BtzJxluW6OGNVO0+MICjYwVJdwTAWkNTBqqAkHQyZ1y3xQQvw1TNUYcdDvs4t/ALLWUVfFLYqMjZ5iVDOfRhIo26TByABmCIovAdmpyySlsWKbRrUFvKKu8mRYBKPMlcnQ1B2lAgVaTuoI07rhnxCYmJMY9gtkehnqDxjo7o2i/wvdZzDruimXQt9PJ/a1h+E7ZmB7iw3NPREMEFRlqYb6/QZ0BzA+Q3pE7R+MSLh0tqJNYEWil0/6cas7ZgLcrHPi7imnOXVVeNueRjFFqWo8qMPjAk7fCUN4AbfBTMVOKYzqKFU7RTkMne/i6Hq/gHJS2zxKX983gbFRWgGoXlQdNdTocFOxn2kNmxEy7Cz1kVmW+CLaP9QM+kAR6hsF1uu0JRJYiIr8WlsEBqXrRLWOwuwohmhPUaKY1NwrOReYp293qlbJWFzS5gZku1R6JBykRUnOqQBHCk05tZNzDwlgMCrNhUlaVcBJAxGEqT1W6cxaGF9e+dJpy6svj9LgSTOL6V9x8K30vuT/IUwNSYcpv8q/4uDXjxj08gIM0ZxR4VqrlC37Un6Vf8XB/qd37d8CDAAmlWmEg71//QAAAABJRU5ErkJggg=="},84429:function(e,s,n){n.d(s,{R:()=>r,x:()=>c});var t=n(96540);let i={},d=t.createContext(i);function r(e){let s=t.useContext(d);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(d.Provider,{value:s},e.children)}}}]);