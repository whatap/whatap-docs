"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["97212"],{95463:function(e,n,s){s.r(n),s.d(n,{metadata:()=>a,default:()=>h,frontMatter:()=>i,contentTitle:()=>o,toc:()=>c,assets:()=>l});var a=JSON.parse('{"id":"java/agent-usage","title":"Collection of CPU/memory/disk usage","description":"The following explains how the Java agent collects CPU, memory, and disk usage. Java\'s JMX library is basically used. If necessary, you can see how to collect performance metrics through Linux\'s proc directory or oshi and sigar libraries.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/java/agent-usage.mdx","sourceDirName":"java","slug":"/java/agent-usage","permalink":"/whatap-docs/en/java/agent-usage","draft":false,"unlisted":false,"editUrl":"undefined/docs/java/agent-usage.mdx","tags":[],"version":"current","frontMatter":{"id":"agent-usage","title":"Collection of CPU/memory/disk usage","description":"The following explains how the Java agent collects CPU, memory, and disk usage. Java\'s JMX library is basically used. If necessary, you can see how to collect performance metrics through Linux\'s proc directory or oshi and sigar libraries.","keywords":["Java","Application","Agent"],"isTranslationMissing":false},"sidebar":"javaSidebar","previous":{"title":"Control of agent functions","permalink":"/whatap-docs/en/java/agent-control-function"},"next":{"title":"Agent communication settings","permalink":"/whatap-docs/en/java/agent-network"}}'),t=s(74848),r=s(84429);let i={id:"agent-usage",title:"Collection of CPU/memory/disk usage",description:"The following explains how the Java agent collects CPU, memory, and disk usage. Java's JMX library is basically used. If necessary, you can see how to collect performance metrics through Linux's proc directory or oshi and sigar libraries.",keywords:["Java","Application","Agent"],isTranslationMissing:!1},o,l={},c=[];function d(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"The following explains how the Java agent collects CPU, memory, and disk usage. Java's JMX library is basically used. If necessary, you can see how to collect performance metrics through Linux's proc directory or oshi and sigar libraries."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"linux_proc_stat_enabled"})," ",(0,t.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,t.jsxs)(n.p,{children:["Default ",(0,t.jsx)(n.code,{children:"false"})]}),"\n",(0,t.jsxs)(n.p,{children:["For CPU, memory, and disk usages, set whether or not to collect from the Linux's ",(0,t.jsx)(n.em,{children:"proc"})," directory."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"oshi_enabled"})," ",(0,t.jsx)("span",{class:"type",children:"Boolean"})," ",(0,t.jsx)("code",{class:"my",children:"Java Agent v2.1.0 or later"})]}),"\n",(0,t.jsxs)(n.p,{children:["Default ",(0,t.jsx)(n.code,{children:"false"})]}),"\n",(0,t.jsx)(n.p,{children:"When measuring the CPU, memory, and disk usages, set whether or not to use the OSHI libraries."}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"It is recommended to use it in the environment with Java 8 or later."})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"oshi_netstat_enabled"})," ",(0,t.jsx)("span",{class:"type",children:"Boolean"})," ",(0,t.jsx)("code",{class:"my",children:"Java Agent v2.2.31 or later"})]}),"\n",(0,t.jsxs)(n.p,{children:["Default ",(0,t.jsx)(n.code,{children:"false"})]}),"\n",(0,t.jsx)(n.p,{children:"Set whether or not to collect netstat metrics. The Maximum Transmission Unit (MTU) metric is added."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"sigar_enabled"})," ",(0,t.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,t.jsxs)(n.p,{children:["Default ",(0,t.jsx)(n.code,{children:"false"})]}),"\n",(0,t.jsxs)(n.p,{children:["The OS data collection through the sigar library is enabled. The OS resource data includes CPU, memory, and disk that are collected every 5 minutes through the sigar library. If the ",(0,t.jsx)(n.code,{children:"enabled"})," option is ",(0,t.jsx)(n.code,{children:"false"}),", this is disabled."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In earlier than whatap.agent.2.1.0, the default value is ",(0,t.jsx)(n.code,{children:"true"}),". In whatap.agent.2.1.0 or later, the default value is ",(0,t.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In Java 8 or earlier or Java 1.6 or earlier, you can enable the sigar library and collect performance metrics by adding the ",(0,t.jsx)(n.code,{children:"sigar_enabled=true"})," option."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Depending on the application environment, you may see CPU metrics displayed as ",(0,t.jsx)(n.strong,{children:"-1"}),". You can check the recommendations provided by WhaTap and then resolve the issues. See ",(0,t.jsx)(n.a,{href:"agent-troubleshooting#cpumetrics",children:"the following"}),"."]}),"\n"]}),"\n"]})}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},84429:function(e,n,s){s.d(n,{R:()=>i,x:()=>o});var a=s(96540);let t={},r=a.createContext(t);function i(e){let n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);