"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["82143"],{65690:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,default:()=>h,frontMatter:()=>o,contentTitle:()=>l,toc:()=>d,assets:()=>c});var i=JSON.parse('{"id":"release-notes/java/java-2_1_2","title":"Java Agent v2.1.2","description":"Change (update)","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/release-notes/java/java-2.1.2.mdx","sourceDirName":"release-notes/java","slug":"/release-notes/java/java-2_1_2","permalink":"/whatap-docs/en/release-notes/java/java-2_1_2","draft":false,"unlisted":false,"editUrl":"undefined/docs/release-notes/java/java-2.1.2.mdx","tags":[],"version":"current","frontMatter":{"id":"java-2_1_2","title":"Java Agent v2.1.2","toc_max_heading_level":2,"displayed_sidebar":"releaseSidebar","isTranslationMissing":false},"sidebar":"releaseSidebar"}'),a=t(74848),s=t(84429);t(31377),t(4344);let o={id:"java-2_1_2",title:"Java Agent v2.1.2",toc_max_heading_level:2,displayed_sidebar:"releaseSidebar",isTranslationMissing:!1},l,c={},d=[{value:"Change (update)",id:"change-update",level:2},{value:"Adding the weaving setting",id:"adding-the-weaving-setting",level:3},{value:"Adding the thread stop setting",id:"adding-the-thread-stop-setting",level:3},{value:"Modifying the Collection Monitoring",id:"collectionmonitor",level:3},{value:"Adding the number of errors upon database call to the real-time statistics",id:"adding-the-number-of-errors-upon-database-call-to-the-real-time-statistics",level:3},{value:"Adding the real-time logs to connect the HTTP and database",id:"adding-the-real-time-logs-to-connect-the-http-and-database",level:3},{value:"Display of oname specified in the agent log",id:"display-of-oname-specified-in-the-agent-log",level:3},{value:"Adding the JDBC URL extraction delimiter",id:"adding-the-jdbc-url-extraction-delimiter",level:3},{value:"Adding the automatic recognition function when using the log open source",id:"adding-the-automatic-recognition-function-when-using-the-log-open-source",level:3},{value:"Adding the logsink collection data",id:"adding-the-logsink-collection-data",level:3},{value:"Application of HttpClient Timeout and error handling",id:"application-of-httpclient-timeout-and-error-handling",level:3},{value:"Adding the JMX pool setting",id:"adding-the-jmx-pool-setting",level:3},{value:"Modification of the active start part of the batch agent",id:"modification-of-the-active-start-part-of-the-batch-agent",level:3},{value:"Adding the thread name display setting on the active stack",id:"adding-the-thread-name-display-setting-on-the-active-stack",level:3},{value:"Adding the setting to display the asynchronous thread name",id:"adding-the-setting-to-display-the-asynchronous-thread-name",level:3},{value:"Saving the database call URL",id:"saving-the-database-call-url",level:3},{value:"Deletion of the database call hash value",id:"deletion-of-the-database-call-hash-value",level:3},{value:"Modification of the agent execution logo",id:"modification-of-the-agent-execution-logo",level:3},{value:"Modified the asynchronous HTTP call error notification message.",id:"modified-the-asynchronous-http-call-error-notification-message",level:3},{value:"Modification of the license key option in the agent settings",id:"modification-of-the-license-key-option-in-the-agent-settings",level:3},{value:"Modification of the Java agent meta option name",id:"modification-of-the-java-agent-meta-option-name",level:3},{value:"New features",id:"new-features",level:2},{value:"Adding the exclusions for the agent environment variables",id:"adding-the-exclusions-for-the-agent-environment-variables",level:3},{value:"Adding the linked service tracing function",id:"adding-the-linked-service-tracing-function",level:3},{value:"Adding the Alibaba Druid connection pool tracing function",id:"adding-the-alibaba-druid-connection-pool-tracing-function",level:3},{value:"Addition of the netstat function",id:"addition-of-the-netstat-function",level:3},{value:"Fixed (bug fixing)",id:"fixed-bug-fixing",level:2},{value:"Fixing the .x plug-in int type recognition error",id:"fixing-the-x-plug-in-int-type-recognition-error",level:3},{value:"Fixing the batch agent&#39;s getResultSet error",id:"fixing-the-batch-agents-getresultset-error",level:3},{value:"Fixing the HTTP error time setting bug",id:"fixing-the-http-error-time-setting-bug",level:3},{value:"Bug that cannot trace the local date when tracing SQLs",id:"bug-that-cannot-trace-the-local-date-when-tracing-sqls",level:3},{value:"Fixing the bug upon displaying the agent log",id:"fixing-the-bug-upon-displaying-the-agent-log",level:3},{value:"Fixed the class signature verification bug",id:"fixed-the-class-signature-verification-bug",level:3},{value:"Fixing the bug upon container ID extraction",id:"fixing-the-bug-upon-container-id-extraction",level:3}];function r(e){let n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",section:"section",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,a.jsx)(n.h2,{id:"change-update",children:"Change (update)"})}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-weaving-setting",children:"Adding the weaving setting"}),(0,a.jsx)(n.p,{children:"The weaving setting has been added to track open source plug-ins. +"}),(0,a.jsx)(n.p,{children:"The weaving setting that has the same functionality as the existing weaving_reserved setting has been added. +"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=tomcat10\n"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving_reserved=tomcat10\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-thread-stop-setting",children:"Adding the thread stop setting"}),(0,a.jsx)(n.p,{children:"An item has been added to set whether or not to stop the thread when the thread operation time exceeds the set value."}),(0,a.jsx)(n.p,{children:"The default values is false."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"auto_thread_kill_elapsed=0\nauto_thread_kill_enabled=false\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"collectionmonitor",children:"Modifying the Collection Monitoring"}),(0,a.jsx)(n.p,{children:"The existing method of hooking the collection class has been modified so that the collection class data can be retrieved indirectly through CollectionHolder."}),(0,a.jsx)(n.p,{children:"The class that creates the collection to the collection_nonstatic_holders setting has been added so you can see it in the collection map menu."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"collection_nonstatic_holders=org.apache.catalina.session.ManagerBase\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-number-of-errors-upon-database-call-to-the-real-time-statistics",children:"Adding the number of errors upon database call to the real-time statistics"}),(0,a.jsx)(n.p,{children:"If an error occurs during database call, the setting has been added to add the number of errors in the real-time statistics."})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-real-time-logs-to-connect-the-http-and-database",children:"Adding the real-time logs to connect the HTTP and database"}),(0,a.jsx)(n.p,{children:"The real-time logs have been added for HTTP and DB connections."})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"display-of-oname-specified-in-the-agent-log",children:"Display of oname specified in the agent log"}),(0,a.jsxs)(n.p,{children:["Even when ",(0,a.jsx)(n.code,{children:"oname"})," is specified using the ",(0,a.jsx)(n.code,{children:"-D"})," option, the setting has been modified to display the agent name instead of the PID in the agent logs."]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-jdbc-url-extraction-delimiter",children:"Adding the JDBC URL extraction delimiter"}),(0,a.jsx)(n.p,{children:'Modified to truncate based on "?" and ";" when extracting JDBC URL.'}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'Added ";"\n'})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-automatic-recognition-function-when-using-the-log-open-source",children:"Adding the automatic recognition function when using the log open source"}),(0,a.jsx)(n.p,{children:"When using the logback and log4j open sources, or log related open sources including the logging string, the function has been added to automatically disable the hooking option."})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-logsink-collection-data",children:"Adding the logsink collection data"}),(0,a.jsx)(n.p,{children:"The data collected in logsink has been added."}),(0,a.jsx)(n.p,{children:"According to the configuration, you can determine whether the transaction ID, login ID, and HTTP host data are to be collected."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"_logtag_enabled = false         # tag \nlogtag_txid_enabled=false       # transation id\nlogtag_login_enabled=false      # login id\nlogtag_httphost_enabled=false   # http host\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"application-of-httpclient-timeout-and-error-handling",children:"Application of HttpClient Timeout and error handling"}),(0,a.jsx)(n.p,{children:"Added the function to apply timeout to HttpClient and handle errors upon timeout."})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-jmx-pool-setting",children:"Adding the JMX pool setting"}),(0,a.jsx)(n.p,{children:"The default value of the JMX pool object has been modified. An option to determine whether or not to use the data source name of the JMX pool has been added. If the data source name is registered, the JNDI method is executed. If the name is not registered, the default URL method is executed."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:'jmx_pool_dsname_enabled=false\njmx_pool_object="*:type=DataSource,class=*,name=*"\n'})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"modification-of-the-active-start-part-of-the-batch-agent",children:"Modification of the active start part of the batch agent"}),(0,a.jsx)(n.p,{children:"Modified the batch agent to leave an active stack on the main thread of the batch process."})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-thread-name-display-setting-on-the-active-stack",children:"Adding the thread name display setting on the active stack"}),(0,a.jsx)(n.p,{children:"The setting has been added to display the thread name of the active stack."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"active_stack_thread_name_enabled=false\n"})}),(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"If the Yard version is low and the value is set to true, the agent connection is disconnected continually due to a protocol error."})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-setting-to-display-the-asynchronous-thread-name",children:"Adding the setting to display the asynchronous thread name"}),(0,a.jsx)(n.p,{children:"Added the setting to display the thread ID and name of the asynchronous thread."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"debug_async_thread_enabled=false\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"saving-the-database-call-url",children:"Saving the database call URL"}),(0,a.jsx)(n.p,{children:"Modified to save the database call URL."})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"deletion-of-the-database-call-hash-value",children:"Deletion of the database call hash value"}),(0,a.jsx)(n.p,{children:"Deleted the database call hash value from an error text."})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"modification-of-the-agent-execution-logo",children:"Modification of the agent execution logo"}),(0,a.jsx)(n.p,{children:"The logo content has been modified while the Java agent is running."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"The Best Observability in Java\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"modified-the-asynchronous-http-call-error-notification-message",children:"Modified the asynchronous HTTP call error notification message."}),(0,a.jsx)(n.p,{children:"The notification message has been modified to display the status code when an asynchronous HTTP call error occurs."})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"modification-of-the-license-key-option-in-the-agent-settings",children:"Modification of the license key option in the agent settings"}),(0,a.jsx)(n.p,{children:"Modified whatap.conf to use both license and accesskey options."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"# Same function\nlicense=\naccesskey=\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"modification-of-the-java-agent-meta-option-name",children:"Modification of the Java agent meta option name"}),(0,a.jsx)(n.p,{children:"Modified the name of the Java agent meta tag option."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"agent_meta_tags_enabled=true\n"})})]}),"\n",(0,a.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,a.jsx)(n.h2,{id:"new-features",children:"New features"})}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-exclusions-for-the-agent-environment-variables",children:"Adding the exclusions for the agent environment variables"}),(0,a.jsx)(n.p,{children:"The function has been added to exclude from the search items when a specific key value is entered in the environment variable search function."}),(0,a.jsxs)(n.p,{children:['The delimiter is "," and the value is not case sensitive. It can be used in connection with the ',(0,a.jsx)(n.code,{children:"agent_env_system_enabled"})," and ",(0,a.jsx)(n.code,{children:"agent_env_jvm_enabled"})," settings."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"agent_env_system_enabled=false\nagent_env_jvm_enabled=true\n\nagent_env_ignore_keys=user.timezone,user.name,user.language\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-linked-service-tracing-function",children:"Adding the linked service tracing function"}),(0,a.jsx)(n.p,{children:"The linked service status tracing function has been added so that the target IP or service connection status can be checked in liveTail of log monitoring."}),(0,a.jsxs)(n.p,{children:["You can enable the function by setting ",(0,a.jsx)(n.code,{children:"logsink_rt_enabled"})," to ",(0,a.jsx)(n.code,{children:"true"}),", which collects logs with the ",(0,a.jsx)(n.code,{children:"#RemoteTrace"})," category."]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"In case of a normal response, the level is ok. In case of error, the level is error."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["In case of a normal response, logs are recorded according to ",(0,a.jsx)(n.code,{children:"logsink_rt_ok_interval"}),". The default value is 30 seconds."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["In case of an error response, logs are recorded according to ",(0,a.jsx)(n.code,{children:"logsink_rt_ok_interval"}),". The default value is 5 seconds."]}),"\n"]}),"\n"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"logsink_rt_enabled=false\n\nlogsink_rt_error_interval=5000\nlogsink_rt_ok_interval=30000\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"adding-the-alibaba-druid-connection-pool-tracing-function",children:"Adding the Alibaba Druid connection pool tracing function"}),(0,a.jsx)(n.p,{children:"The function to trace the Alibaba Druid connection pool has been added."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"druid_pool_enabled=false\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"addition-of-the-netstat-function",children:"Addition of the netstat function"}),(0,a.jsx)(n.p,{children:"Added the function to collect netstat by using the OSHI library. Among network metrics, the packet, collision, drop, error, and bps are collected."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"oshi_netstat_enabled=false\ndebug_oshi_netstat_enabled=false\n"})})]}),"\n",(0,a.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,a.jsx)(n.h2,{id:"fixed-bug-fixing",children:"Fixed (bug fixing)"})}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"fixing-the-x-plug-in-int-type-recognition-error",children:"Fixing the .x plug-in int type recognition error"}),(0,a.jsx)(n.p,{children:"Fixed the bug where the int type could not be recognized in the plug-ins that use the x extension."})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"fixing-the-batch-agents-getresultset-error",children:"Fixing the batch agent's getResultSet error"}),(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"TraceSQL.getResultSet"})," error of the batch agent has been corrected."]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"fixing-the-http-error-time-setting-bug",children:"Fixing the HTTP error time setting bug"}),(0,a.jsx)(n.p,{children:"Fixed the bug where an error appears even if the maximum error time is set to 0 when calling an HTTP."})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"bug-that-cannot-trace-the-local-date-when-tracing-sqls",children:"Bug that cannot trace the local date when tracing SQLs"}),(0,a.jsxs)(n.p,{children:["Fixed the bug where the ",(0,a.jsx)(n.code,{children:"java.time.LocalDate"})," type cannot be traced upon SQL request."]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"fixing-the-bug-upon-displaying-the-agent-log",children:"Fixing the bug upon displaying the agent log"}),(0,a.jsxs)(n.p,{children:["Fixed the bug where an error occurs if logs are left using the ",(0,a.jsx)(n.code,{children:"java.sql.Timestamp"})," type."]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"fixed-the-class-signature-verification-bug",children:"Fixed the class signature verification bug"}),(0,a.jsxs)(n.p,{children:["Fixed the bug where ",(0,a.jsx)(n.code,{children:"java.lang.NullPointerException"})," occurs upon display request of class signature on the Agent CONFIG. menu."]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"fixing-the-bug-upon-container-id-extraction",children:"Fixing the bug upon container ID extraction"}),(0,a.jsx)(n.p,{children:"Fixed the container ID extraction bug."})]})]})}function h(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(r,{...e})}):r(e)}},31377:function(e,n,t){t.d(n,{A:()=>a}),t(96540);var i=t(74848);function a({children:e,priority:n}){return n?(0,i.jsx)("code",{className:e,type:n,children:e}):(0,i.jsx)("code",{className:e,children:e})}},4344:function(e,n,t){t.d(n,{A:()=>a}),t(96540);var i=t(74848);function a({children:e}){return(0,i.jsx)("span",{className:"uitext",children:e})}},84429:function(e,n,t){t.d(n,{R:()=>o,x:()=>l});var i=t(96540);let a={},s=i.createContext(a);function o(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);