"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["74791"],{75494:function(e,n,i){i.d(n,{Ay:()=>r,RM:()=>l});var s=i(74848),t=i(84429);let l=[{value:"Setting the containerStdOut log filter",id:"setting-the-containerstdout-log-filter",level:2},{value:"Log naming conventions",id:"log-naming-conventions",level:3},{value:"Log filtering options",id:"log-filtering-options",level:3},{value:"Log filtering operation",id:"log-filtering-operation",level:3},{value:"Log filter example",id:"log-filter-example",level:3},{value:"Collecting logs for a single namespace",id:"collecting-logs-for-a-single-namespace",level:4},{value:"Collecting multiple namespace logs",id:"collecting-multiple-namespace-logs",level:4},{value:"Pods containing specific terms are excluded.",id:"pods-containing-specific-terms-are-excluded",level:4},{value:"Pods containing specific terms are collected.",id:"pods-containing-specific-terms-are-collected",level:4},{value:"Multi-namespace logs are collected and Pods containing specific terms are excluded.",id:"multi-namespace-logs-are-collected-and-pods-containing-specific-terms-are-excluded",level:4},{value:"The container logs that start with a specific term in the container name are excluded.",id:"the-container-logs-that-start-with-a-specific-term-in-the-container-name-are-excluded",level:4}];function o(e){let n={code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{Cmdname:i,ImgLang:l}=n;return i||c("Cmdname",!0),l||c("ImgLang",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"setting-the-containerstdout-log-filter",children:"Setting the containerStdOut log filter"}),(0,s.jsxs)(n.p,{children:["Home > Select Project > ",(0,s.jsx)(i,{sid:"side_management",className:"uitext"})," > ",(0,s.jsx)(i,{sid:"side_agentSetting",className:"uitext"})]}),(0,s.jsxs)(n.p,{children:["The following guides you to filtering options to select information needed in the Kubernetes logs. You can set which logs to allow or exclude through filtering. In ",(0,s.jsx)(i,{sid:"side_agentSetting",className:"uitext"}),", select ",(0,s.jsx)(i,{sid:"direct_input",className:"uitext"})," in the ",(0,s.jsx)(i,{sid:"write_options",className:"uitext"})," manner."]}),(0,s.jsx)(l,{img:"k8s-log-filter-settings.png",desc:"Kubernetes log filter setting"})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"log-naming-conventions",children:"Log naming conventions"}),(0,s.jsxs)(n.p,{children:["The Kubernetes containerStdOut logs are generated under the ",(0,s.jsx)(n.em,{children:"/var/log/containers/"})," path on the node. They keep the following naming conventions."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"<podName>_<namespace>_<containerName>-<containerId>.log\n"})})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"log-filtering-options",children:"Log filtering options"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"log_filter_enabled"})," ",(0,s.jsx)("span",{class:"type",children:"bool"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"false"})]}),"\n",(0,s.jsx)(n.p,{children:"It sets whether to use log filters."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"log_filter_allow_list"})," ",(0,s.jsx)("span",{class:"type",children:"list"})]}),"\n",(0,s.jsx)(n.p,{children:"It sets the list of logs to allow. It indicates the items to be included for filtering."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"log_filter_deny_list"})," ",(0,s.jsx)("span",{class:"type",children:"list"})]}),"\n",(0,s.jsx)(n.p,{children:"It sets the list of logs to exclude. It indicates the items to be excluded for filtering."}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"log-filtering-operation",children:"Log filtering operation"}),(0,s.jsxs)(n.p,{children:["Log filters work only when the ",(0,s.jsx)(n.code,{children:"log_filter_enabled"})," option is active. You can selectively collect logs via ",(0,s.jsx)(n.code,{children:"log_filter_allow_list"})," and ",(0,s.jsx)(n.code,{children:"log_filter_deny_list"})," when the value of the option is set to ",(0,s.jsx)(n.code,{children:"true"}),"."]}),(0,s.jsxs)(n.p,{children:["Log filters work on a blacklist basis. For example, if you enable ",(0,s.jsx)(n.code,{children:"log_filter_enabled"})," and do not set the items to be added to the ",(0,s.jsx)(n.code,{children:"log_filter_allow_list"})," option, the log collection for all containers is blocked by default."]}),(0,s.jsx)(n.p,{children:"Additionally, in the log filters, deny rules take precedence over allow rules. If the same items are set in both allow and deny rules, the deny rule takes precedence and logs are not collected."})]}),"\n",(0,s.jsx)(n.section,{className:"remark-sectionize-h3",children:(0,s.jsx)(n.h3,{id:"log-filter-example",children:"Log filter example"})}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,s.jsx)(n.h4,{id:"collecting-logs-for-a-single-namespace",children:"Collecting logs for a single namespace"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Allow ",(0,s.jsx)(n.strong,{children:"log_filter_allow_list"})," ",(0,s.jsx)(n.code,{children:"*_infra_*"})]}),"\n"]}),(0,s.jsxs)(n.p,{children:["All containers that exist in the ",(0,s.jsx)(n.code,{children:"infra"})," namespace are targeted for collection."]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,s.jsx)(n.h4,{id:"collecting-multiple-namespace-logs",children:"Collecting multiple namespace logs"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Allow ",(0,s.jsx)(n.strong,{children:"log_filter_allow_list"})," ",(0,s.jsx)(n.code,{children:"*_infra_*, *_monitoring_*"})]}),"\n"]}),(0,s.jsxs)(n.p,{children:["All containers that exist in the ",(0,s.jsx)(n.code,{children:"infra"})," and ",(0,s.jsx)(n.code,{children:"monitoring"})," namespaces are specified as collection targets."]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,s.jsx)(n.h4,{id:"pods-containing-specific-terms-are-excluded",children:"Pods containing specific terms are excluded."}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Allow ",(0,s.jsx)(n.strong,{children:"log_filter_allow_list"})," ",(0,s.jsx)(n.code,{children:"*_*_*"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Deny ",(0,s.jsx)(n.strong,{children:"log_filter_deny_list"})," ",(0,s.jsx)(n.code,{children:"*prod*_*_*"})]}),"\n"]}),"\n"]}),(0,s.jsxs)(n.p,{children:["All containers are targeted for collection, but the logs that contain ",(0,s.jsx)(n.code,{children:"prod"})," in ",(0,s.jsx)(n.code,{children:"podName"})," are excluded."]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,s.jsx)(n.h4,{id:"pods-containing-specific-terms-are-collected",children:"Pods containing specific terms are collected."}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Allow ",(0,s.jsx)(n.strong,{children:"log_filter_allow_list"})," ",(0,s.jsx)(n.code,{children:"*prod*_*_*"})]}),"\n"]}),(0,s.jsxs)(n.p,{children:["Only the logs that contain ",(0,s.jsx)(n.code,{children:"prod"})," in ",(0,s.jsx)(n.code,{children:"podName"})," are collected."]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,s.jsx)(n.h4,{id:"multi-namespace-logs-are-collected-and-pods-containing-specific-terms-are-excluded",children:"Multi-namespace logs are collected and Pods containing specific terms are excluded."}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Allow ",(0,s.jsx)(n.strong,{children:"log_filter_allow_list"})," ",(0,s.jsx)(n.code,{children:"*_infra_*, *_monitoring_*"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Deny ",(0,s.jsx)(n.strong,{children:"log_filter_deny_list"})," ",(0,s.jsx)(n.code,{children:"*prod*_*_*"})]}),"\n"]}),"\n"]}),(0,s.jsxs)(n.p,{children:["The logs for the ",(0,s.jsx)(n.code,{children:"infra"})," and ",(0,s.jsx)(n.code,{children:"monitoring"})," namespaces are collected, and the logs that contain ",(0,s.jsx)(n.code,{children:"prod"})," in ",(0,s.jsx)(n.code,{children:"podName"})," are excluded."]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,s.jsx)(n.h4,{id:"the-container-logs-that-start-with-a-specific-term-in-the-container-name-are-excluded",children:"The container logs that start with a specific term in the container name are excluded."}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Allow ",(0,s.jsx)(n.strong,{children:"log_filter_allow_list"})," ",(0,s.jsx)(n.code,{children:"*_*_db-*"})]}),"\n"]}),(0,s.jsxs)(n.p,{children:["The container logs whose ",(0,s.jsx)(n.code,{children:"containerName"})," starts with ",(0,s.jsx)(n.code,{children:"db"})," in all namespaces are excluded."]})]})]})}function r(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}function c(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},47163:function(e,n,i){i.r(n),i.d(n,{metadata:()=>s,default:()=>g,frontMatter:()=>r,contentTitle:()=>c,toc:()=>a,assets:()=>d});var s=JSON.parse('{"id":"kubernetes/log","title":"Log","description":"You can check various logs related to Kubernetes.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/kubernetes/log.mdx","sourceDirName":"kubernetes","slug":"/kubernetes/log","permalink":"/whatap-docs/en/kubernetes/log","draft":false,"unlisted":false,"editUrl":"undefined/docs/kubernetes/log.mdx","tags":[],"version":"current","frontMatter":{"id":"log","title":"Log","description":"You can check various logs related to Kubernetes.","keywords":["Kubernetes","Kubernetes Monitoring","Log"],"isTranslationMissing":false},"sidebar":"kubeSidebar","previous":{"title":"Metrics Search","permalink":"/whatap-docs/en/kubernetes/metrics-search"},"next":{"title":"Report","permalink":"/whatap-docs/en/kubernetes/report-intro"}}'),t=i(74848),l=i(84429),o=i(75494);let r={id:"log",title:"Log",description:"You can check various logs related to Kubernetes.",keywords:["Kubernetes","Kubernetes Monitoring","Log"],isTranslationMissing:!1},c,d={},a=[...o.RM,{value:"Live Tail",id:"live-tail",level:2},{value:"Log Trend",id:"log-trend",level:2},{value:"Log Search",id:"log-search",level:2},{value:"Setting the log",id:"setting-the-log",level:2}];function h(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",p:"p",section:"section",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Home > Select Project > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Log"})})]}),"\n",(0,t.jsx)(n.p,{children:"You can check various logs related to Kubernetes. The monitoring categories provided by WhaTap Kubernetes are as follows:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Category"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"#K8sEvent"})}),(0,t.jsx)(n.td,{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Logs that store the events that occur in Kubernetes"}),(0,t.jsx)("li",{children:"Generation by default regardless of user settings "})]})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"#WhatapEvent"})}),(0,t.jsx)(n.td,{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Logs that store the events that occur by WhaTap event settings"}),(0,t.jsx)("li",{children:"Generation by default regardless of user settings "})]})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"containerStdout"})}),(0,t.jsx)(n.td,{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Container Standard Out logs"}),(0,t.jsx)("li",{children:"Generation by user settings"}),(0,t.jsxs)("li",{children:["When ",(0,t.jsx)(n.code,{children:"logsink_enabled=true"})," setting is added to the node agent"]})]})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AppLog"})}),(0,t.jsx)(n.td,{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Application logs in the container"}),(0,t.jsx)("li",{children:"Generation by user settings"}),(0,t.jsxs)("li",{children:["When ",(0,t.jsx)(n.code,{children:"logsink_enabled=true"})," setting is added to the application agent"]})]})})]})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Depending on the settings, duplicate log contents may be stored. Be sure to check for duplicates."})}),"\n","\n",(0,t.jsx)(o.Ay,{}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"live-tail",children:"Live Tail"}),(0,t.jsxs)(n.p,{children:["Home > Select Project > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Log"})})," > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Live Tail"})})]}),(0,t.jsxs)(n.p,{children:["You can check the content in the WhaTap Kubernetes monitoring category in real time. For more information about ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Live Tail"})}),", see ",(0,t.jsx)(n.a,{href:"../log/log-lt",children:"the following"}),"."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"log-trend",children:"Log Trend"}),(0,t.jsxs)(n.p,{children:["Home > Select Project > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Log"})})," > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Log Trend"})})]}),(0,t.jsxs)(n.p,{children:["You can see the stored log trend by setting a time range. For more information about ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Log Trend"})}),", see ",(0,t.jsx)(n.a,{href:"../log/log-exp",children:"the following"}),"."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"log-search",children:"Log Search"}),(0,t.jsxs)(n.p,{children:["Home > Select Project > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Log"})})," > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Log Search"})})]}),(0,t.jsx)(n.p,{children:"You can search the stored logs by setting a time range. For example, you can see the standard out logs of a specific container or all containers in the deployment at once. You can also highlight a specific keyword for display."}),(0,t.jsxs)(n.p,{children:["For more information about ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Log Trend"})}),", see ",(0,t.jsx)(n.a,{href:"../log/log-search",children:"the following"}),"."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"setting-the-log",children:"Setting the log"}),(0,t.jsxs)(n.p,{children:["Home > Select Project > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Log"})})," > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Setting"})})]}),(0,t.jsxs)(n.p,{children:["You can configure various log-related settings including log activation. For more information about the log settings, see ",(0,t.jsx)(n.a,{href:"../log/log-setting",children:"the following"}),"."]})]})]})}function g(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},84429:function(e,n,i){i.d(n,{R:()=>o,x:()=>r});var s=i(96540);let t={},l=s.createContext(t);function o(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);