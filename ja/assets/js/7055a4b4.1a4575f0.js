"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["2082"],{83376:function(n,e,s){s.d(e,{Ay:()=>r,RM:()=>t});var i=s(74848),l=s(84429);let t=[];function o(n){let e={a:"a",admonition:"admonition",p:"p",strong:"strong",...(0,l.R)(),...n.components};return(0,i.jsxs)(e.admonition,{type:"note",children:[(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u6709\u52B9\u5316\u6A29\u9650"})}),(0,i.jsxs)(e.p,{children:["\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u305F\u5F8C\u3001\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u5BFE\u3057\u3066",(0,i.jsx)(e.strong,{children:"\u7DE8\u96C6\u6A29\u9650"}),"\u3092\u6301\u3064\u30E6\u30FC\u30B6\u30FC\u306E\u307F\u304C\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u6709\u52B9\u5316\u3067\u304D\u307E\u3059\u3002 \u6A29\u9650\u306E\u8A73\u7D30\u306B\u3064\u3044\u3066\u306F\u3001",(0,i.jsx)(e.a,{href:"../project/project-structure",children:"\u6B21\u306E\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8"}),"\u3092\u53C2\u7167\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]})]})}function r(n={}){let{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},52432:function(n,e,s){s.d(e,{Ay:()=>r,RM:()=>t});var i=s(74848),l=s(84429);let t=[];function o(n){let e={img:"img",li:"li",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.img,{alt:"\u30A2\u30A4\u30B3\u30F3",src:s(30490).A+"",width:"32",height:"16"})," \u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u6709\u52B9\u5316\uFF1A\u30C8\u30B0\u30EB\u30DC\u30BF\u30F3\u3092\u30AA\u30F3\u306B\u3059\u308B\u3068\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u304C\u6709\u52B9\u306B\u306A\u308A\u3001\u6709\u52B9\u5316\u3057\u305F\u65E5\u304B\u308915\u65E5\u9593\u306F\u7121\u6599\u3067\u304A\u8A66\u3057\u3044\u305F\u3060\u3051\u307E\u3059\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.img,{alt:"\u30A2\u30A4\u30B3\u30F3",src:s(45792).A+"",width:"32",height:"16"})," \u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u7121\u52B9\u5316\uFF1A\u30C8\u30B0\u30EB\u30DC\u30BF\u30F3\u3092\u30AA\u30D5\u306B\u3059\u308B\u3068\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u304C\u7121\u52B9\u306B\u306A\u308A\u3001\u4EE5\u964D\u30ED\u30B0\u306F\u4FDD\u5B58\u3055\u308C\u307E\u305B\u3093\u3002"]}),"\n"]})}function r(n={}){let{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},73644:function(n,e,s){s.r(e),s.d(e,{metadata:()=>i,default:()=>j,frontMatter:()=>a,contentTitle:()=>c,toc:()=>h,assets:()=>d});var i=JSON.parse('{"id":"log/log-python","title":"Python","description":"Python\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u304B\u3089\u30ED\u30B0\u3092\u53CE\u96C6\u3059\u308B\u65B9\u6CD5\u306B\u3064\u3044\u3066\u8AAC\u660E\u3057\u307E\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/log/log-python.mdx","sourceDirName":"log","slug":"/log/log-python","permalink":"/whatap-docs/ja/log/log-python","draft":false,"unlisted":false,"editUrl":"undefined/docs/log/log-python.mdx","tags":[],"version":"current","frontMatter":{"id":"log-python","title":"Python","description":"Python\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u304B\u3089\u30ED\u30B0\u3092\u53CE\u96C6\u3059\u308B\u65B9\u6CD5\u306B\u3064\u3044\u3066\u8AAC\u660E\u3057\u307E\u3059\u3002","keywords":["\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0","Python"],"isTranslationMissing":false},"sidebar":"logSidebar","previous":{"title":"Node.js","permalink":"/whatap-docs/ja/log/log-nodejs"},"next":{"title":"Go","permalink":"/whatap-docs/ja/log/log-go"}}'),l=s(74848),t=s(84429),o=s(52432),r=s(83376);let a={id:"log-python",title:"Python",description:"Python\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u304B\u3089\u30ED\u30B0\u3092\u53CE\u96C6\u3059\u308B\u65B9\u6CD5\u306B\u3064\u3044\u3066\u8AAC\u660E\u3057\u307E\u3059\u3002",keywords:["\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0","Python"],isTranslationMissing:!1},c,d={},h=[{value:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8",id:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8",level:2},{value:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u78BA\u8A8D",id:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u78BA\u8A8D",level:2},{value:"\u30ED\u30B0\u53CE\u96C6\u306E\u6D3B\u6027\u5316",id:"\u30ED\u30B0\u53CE\u96C6\u306E\u6D3B\u6027\u5316",level:3},{value:"\u30ED\u30B0\u3068\u30A6\u30A7\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u306E\u9023\u52D5",id:"\u30ED\u30B0\u3068\u30A6\u30A7\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u306E\u9023\u52D5",level:3},{value:"1.3.6 \u4EE5\u964D\u30D0\u30FC\u30B8\u30E7\u30F3",id:"136-\u4EE5\u964D\u30D0\u30FC\u30B8\u30E7\u30F3",level:4},{value:"1.3.6\u4EE5\u524D\u30D0\u30FC\u30B8\u30E7\u30F3",id:"136\u4EE5\u524D\u30D0\u30FC\u30B8\u30E7\u30F3",level:4},{value:"\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u6D3B\u6027\u5316",id:"\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u6D3B\u6027\u5316",level:2},...o.RM,...r.RM];function g(n){let e={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:"Python\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u3067\u30ED\u30B0\u3092\u53CE\u96C6\u3059\u308B\u305F\u3081\u306E\u8A2D\u5B9A\u65B9\u6CD5\u3092\u6848\u5185\u3057\u307E\u3059\u3002"}),"\n",(0,l.jsxs)(e.section,{className:"remark-sectionize-h2",children:[(0,l.jsx)(e.h2,{id:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8",children:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8"}),(0,l.jsxs)(e.p,{children:["Python\u30A8\u30FC\u30B8\u30A7\u30F3\u30C81.2.2\u30D0\u30FC\u30B8\u30E7\u30F3\u4EE5\u964D\u3067\u53EF\u80FD\u3067\u3059\u3002\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\u65B9\u6CD5\u306F",(0,l.jsx)(e.a,{href:"../python/manage-pkg#update-pkg",children:"\u6B21\u306E\u6587\u66F8"}),"\u3092\u53C2\u7167\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]})]}),"\n",(0,l.jsxs)(e.section,{className:"remark-sectionize-h2",children:[(0,l.jsx)(e.h2,{id:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u78BA\u8A8D",children:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u78BA\u8A8D"}),(0,l.jsxs)(e.p,{children:["\u30DB\u30FC\u30E0\u753B\u9762 > \u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u9078\u629E > ",(0,l.jsx)(e.strong,{children:"\u30ED\u30B0"})," > ",(0,l.jsx)(e.strong,{children:"\u30ED\u30B0\u8A2D\u5B9A"})]}),(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["WhaTap\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u30B5\u30FC\u30D3\u30B9\u306E\u521D\u671F\u753B\u9762\u3067\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u9078\u629E\u3057\u305F\u5F8C\u3001",(0,l.jsx)(e.strong,{children:"\u30ED\u30B0"})," > ",(0,l.jsx)(e.strong,{children:"\u30ED\u30B0\u8A2D\u5B9A"})," \u30E1\u30CB\u30E5\u30FC\u306B\u79FB\u52D5\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u958B\u59CB\u3059\u308B"})," \u30BF\u30D6\u306E ",(0,l.jsx)(e.strong,{children:"1. \u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u78BA\u8A8D"})," \u306E\u6848\u5185\u306B\u5F93\u3063\u3066\u3001\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n"]})]}),"\n",(0,l.jsxs)(e.section,{className:"remark-sectionize-h3",children:[(0,l.jsx)(e.h3,{id:"\u30ED\u30B0\u53CE\u96C6\u306E\u6D3B\u6027\u5316",children:"\u30ED\u30B0\u53CE\u96C6\u306E\u6D3B\u6027\u5316"}),(0,l.jsxs)(e.p,{children:["\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u30D1\u30B9(",(0,l.jsx)(e.em,{children:"WHATAP_HOME"}),")\u3092\u542B\u3080\u30B3\u30DE\u30F3\u30C9\u3092\u5165\u529B\u3059\u308B\u3068\u3001\u30ED\u30B0\u53CE\u96C6\u304C\u3059\u3050\u306B\u958B\u59CB\u3055\u308C\u307E\u3059\u3002"]}),(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:'export LOGFILES={\u30ED\u30B0\u30D5\u30A1\u30A4\u30EB\u5168\u4F53\u30D1\u30B9},...\necho "logsink_enabled=true" | sudo tee -a {\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u30D1\u30B9}/whatap.conf\necho "logsink.files=$LOGFILES" | sudo tee -a {\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u30D1\u30B9}/whatap.conf\n'})})]}),"\n",(0,l.jsx)(e.section,{className:"remark-sectionize-h3",children:(0,l.jsx)(e.h3,{id:"\u30ED\u30B0\u3068\u30A6\u30A7\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u306E\u9023\u52D5",children:"\u30ED\u30B0\u3068\u30A6\u30A7\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u306E\u9023\u52D5"})}),"\n",(0,l.jsxs)(e.section,{className:"remark-sectionize-h4",children:[(0,l.jsx)(e.h4,{id:"136-\u4EE5\u964D\u30D0\u30FC\u30B8\u30E7\u30F3",children:"1.3.6 \u4EE5\u964D\u30D0\u30FC\u30B8\u30E7\u30F3"}),(0,l.jsxs)(e.p,{children:["1.3.6\u30D0\u30FC\u30B8\u30E7\u30F3\u304B\u3089\u6B21\u306E\u65B9\u6CD5\u3067\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u3068\u30ED\u30B0\u306E\u9023\u52D5\u3092\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002\u73FE\u5728\u3001WhaTap\u306FPython\u306Elogging\u3001loguru\u30E9\u30A4\u30D6\u30E9\u30EA\u3092\u5BFE\u5FDC\u3057\u3066\u3044\u307E\u3059\u3002\u4F7F\u7528\u3059\u308BPython Log\u30E9\u30A4\u30D6\u30E9\u30EA\u306B\u5F93\u3063\u3066",(0,l.jsx)(e.em,{children:"whatap.conf"}),"\u3092\u69CB\u6210\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"logging\u30E2\u30B8\u30E5\u30FC\u30EB"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",metastring:"title='logging'",children:'\necho "trace_logging_enabled=true" | sudo tee -a{\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u30D1\u30B9}/whatap.conf\n\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"loguru\u30E2\u30B8\u30E5\u30FC\u30EB"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",metastring:"title='loguru'",children:'\necho "trace_loguru_enabled=true" | sudo tee -a{\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u30D1\u30B9}/whatap.conf\n\n'})}),"\n"]}),"\n"]})]}),"\n",(0,l.jsxs)(e.section,{className:"remark-sectionize-h4",children:[(0,l.jsx)(e.h4,{id:"136\u4EE5\u524D\u30D0\u30FC\u30B8\u30E7\u30F3",children:"1.3.6\u4EE5\u524D\u30D0\u30FC\u30B8\u30E7\u30F3"}),(0,l.jsxs)(e.p,{children:["\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u3054\u3068\u306B\u767A\u751F\u3057\u305F\u30ED\u30B0\u3092\u500B\u5225\u306B\u7167\u4F1A\u3067\u304D\u308B\u3088\u3046\u306B\u3001\u30ED\u30B0\u306B\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3ID ",(0,l.jsx)(e.code,{children:"{txid}"})," \u3092\u51FA\u529B\u3057\u307E\u3059\u3002WhaTap\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3067\u306F\u3001Python\u306ELogRecord\u306B ",(0,l.jsx)(e.code,{children:"{txid}"})," \u3092\u81EA\u52D5\u7684\u306B\u6CE8\u5165\u3057\u3001\u30D5\u30A9\u30FC\u30DE\u30C3\u30BF\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u3067\u30ED\u30B0\u30D5\u30A1\u30A4\u30EB\u306B ",(0,l.jsx)(e.code,{children:"{txid}"})," \u3092\u51FA\u529B\u3067\u304D\u308B\u3088\u3046\u306B\u3057\u307E\u3059\u3002"]}),(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"settings.py\n...\nLOGGING = {\n...\n    'formatters': {\n        ...\n    },\n    'handlers': {\n        ...\n    },\n    'loggers': {\n        ...\n        '{\u30ED\u30AC\u30FC\u540D}': {\n            'handlers': [...],\n        ...\n        },\n    },\n}\n\ntry:\n    import whatap.trace.mod.logging as whatap_logging\n    if whatap_logging.logging_injection_processed:\n        LOGGING['formatters']['whatap.formatter']={\n                '()': 'django.utils.log.ServerFormatter',\n                'format': '[{server_time}] -- {{ \"@txid\" : \"{txid}\" }} -- {message}',\n                'style': '{',\n            }\n        LOGGING['handlers']['whatap']={\n                'level': 'DEBUG',\n                'class': 'logging.handlers.RotatingFileHandler',\n                'filename': os.path.join(BASE_DIR, 'logs','whatap_log.log'),\n                'formatter': 'whatap.formatter',\n            }\n        LOGGING['loggers'][{\u30ED\u30AC\u30FC\u540D}]['handlers'].append('whatap')\nexcept:\n    pass\n...\n"})})]}),"\n",(0,l.jsxs)(e.section,{className:"remark-sectionize-h2",children:[(0,l.jsx)(e.h2,{id:"\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u6D3B\u6027\u5316",children:"\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u6D3B\u6027\u5316"}),(0,l.jsxs)(e.p,{children:["\u30DB\u30FC\u30E0\u753B\u9762 > \u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u9078\u629E > ",(0,l.jsx)(e.strong,{children:"\u30ED\u30B0"})," > ",(0,l.jsx)(e.strong,{children:"\u30ED\u30B0\u8A2D\u5B9A"})]}),(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u958B\u59CB\u3059\u308B"})," \u30BF\u30D6\u306E ",(0,l.jsx)(e.strong,{children:"2. \u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u6709\u52B9\u5316"})," \u3067\u3001WhaTap\u306E\u30ED\u30B0\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u6709\u52B9\u307E\u305F\u306F\u7121\u52B9\u306B\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002"]}),(0,l.jsx)(o.Ay,{}),(0,l.jsx)(r.Ay,{})]})]})}function j(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(g,{...n})}):g(n)}},45792:function(n,e,s){s.d(e,{A:()=>i});let i="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAzMiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMC41IiB5PSIwLjUiIHdpZHRoPSIzMSIgaGVpZ2h0PSIxNSIgcng9IjcuNSIgZmlsbD0iIzk5OTk5OSIgc3Ryb2tlPSIjOTk5OTk5Ii8+CjxjaXJjbGUgY3g9IjguMDAwMTYiIGN5PSI3Ljk5OTkyIiByPSI2LjY2NjY3IiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"},30490:function(n,e,s){s.d(e,{A:()=>i});let i="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAzMiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjE2IiByeD0iOCIgZmlsbD0iIzAwQjU0MyIvPgo8ZWxsaXBzZSBjeD0iMjQuMDAwMiIgY3k9IjcuOTk5OTIiIHJ4PSI2LjY2NjY3IiByeT0iNi42NjY2NyIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="},84429:function(n,e,s){s.d(e,{R:()=>o,x:()=>r});var i=s(96540);let l={},t=i.createContext(l);function o(n){let e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:o(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);