"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["71078"],{5128:function(e,n,t){t.d(n,{Ay:()=>o,RM:()=>r});var l=t(74848),a=t(84429);let r=[];function s(e){let n={a:"a",admonition:"admonition",p:"p",...(0,a.R)(),...e.components};return(0,l.jsx)(n.admonition,{type:"caution",children:(0,l.jsxs)(n.p,{children:["OpenTelemetry\u306E\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306F\u30D9\u30FC\u30BF\u7248\u3067\u3001\u4E88\u671F\u3057\u306A\u3044\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3059\u308B\u53EF\u80FD\u6027\u304C\u3042\u308A\u307E\u3059\u3002 \u91CD\u8981\u306A\u30C7\u30FC\u30BF\u304C\u3042\u308B\u74B0\u5883\u3084\u904B\u7528\u74B0\u5883\u3067\u306F\u4F7F\u7528\u3059\u308B\u3053\u3068\u3092\u304A\u52E7\u3081\u3057\u307E\u305B\u3093\u3002 \u30D5\u30A3\u30FC\u30C9\u30D0\u30C3\u30AF\u3084\u554F\u984C\u70B9\u304C\u767A\u751F\u3057\u305F\u3089\u3001\u30B5\u30DD\u30FC\u30C8\u30C1\u30FC\u30E0(",(0,l.jsx)(n.a,{href:"mailto:support@whatap.io",children:"support@whatap.io"}),")\u307E\u3067\u304A\u554F\u3044\u5408\u308F\u305B\u304F\u3060\u3055\u3044\u3002"]})})}function o(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(s,{...e})}):s(e)}},54033:function(e,n,t){t.r(n),t.d(n,{metadata:()=>l,default:()=>h,frontMatter:()=>o,contentTitle:()=>c,toc:()=>p,assets:()=>i});var l=JSON.parse('{"id":"opentelemetry/install-agent","title":"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","description":"OpenTelemetry \u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3001\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3001\u8A2D\u5B9A\u65B9\u6CD5\u3092\u30B9\u30C6\u30C3\u30D7\u3054\u3068\u306B\u8AAC\u660E\u3057\u307E\u3059\u3002OpenTelemetry Collector\u3001Docker\u3001Kubernetes \u3068\u9023\u643A\u3057\u3001WhaTap \u3067\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u958B\u59CB\u3059\u308B\u65B9\u6CD5\u3092\u7D39\u4ECB\u3057\u307E\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/opentelemetry/install-agent.mdx","sourceDirName":"opentelemetry","slug":"/opentelemetry/install-agent","permalink":"/whatap-docs/ja/opentelemetry/install-agent","draft":false,"unlisted":false,"editUrl":"undefined/docs/opentelemetry/install-agent.mdx","tags":[],"version":"current","frontMatter":{"id":"install-agent","title":"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","description":"OpenTelemetry \u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3001\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3001\u8A2D\u5B9A\u65B9\u6CD5\u3092\u30B9\u30C6\u30C3\u30D7\u3054\u3068\u306B\u8AAC\u660E\u3057\u307E\u3059\u3002OpenTelemetry Collector\u3001Docker\u3001Kubernetes \u3068\u9023\u643A\u3057\u3001WhaTap \u3067\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u958B\u59CB\u3059\u308B\u65B9\u6CD5\u3092\u7D39\u4ECB\u3057\u307E\u3059\u3002","keywords":["OpenTelemetry","OpenTelemetry \u30A8\u30FC\u30B8\u30A7\u30F3\u30C8","OpenTelemetry \u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","OpenTelemetry Collector","OpenTelemetry \u30C0\u30A6\u30F3\u30ED\u30FC\u30C9","OpenTelemetry \u8A2D\u5B9A","OpenTelemetry Kubernetes","OpenTelemetry Docker","Whatap OpenTelemetry","WhaTap \u30E2\u30CB\u30BF\u30EA\u30F3\u30B0","OpenTelemetry \u30BB\u30C3\u30C8\u30A2\u30C3\u30D7","OpenTelemetry \u9023\u643A"],"isTranslationMissing":false},"sidebar":"pluginSidebar","previous":{"title":"OpenTelemetry \u6982\u8981","permalink":"/whatap-docs/ja/opentelemetry/introduction"},"next":{"title":"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u8A2D\u5B9A","permalink":"/whatap-docs/ja/opentelemetry/set-agent"}}'),a=t(74848),r=t(84429),s=t(5128);let o={id:"install-agent",title:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",description:"OpenTelemetry \u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3001\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3001\u8A2D\u5B9A\u65B9\u6CD5\u3092\u30B9\u30C6\u30C3\u30D7\u3054\u3068\u306B\u8AAC\u660E\u3057\u307E\u3059\u3002OpenTelemetry Collector\u3001Docker\u3001Kubernetes \u3068\u9023\u643A\u3057\u3001WhaTap \u3067\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u958B\u59CB\u3059\u308B\u65B9\u6CD5\u3092\u7D39\u4ECB\u3057\u307E\u3059\u3002",keywords:["OpenTelemetry","OpenTelemetry \u30A8\u30FC\u30B8\u30A7\u30F3\u30C8","OpenTelemetry \u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","OpenTelemetry Collector","OpenTelemetry \u30C0\u30A6\u30F3\u30ED\u30FC\u30C9","OpenTelemetry \u8A2D\u5B9A","OpenTelemetry Kubernetes","OpenTelemetry Docker","Whatap OpenTelemetry","WhaTap \u30E2\u30CB\u30BF\u30EA\u30F3\u30B0","OpenTelemetry \u30BB\u30C3\u30C8\u30A2\u30C3\u30D7","OpenTelemetry \u9023\u643A"],isTranslationMissing:!1},c,i={},p=[...s.RM,{value:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9",id:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9",level:2},{value:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u8A2D\u5B9A",id:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u8A2D\u5B9A",level:2},{value:"whatap.conf\u30D5\u30A1\u30A4\u30EB\u3092\u8A2D\u5B9A\u3059\u308B",id:"whatapconf\u30D5\u30A1\u30A4\u30EB\u3092\u8A2D\u5B9A\u3059\u308B",level:3},{value:"\u74B0\u5883\u5909\u6570\u3067\u8A2D\u5B9A\u3059\u308B",id:"\u74B0\u5883\u5909\u6570\u3067\u8A2D\u5B9A\u3059\u308B",level:3},{value:"Docker\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",id:"docker\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",level:2},{value:"Kubernates\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",id:"kubernates\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",level:2},{value:"Opentelemetry Collector\u306E\u8A2D\u5B9A",id:"opentelemetry-collector\u306E\u8A2D\u5B9A",level:2},{value:"\u305D\u306E\u4ED6\u306E\u30D7\u30E9\u30C3\u30C8\u30D5\u30A9\u30FC\u30E0",id:"\u305D\u306E\u4ED6\u306E\u30D7\u30E9\u30C3\u30C8\u30D5\u30A9\u30FC\u30E0",level:2},{value:"Tyk Gateway",id:"tyk-gateway",level:3},{value:"Kong Gateway",id:"kong-gateway",level:3},{value:"\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u958B\u59CB",id:"\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u958B\u59CB",level:2}];function d(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",ul:"ul",...(0,r.R)(),...e.components},{Cmdname:t,TabItem:l,Tabs:o}=n;return t||m("Cmdname",!0),l||m("TabItem",!0),o||m("Tabs",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Ay,{}),"\n",(0,a.jsx)(n.p,{children:"OpenTelemetry\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u65B9\u6CD5\u3092\u6848\u5185\u3057\u307E\u3059\u3002"}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9",children:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9"}),(0,a.jsx)(n.p,{children:"\u6B21\u306E\u30B3\u30DE\u30F3\u30C9\u3092\u5B9F\u884C\u3057\u3066OpenTelemetry Collector\u304C\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3055\u308C\u3066\u3044\u308B\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u306B\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3092\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3057\u307E\u3059\u3002"}),(0,a.jsxs)(o,{groupId:"os",children:[(0,a.jsx)(l,{value:"rc",label:"Red Hat/Centos",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Register package repository\n$ sudo rpm -Uvh https://repo.whatap.io/centos/5/noarch/whatap-repo-1.0-1.noarch.rpm\n\n# Install package\n$ sudo yum install whatap-otel\n"})})}),(0,a.jsx)(l,{value:"du",label:"Debian/Ubuntu",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Register package repository\n$ wget https://repo.whatap.io/debian/release.gpg -O -|sudo apt-key add -\n$ wget https://repo.whatap.io/debian/whatap-repo_1.0_all.deb\n$ sudo dpkg -i whatap-repo_1.0_all.deb\n$ sudo apt-get update\n\n# Install package\n$ sudo apt-get install whatap-otel\n"})})}),(0,a.jsx)(l,{value:"al",label:"Amazon Linux",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Register package repository\n$ sudo rpm --import https://repo.whatap.io/centos/release.gpg\n$ echo "[whatap]" | sudo tee /etc/yum.repos.d/whatap.repo > /dev/null\n$ echo "name=whatap packages for enterprise linux" | sudo tee -a /etc/yum.repos.d/whatap.repo > /dev/null\n$ echo "baseurl=https://repo.whatap.io/centos/latest/\\$basearch" | sudo tee -a /etc/yum.repos.d/whatap.repo > /dev/null\n$ echo "enabled=1" | sudo tee -a /etc/yum.repos.d/whatap.repo > /dev/null\n$ echo "gpgcheck=0" | sudo tee -a /etc/yum.repos.d/whatap.repo > /dev/null\n\n# Install package\n$ sudo yum install whatap-otel\n'})})}),(0,a.jsx)(l,{value:"apl",label:"Alpine Linux",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ wget https://s3.ap-northeast-2.amazonaws.com/repo.whatap.io/alpine/x86_64/whatap-otel.tar.gz\n$ tar -xvzf whatap-otel.tar.gz -C /\n"})})}),(0,a.jsx)(l,{value:"apldocker",label:"Alpine Linux Docker",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",metastring:'title="FROM alpine"',children:"FROM alpine\n\nRUN apk update && apk upgrade\n# Install WhaTap Go monitoring agent\nRUN wget https://s3.ap-northeast-2.amazonaws.com/repo.whatap.io/alpine/x86_64/whatap-otel.tar.gz\nRUN tar -xvzf whatap-otel.tar.gz -C /\n"})})})]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u8A2D\u5B9A",children:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u8A2D\u5B9A"}),(0,a.jsxs)(n.p,{children:["\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306B\u306F\u3001WhaTap\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u30A2\u30AF\u30BB\u30B9\u30AD\u30FC\u3068\u53CE\u96C6\u30B5\u30FC\u30D0\u30FC\u306EIP\u30A2\u30C9\u30EC\u30B9\u304C\u5FC5\u8981\u3067\u3059\u3002 ",(0,a.jsx)(n.a,{href:"https://service.whatap.io",children:"WhaTap\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u30B5\u30FC\u30D3\u30B9"}),"\u3067\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3(Application)\u5546\u54C1\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u79FB\u52D5\u3057\u307E\u3059\u3002 ",(0,a.jsx)(t,{sid:"management",className:"uitext"})," > ",(0,a.jsx)(t,{sid:"agentInstall",className:"uitext"})," \u30E1\u30CB\u30E5\u30FC\u3067\u30A2\u30AF\u30BB\u30B9 \u30AD\u30FC\u3068\u53CE\u96C6\u30B5\u30FC\u30D0\u30FC\u306EIP\u30A2\u30C9\u30EC\u30B9\u3092\u78BA\u8A8D\u3057\u3066\u6E96\u5099\u3057\u307E\u3059\u3002"]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"whatapconf\u30D5\u30A1\u30A4\u30EB\u3092\u8A2D\u5B9A\u3059\u308B",children:"whatap.conf\u30D5\u30A1\u30A4\u30EB\u3092\u8A2D\u5B9A\u3059\u308B"}),(0,a.jsxs)(n.p,{children:["\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A(",(0,a.jsx)(n.em,{children:"whatap.conf"}),")\u30D5\u30A1\u30A4\u30EB\u3078\u306E\u30A2\u30AF\u30BB\u30B9\u30AD\u30FC\u3068\u53CE\u96C6\u30B5\u30FC\u30D0\u30FC\u306EIP\u30A2\u30C9\u30EC\u30B9\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'echo "accesskey={ACCESS_KEY}" >> /usr/whatap/otel/whatap.conf \necho "whatap.server.host={COLLECTOR_SERVER_IP_ADDRESS}" >> /usr/whatap/otel/whatap.conf \n'})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"\u74B0\u5883\u5909\u6570\u3067\u8A2D\u5B9A\u3059\u308B",children:"\u74B0\u5883\u5909\u6570\u3067\u8A2D\u5B9A\u3059\u308B"}),(0,a.jsx)(n.p,{children:"\u74B0\u5883\u5909\u6570(Environment)\u3067\u30A2\u30AF\u30BB\u30B9\u30AD\u30FC\u3068\xa0\u53CE\u96C6\u30B5\u30FC\u30D0\u30FC\u306EIP \u30A2\u30C9\u30EC\u30B9\u3092\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",children:"WHATAP_ACCESSKEY={ACCESS_KEY}\nWHATAP_SERVER_HOST={COLLECTOR_SERVER_IP_ADDRESS}\nWHATAP_OTEL_GRPC_SERVER_PORT={gRPC_SERVER_LISTENING_PORT}\n"})}),(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["\u74B0\u5883\u5909\u6570\u3068",(0,a.jsx)(n.em,{children:"whatap.conf"}),"\u30D5\u30A1\u30A4\u30EB\u3092\u3059\u3079\u3066\u8A2D\u5B9A\u3057\u305F\u5834\u5408\u3001",(0,a.jsx)(n.em,{children:"whatap.conf"}),"\u30D5\u30A1\u30A4\u30EB\u306E\u8A2D\u5B9A\u5024\u304C\u512A\u5148\u3055\u308C\u307E\u3059\u3002"]})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"docker\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",children:"Docker\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB"}),(0,a.jsx)(n.p,{children:"Opentelemetry Collector\u304C\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3055\u308C\u3066\u3044\u308C\u3070\u3001Docker container\u3067whatap-otel\u3092\u5B9F\u884C\u3057\u3066Collector\u306E\u30C7\u30FC\u30BF\u3092GRPC 6600\u30DD\u30FC\u30C8\u3067\u53D7\u3051\u53D6\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-Docker",children:"docker pull whatap/whatap-otel\n"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="docker-compose.yaml"',children:"version: '3.7'\n\nservices:\n  whatap_otel:\n    image: whatap/whatap-otel:latest\n\n    environment:\n      WHATAP_ACCESSKEY: x605111111111-z11111111-x1111111111m\n      WHATAP_SERVER_HOST: 1.1.1.1/2.2.2.2\n      WHATAP_OTEL_GRPC_SERVER_PORT: 6600\n      otel_metric_server_enabled: true\n      otel_log_server_enabled: true\n      log_stdout_enabled: true\n      #debug_otel_grpc_server_enabled: true\n    \n    ports:\n      - 6600:6600\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"kubernates\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",children:"Kubernates\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB"}),(0,a.jsx)(n.p,{children:"Opentelemetry Collector\u3068whatap-otel\u3092\u4E00\u3064\u306EPOD\u306E\u4E2D\u306B\u4E00\u7DD2\u306B\u751F\u6210\u3059\u308Bdeployment\u306E\u4F8B\u3067\u3059\u3002"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="otelcol-whatap-deploy.yaml"',children:'metadata:\n  name: otel-collector-deploy\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: otel-collector\n  template:\n    metadata:\n      name: otel-collector-pod\n      labels:\n        app: otel-collector\n    spec:\n      containers:\n        - name: otel-collector\n          image: otel/opentelemetry-collector-contrib:0.106.0\n          ports:\n            - containerPort: 4317 # OTLP gRPC\n            - containerPort: 4318 # OTLP HTTP\n          volumeMounts:\n            - name: config-volume-otelcol\n              mountPath: /etc/otel/config.yaml\n              subPath: otel-collector-config.yaml\n          args: ["--config", "/etc/otel/config.yaml"]\n        - name: whatap-otel-agent\n          image: whatap/whatap-otel:latest\n          ports:\n          - containerPort: 6600\n          env:\n          - name: "WHATAP_ACCESSKEY"\n            value: "x605111111111-z11111111-x1111111111m"\n          - name: "WHATAP_SERVER_HOST"\n            value: "1.1.1.1/2.2.2.2"\n          - name: "otel_metric_server_enabled"\n            value: "true"\n          - name: "otel_log_server_enabled"\n            value: "true"\n          - name: "log_stdout_enabled"\n            value: "true"\n          - name: NODE_IP\n            valueFrom: {fieldRef: {fieldPath: status.hostIP}}\n          - name: NODE_NAME\n            valueFrom: {fieldRef: {fieldPath: spec.nodeName}}\n          - name: POD_NAME\n            valueFrom: {fieldRef: {fieldPath: metadata.name}}\n          - name: whatap.micro.enabled\n            value: "true"\n      volumes:\n        - name: config-volume-otelcol\n          configMap:\n            name: otelcol-config\n'})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="otelcol-whatap-deploy.yaml"',children:'apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: otelcol-config\ndata:\n  otel-collector-config.yaml: |\n    receivers:\n      otlp:\n        protocols:\n          grpc:\n            endpoint: 0.0.0.0:4317\n          http:\n            endpoint: 0.0.0.0:4318\n    exporters:\n      otlp:\n        endpoint: "127.0.0.1:6600"\n        tls:\n          insecure: true\n      logging:\n        loglevel: debug\n    processors:\n      batch:\n    service:\n      pipelines:\n        traces:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [otlp, logging]\n        metrics:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [otlp, logging]\n        logs:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [otlp, logging]\n'})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"opentelemetry-collector\u306E\u8A2D\u5B9A",children:"Opentelemetry Collector\u306E\u8A2D\u5B9A"}),(0,a.jsx)(n.p,{children:"whatap-otel\u3067\u30C7\u30FC\u30BF\u3092\u4F1D\u9054\u3059\u308B\u3088\u3046\u306BOTLP Exporter\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="otel-collector-config.yaml" showLineNumbers{13,14-15}',children:"receivers:\n  otlp:\n    protocols:\n      grpc:\n        endpoint: 0.0.0.0:4317\nprocessors:\n  batch:\n\nexporters:\n  logging:\n  # otlp exporter\uC5D0 whatap-otel\uC744 \uB300\uC0C1\uC73C\uB85C \uC124\uC815\uD569\uB2C8\uB2E4.\n  otlp:\n    endpoint: 127.0.0.1:6600\n    tls:\n      insecure: true\n\nservice:\n  pipelines:\n    traces:\n      receivers:\n      - otlp\n      processors:\n      - batch\n      exporters:\n      - logging\n      - otlp\n  telemetry:\n    logs:\n      level: debug #activate debug mode\n"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8(",(0,a.jsx)(n.code,{children:"endpoint"}),")\u8A2D\u5B9A\uFF1A",(0,a.jsx)(n.code,{children:"127.0.0.1:6600"})]}),"\n",(0,a.jsx)(n.p,{children:"\u30ED\u30FC\u30AB\u30EB\u306B\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u305F\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u304C\u4F7F\u7528\u3059\u308B\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30DD\u30FC\u30C8\u306F 6600\u3067\u3059\u3002"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"tls.secure"}),"\u8A2D\u5B9A\uFF1A",(0,a.jsx)(n.code,{children:"insecure: true"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"gzip\u5727\u7E2E\u8A2D\u5B9A\u3092\u30C7\u30D5\u30A9\u30EB\u30C8\u3067\u4F7F\u7528\u3057\u307E\u3059\u3002 (gzip\u4F7F\u7528)"}),"\n"]}),"\n"]}),(0,a.jsxs)(n.admonition,{type:"info",children:[(0,a.jsx)(n.p,{children:"OpenTelemetry Collector\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u306E\u8A73\u7D30\u306B\u3064\u3044\u3066\u306F\u3001\u6B21\u306E\u30EA\u30F3\u30AF\u3092\u53C2\u8003\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://opentelemetry.io/docs/collector/installation/",children:"Install the Collector"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://opentelemetry.io/docs/collector/custom-collector/",children:"Building a custom collector"})}),"\n"]}),"\n"]})]})]}),"\n",(0,a.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,a.jsx)(n.h2,{id:"\u305D\u306E\u4ED6\u306E\u30D7\u30E9\u30C3\u30C8\u30D5\u30A9\u30FC\u30E0",children:"\u305D\u306E\u4ED6\u306E\u30D7\u30E9\u30C3\u30C8\u30D5\u30A9\u30FC\u30E0"})}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"tyk-gateway",children:"Tyk Gateway"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://tyk.io/",children:"Tyk Gateway"}),"\u306EOpenTelemetry\u6A5F\u80FD\u3092\u6D3B\u6027\u5316\u3057\u305F\u4E0A\u3067OpenTelemetry Collecotr\u3092\u901A\u3058\u3066\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u60C5\u5831\u3092\u78BA\u8A8D\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"]}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"OpenTelemetry Collector\u3092Tyk Gateway\u306B\u63A5\u7D9A\u3057\u307E\u3059\u3002"}),"\n"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="tyk.conf"',children:'{\n  "log_level": "debug" ,\n  "listen_port": 8081,\n\n  ...\n\n  "opentelemetry": {\n      "enabled": true,\n      "endpoint": "111.222.333.444:4317",\n  }\n}\n'})}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"\u63A5\u7D9A\u3055\u308C\u305FOpenTelemetry Collector\u306Bwhatap-otel\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u304C\u63A5\u7D9A\u3055\u308C\u305F\u3089\u3001\u30C8\u30EC\u30FC\u30B9\u60C5\u5831\u3092\u53CE\u96C6\u3057\u307E\u3059\u3002"}),"\n"]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(n.h3,{id:"kong-gateway",children:"Kong Gateway"}),(0,a.jsx)(n.p,{children:"Kong Gateway\u306E\u5185\u8535OpenTelemetry\u30D7\u30E9\u30B0\u30A4\u30F3\u3092\u8A2D\u5B9A\u3059\u308B\u3068\u3001OpenTelemetry Collector\u3092\u901A\u3058\u3066\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u60C5\u5831\u3092\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002"}),(0,a.jsx)(n.p,{children:"OpenTelemetry\u30D7\u30E9\u30B0\u30A4\u30F3\u3067\u3001OpenTelemetry Collector\u306E\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8\u3092\u6307\u5B9A\u3057\u307E\u3059\u3002 Collector\u306BWhatap-otel\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u304C\u63A5\u7D9A\u3055\u308C\u308B\u3068\u3001\u30C8\u30EC\u30FC\u30B9\u60C5\u5831\u304C\u53CE\u96C6\u3055\u308C\u307E\u3059\u3002"}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"kong.conf"}),"\n",(0,a.jsx)(n.p,{children:"trace\u8A2D\u5B9A\u3092\u6709\u52B9\u5316\u3057\u307E\u3059\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"tracing_instrumentations = all\ntracing_sampling_rate = 1\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"OpenTelemetry\u30D7\u30E9\u30B0\u30A4\u30F3\u306E\u8A2D\u5B9A"}),"\n",(0,a.jsx)(n.p,{children:"OpenTelemetry Collector\u306E\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8URL\u3092\u767B\u9332\u3057\u307E\u3059\u3002"}),"\n",(0,a.jsx)(n.p,{children:"Collector\u306EOTLP\u30EC\u30B7\u30FC\u30D0\u30FC\u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u8A2D\u5B9A\u306F\u4EE5\u4E0B\u306E\u3068\u304A\u308A\u3067\u3059\u3002"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Protocol : http"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Port : 4318"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"URL :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Trace :  /v1/traces","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"http://x.x.x.x:4318/v1/traces",children:"http://x.x.x.x:4318/v1/traces"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Log  : /v1/logs","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"http://x.x.x.x:4318/v1/logs",children:"http://x.x.x.x:4318/v1/logs"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"\u57FA\u672C\u8A2D\u5B9A\u306E\u4F8B"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"traces_endpoint: http://otelcollector:4318/v1/traces\nlogs_endpoint: http://otelcollector:4318/v1/logs\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"kong.yaml \u306E\u8A2D\u5B9A\u4F8B"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"plugins:\n  - name: opentelemetry\n    config:\n      traces_endpoint: http://otelcollector:4318/v1/traces\n      logs_endpoint: http://otelcollector:4318/v1/logs\n      resource_attributes:\n        service.name: kong-otel\n\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Admin API\u306B\u3088\u308B\u30D7\u30E9\u30B0\u30A4\u30F3\u8A2D\u5B9A\u306E\u4F8B"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'curl -X POST http://localhost:8001/services/plugins \\\n--header "accept: application/json" \\\n--header "Content-Type: application/json" \\\n--data \'\n{\n    "name": "opentelemetry",\n    "config": {\n        "traces_endpoint": "http://otelcollector:4318/v1/traces",\n        "logs_endpoint": "http://otelcollector:4318/v1/logs",\n        "resource_attributes": {\n            "service.name": "kong-dev"\n        }\n    }\n}\n\'\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5BFE\u5FDC\u30D0\u30FC\u30B8\u30E7\u30F3\uFF1AKong Gateway 3.3.x \u4EE5\u4E0A"}),"\n"]}),(0,a.jsxs)(n.admonition,{type:"info",children:[(0,a.jsx)(n.p,{children:"\u8A2D\u5B9A\u306E\u8A73\u7D30\u306B\u3064\u3044\u3066\u306F\u3001\u4EE5\u4E0B\u306E\u30EA\u30F3\u30AF\u3092\u53C2\u7167\u3057\u3066\u304F\u3060\u3055\u3044\u3002"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://docs.konghq.com/hub/kong-inc/opentelemetry/how-to/getting-started/",children:"Set up Kong Gateway"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://docs.konghq.com/hub/kong-inc/opentelemetry/configuration/",children:"OpenTelemetry Configuration"})}),"\n"]}),"\n"]})]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u958B\u59CB",children:"\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u306E\u958B\u59CB"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["\u3059\u3079\u3066\u306E\u8A2D\u5B9A\u3092\u5B8C\u4E86\u3057\u305F\u5F8C\u3001\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u30B5\u30FC\u30D0\u30FC\u3092\u518D\u8D77\u52D5\u3059\u308B\u3068\u3001\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u304C\u60C5\u5831\u3092\u53CE\u96C6\u3057\u307E\u3059\u3002 ",(0,a.jsx)(t,{sid:"dashboard",className:"uitext"})," > ",(0,a.jsx)(t,{sid:"application_dashboard",className:"uitext"}),"\u30E1\u30CB\u30E5\u30FC\u306B\u79FB\u52D5\u3057\u3066\u3001\u53CE\u96C6\u3055\u308C\u305F\u30C7\u30FC\u30BF\u3092\u30EA\u30A2\u30EB\u30BF\u30A4\u30E0\u3067\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u8A73\u7D30\u306B\u3064\u3044\u3066\u306F\u3001",(0,a.jsx)(n.a,{href:"set-agent",children:"\u6B21\u306E\u6587\u66F8"}),"\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n"]})]})]})}function h(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}function m(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},84429:function(e,n,t){t.d(n,{R:()=>s,x:()=>o});var l=t(96540);let a={},r=l.createContext(a);function s(e){let n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);