"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["60261"],{2017:function(e,a,n){n.r(a),n.d(a,{metadata:()=>s,default:()=>h,frontMatter:()=>t,contentTitle:()=>r,toc:()=>d,assets:()=>l});var s=JSON.parse('{"id":"java/install-agent-with-buildpack","title":"\u30D3\u30EB\u30C9\u30D1\u30C3\u30AF\u3092\u4F7F\u7528\u3057\u305FJava\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","description":"\u30D3\u30EB\u30C9\u30D1\u30C3\u30AF\u3092\u4F7F\u7528\u3057\u3066Java\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\u65B9\u6CD5\u3092\u8AAC\u660E\u3057\u307E\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/java/install-agent-with-buildpack.mdx","sourceDirName":"java","slug":"/java/install-agent-with-buildpack","permalink":"/whatap-docs/ja/java/install-agent-with-buildpack","draft":false,"unlisted":false,"editUrl":"undefined/docs/java/install-agent-with-buildpack.mdx","tags":[],"version":"current","frontMatter":{"id":"install-agent-with-buildpack","title":"\u30D3\u30EB\u30C9\u30D1\u30C3\u30AF\u3092\u4F7F\u7528\u3057\u305FJava\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","description":"\u30D3\u30EB\u30C9\u30D1\u30C3\u30AF\u3092\u4F7F\u7528\u3057\u3066Java\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\u65B9\u6CD5\u3092\u8AAC\u660E\u3057\u307E\u3059\u3002","keywords":["Java","\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8","\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8","\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3"],"displayed_sidebar":"javaSidebar","isTranslationMissing":false},"sidebar":"javaSidebar"}'),i=n(74848),c=n(84429);let t={id:"install-agent-with-buildpack",title:"\u30D3\u30EB\u30C9\u30D1\u30C3\u30AF\u3092\u4F7F\u7528\u3057\u305FJava\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",description:"\u30D3\u30EB\u30C9\u30D1\u30C3\u30AF\u3092\u4F7F\u7528\u3057\u3066Java\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\u65B9\u6CD5\u3092\u8AAC\u660E\u3057\u307E\u3059\u3002",keywords:["Java","\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8","\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8","\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3"],displayed_sidebar:"javaSidebar",isTranslationMissing:!1},r,l={},d=[{value:"WhaTap buildpack\u57FA\u672C\u8A2D\u5B9A",id:"whatap-buildpack\u57FA\u672C\u8A2D\u5B9A",level:2},{value:"\u30AA\u30D7\u30B7\u30E7\u30F3\u8A2D\u5B9A",id:"\u30AA\u30D7\u30B7\u30E7\u30F3\u8A2D\u5B9A",level:2},{value:"Tomcat10\u74B0\u5883",id:"tomcat10\u74B0\u5883",level:2},{value:"Container\u5B9F\u884C\u30AA\u30D7\u30B7\u30E7\u30F3",id:"container\u5B9F\u884C\u30AA\u30D7\u30B7\u30E7\u30F3",level:2}];function o(e){let a={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.p,{children:"Gradle\u3092\u4F7F\u7528\u3059\u308BJava\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u3067\u5B9F\u884C\u53EF\u80FD\u306A\u30C9\u30C3\u30AB\u30FC\u30A4\u30E1\u30FC\u30B8\u3092\u30D3\u30EB\u30C9\u3059\u308B\u5834\u5408\u306F\u3001\u30D3\u30EB\u30C9\u30D1\u30C3\u30AF\u3092\u4F7F\u7528\u3057\u3066\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3067\u304D\u307E\u3059\u3002"}),"\n",(0,i.jsxs)(a.section,{className:"remark-sectionize-h2",children:[(0,i.jsx)(a.h2,{id:"whatap-buildpack\u57FA\u672C\u8A2D\u5B9A",children:"WhaTap buildpack\u57FA\u672C\u8A2D\u5B9A"}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",metastring:"title='build.gradle'",children:'tasks.named("bootBuildImage") {\n	buildpacks = ["urn:cnb:builder:paketo-buildpacks/java",	\n								"docker.io/whatap/paketo-buildpack-apm"]\n}\n'})})]}),"\n",(0,i.jsxs)(a.section,{className:"remark-sectionize-h2",children:[(0,i.jsx)(a.h2,{id:"\u30AA\u30D7\u30B7\u30E7\u30F3\u8A2D\u5B9A",children:"\u30AA\u30D7\u30B7\u30E7\u30F3\u8A2D\u5B9A"}),(0,i.jsxs)(a.p,{children:["WhaTap\u53CE\u96C6\u30B5\u30FC\u30D0\u30FC\u306B\u63A5\u7D9A\u3055\u308C\u3066\u3044\u306A\u3044\u3068\u30C7\u30FC\u30BF\u306F\u53CE\u96C6\u3055\u308C\u307E\u305B\u3093\u3002 \u30A2\u30AF\u30BB\u30B9\u30AD\u30FC(",(0,i.jsx)(a.code,{children:"accesskey"}),")\u3001WhaTap\u53CE\u96C6\u30B5\u30FC\u30D0\u30FC\u30A2\u30C9\u30EC\u30B9(",(0,i.jsx)(a.code,{children:"whatap.server.host"}),")\u60C5\u5831\u306F\u5FC5\u9808\u3067\u3059\u3002 \u305D\u306E\u4ED6\u3001\u74B0\u5883\u3084\u6A5F\u80FD\u306E\u5FC5\u8981\u306B\u5FDC\u3058\u3066\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8FFD\u52A0\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002"]}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",metastring:"title='build.gradle'",children:'tasks.named("bootBuildImage") {\n  // Whatap \n  environment["BP_WHATAP_ENABLED"] = "true"\n  // java 17, There must be a space at the beginning.\n  environment["BPE_APPEND_JAVA_TOOL_OPTIONS"] = " --add-opens=java.base/java.lang=ALL-UNNAMED "\n  // add multi options, delimeter is linefeed character\n  environment["BP_WHATAP_OPTIONS"] = "accesskey=aaa-bbb-ccc\\nwhatap.server.host=1.1.1.1/2.2.2.2"\n\n  buildpacks = ["urn:cnb:builder:paketo-buildpacks/java",	"docker.io/whatap/paketo-buildpack-apm"]\n}\n'})}),(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"BP_WHATAP_ENABLED"})}),"\n",(0,i.jsxs)(a.p,{children:["WhaTap\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u6709\u52B9\u306E\u6709\u7121\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002 \u5024\u304C",(0,i.jsx)(a.code,{children:"false"}),"\u306E\u5834\u5408\u3001\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u306F\u7D9A\u884C\u3055\u308C\u307E\u3059\u304C\u3001\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u304C\u505C\u6B62\u3057\u305F\u72B6\u614B\u3067\u958B\u59CB\u3055\u308C\u307E\u3059\u3002 \u5F8C\u3067\u3001",(0,i.jsx)(a.a,{href:"https://service.whatap.io",children:"WhaTap\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u30B5\u30FC\u30D3\u30B9"}),"\u306E",(0,i.jsx)(a.strong,{children:(0,i.jsx)(a.em,{children:"\u7BA1\u7406"})})," > ",(0,i.jsx)(a.strong,{children:(0,i.jsx)(a.em,{children:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A"})}),"\u30E1\u30CB\u30E5\u30FC\u304B\u3089",(0,i.jsx)(a.code,{children:"true"}),"\u306B\u5909\u66F4\u3067\u304D\u307E\u3059\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"BPE_APPEND_JAVA_TOOL_OPTIONS"})}),"\n",(0,i.jsx)(a.p,{children:"Java17\u30D0\u30FC\u30B8\u30E7\u30F3\u4EE5\u964D\u3092\u4F7F\u7528\u3059\u308B\u5834\u5408\u306F\u3001\u5FC5\u8981\u306B\u5FDC\u3058\u3066jvm\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8FFD\u52A0\u3057\u307E\u3059\u3002"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",children:'environment["BPE_DELIM_JAVA_TOOL_OPTIONS"] = " "\nenvironment["BPE_APPEND_JAVA_TOOL_OPTIONS"] = "--add-opens=java.base/java.lang=ALL-UNNAMED"\n'})}),"\n",(0,i.jsx)(a.p,{children:"delimeter\u74B0\u5883\u5909\u6570\u3092\u4F7F\u7528\u3057\u306A\u3044\u5834\u5408\u306F\u3001\u524D\u5F8C\u306B\u7A7A\u767D\u3092\u8FFD\u52A0\u3057\u307E\u3059\u3002"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",children:'environment["BPE_APPEND_JAVA_TOOL_OPTIONS"] = " --add-opens=java.base/java.lang=ALL-UNNAMED "\n'})}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"BP_WHATAP_OPTIONS"})}),"\n",(0,i.jsxs)(a.p,{children:['WhaTap\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u3092\u8FFD\u52A0\u3067\u304D\u307E\u3059\u3002 \u30E9\u30A4\u30F3\u30D5\u30A3\u30FC\u30C9"\\n"\u3092\u533A\u5207\u308A\u6587\u5B57\u3068\u3057\u3066\u30D7\u30B7\u30E7\u30F3\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002 \u30AA\u30D7\u30B7\u30E7\u30F3\u306F',(0,i.jsx)(a.code,{children:"key=value"}),"\u3068\u306A\u308A\u307E\u3059\u3002 \u8A2D\u5B9A\u3057\u305F\u30AA\u30D7\u30B7\u30E7\u30F3\u5024\u306F\u3001Docker Image\u751F\u6210\u6BB5\u968E\u3067",(0,i.jsx)(a.code,{children:"whatap.conf"}),"\u30D5\u30A1\u30A4\u30EB\u306B\u4FDD\u5B58\u3055\u308C\u307E\u3059\u3002"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",children:'environment["BP_WHATAP_OPTIONS"] = "accesskey={\u30A2\u30AF\u30BB\u30B9\u30AD\u30FC}\\nwhatap.server.host={\u53CE\u96C6\u30B5\u30FC\u30D0\u30FC\u30A2\u30C9\u30EC\u30B9}"\n// \u4F8B\uFF1Aenvironment["BP_WHATAP_OPTIONS"] = "accesskey=aaa-bbb-ccc\\nwhatap.server.host=1.1.1.1/2.2.2.2"\n'})}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(a.section,{className:"remark-sectionize-h2",children:[(0,i.jsx)(a.h2,{id:"tomcat10\u74B0\u5883",children:"Tomcat10\u74B0\u5883"}),(0,i.jsxs)(a.p,{children:["Tomcat\u74B0\u5883\u3067\u306F\u3001",(0,i.jsx)(a.code,{children:"weaving=tomcat10"}),"\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u5FC5\u9808\u3067\u8FFD\u52A0\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002"]}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",children:'environment["BP_WHATAP_OPTIONS"] = "accesskey={\u30A2\u30AF\u30BB\u30B9\u30AD\u30FC}\\nwhatap.server.host={\u53CE\u96C6\u30B5\u30FC\u30D0\u30FC\u30A2\u30C9\u30EC\u30B9}\\nweaving=tomcat10"\n'})})]}),"\n",(0,i.jsxs)(a.section,{className:"remark-sectionize-h2",children:[(0,i.jsx)(a.h2,{id:"container\u5B9F\u884C\u30AA\u30D7\u30B7\u30E7\u30F3",children:"Container\u5B9F\u884C\u30AA\u30D7\u30B7\u30E7\u30F3"}),(0,i.jsx)(a.p,{children:"\u30B3\u30F3\u30C6\u30CA(Container) \u306E\u5B9F\u884C\u6642\u3001\u74B0\u5883\u5909\u6570\u3068\u3057\u3066\u30A2\u30AF\u30BB\u30B9\u30AD\u30FC\u3068WhaTap\u53CE\u96C6\u30B5\u30FC\u30D0\u30FC\u30A2\u30C9\u30EC\u30B9\u3092\u6B21\u306E\u3088\u3046\u306B\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002"}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-docker",children:"docker run --rm -p 8080:8080 \\\n  -e accesskey={\u30A2\u30AF\u30BB\u30B9\u30AD\u30FC} \\\n  -e whatap.server.host={\u53CE\u96C6\u30B5\u30FC\u30D0\u30FC\u306E\u30A2\u30C9\u30EC\u30B9} \\\n  -e weaving=tomcat10,webflux-6.0 \\\n  spring-boot-gradle-hello-world-pcketo-buildpack-whatap\n"})})]})]})}function h(e={}){let{wrapper:a}={...(0,c.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},84429:function(e,a,n){n.d(a,{R:()=>t,x:()=>r});var s=n(96540);let i={},c=s.createContext(i);function t(e){let a=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(c.Provider,{value:a},e.children)}}}]);