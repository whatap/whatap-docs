"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["21908"],{86913:function(e,s,n){n.r(s),n.d(s,{metadata:()=>t,default:()=>h,frontMatter:()=>i,contentTitle:()=>a,toc:()=>l,assets:()=>o});var t=JSON.parse('{"id":"npm/set-aws-resource-options","title":"AWS\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u306E\u53CE\u96C6\u30AA\u30D7\u30B7\u30E7\u30F3","description":"AWS\u74B0\u5883\u3067\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u3092\u53CE\u96C6\u3057\u3001\u30C8\u30DD\u30ED\u30B8\u30FC\u753B\u9762\u306B\u8868\u73FE\u3067\u304D\u307E\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/npm/set-aws-resource-options.mdx","sourceDirName":"npm","slug":"/npm/set-aws-resource-options","permalink":"/whatap-docs/ja/npm/set-aws-resource-options","draft":false,"unlisted":false,"editUrl":"undefined/docs/npm/set-aws-resource-options.mdx","tags":[],"version":"current","frontMatter":{"id":"set-aws-resource-options","title":"AWS\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u306E\u53CE\u96C6\u30AA\u30D7\u30B7\u30E7\u30F3","description":"AWS\u74B0\u5883\u3067\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u3092\u53CE\u96C6\u3057\u3001\u30C8\u30DD\u30ED\u30B8\u30FC\u753B\u9762\u306B\u8868\u73FE\u3067\u304D\u307E\u3059\u3002","keywords":["\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u6027\u80FD\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0","\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8","AWS","Amazon Linux"],"isTranslationMissing":false},"sidebar":"npmsidebar","previous":{"title":"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","permalink":"/whatap-docs/ja/npm/install-agent"},"next":{"title":"tagRule\u8A2D\u5B9A","permalink":"/whatap-docs/ja/npm/set-tagrule"}}'),c=n(74848),r=n(84429);let i={id:"set-aws-resource-options",title:"AWS\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u306E\u53CE\u96C6\u30AA\u30D7\u30B7\u30E7\u30F3",description:"AWS\u74B0\u5883\u3067\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u3092\u53CE\u96C6\u3057\u3001\u30C8\u30DD\u30ED\u30B8\u30FC\u753B\u9762\u306B\u8868\u73FE\u3067\u304D\u307E\u3059\u3002",keywords:["\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u6027\u80FD\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0","\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8","AWS","Amazon Linux"],isTranslationMissing:!1},a,o={},l=[{value:"EC2\u74B0\u5883\u3067\u306EAWS\u30EA\u30BD\u30FC\u30B9\u6A29\u9650\u8A2D\u5B9A",id:"set-aws-resource-ec2",level:2},{value:"AWS IAM\u306E\u8A2D\u5B9A",id:"aws-iam\u306E\u8A2D\u5B9A",level:3},{value:"EKS\u74B0\u5883\u3067\u306EAWS\u30EA\u30BD\u30FC\u30B9\u6A29\u9650\u8A2D\u5B9A",id:"set-aws-resource-eks",level:2},{value:"AWS IAM\u306E\u8A2D\u5B9A",id:"aws-iam\u306E\u8A2D\u5B9A-1",level:3},{value:"Service Account\u306E\u8A2D\u5B9A",id:"service-account\u306E\u8A2D\u5B9A",level:3}];function d(e){let s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",section:"section",strong:"strong",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.p,{children:"AWS\u74B0\u5883\u3067\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u6027\u80FD\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u4F7F\u7528\u3059\u308B\u306B\u306F\u3001\u5404\u30EA\u30BD\u30FC\u30B9(LB\u306A\u3069)\u306B\u63A5\u7D9A\u3055\u308C\u305FEC2\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u30A4\u30F3\u30BF\u30D5\u30A7\u30FC\u30B9(ENI)\u60C5\u5831\u3092\u53CE\u96C6\u3059\u308B\u3053\u3068\u3067\u30C8\u30DD\u30ED\u30B8\u30FC\u306B\u8868\u73FE\u3067\u304D\u307E\u3059\u3002 AWS\u8981\u7D20\u306B\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3092\u76F4\u63A5\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u306A\u3044\u305F\u3081\u3001\u53CE\u96C6\u3055\u308C\u305FIP\u3092\u57FA\u6E96\u306B\u95A2\u9023\u4ED8\u3051\u3089\u308C\u305FENI\u3092\u78BA\u8A8D\u3057\u3066\u8868\u73FE\u3057\u307E\u3059\u3002"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"Example",src:n(47209).A+"",width:"800",height:"316"})}),"\n",(0,c.jsxs)(s.p,{children:["AWS\u306EELB\u3092\u901A\u3058\u3066\u5185\u90E8\u306B\u30C8\u30E9\u30D5\u30A3\u30C3\u30AF\u304C\u8A8D\u53EF\u3055\u308C\u308B\u5834\u5408\u3001\u56F3\u306E\u3088\u3046\u306BENI\u306B\u8868\u73FE\u3055\u308C\u305F\u60C5\u5831\u3092\u901A\u3058\u3066\u30C8\u30DD\u30ED\u30B8\u30FC\u306B\u8868\u73FE\u3067\u304D\u307E\u3059\u3002 AWS ENI\u306E",(0,c.jsx)(s.code,{children:"Description"}),"\u30D5\u30A3\u30FC\u30EB\u30C9\u3092\u57FA\u6E96\u306B\u8868\u73FE\u3057\u307E\u3059\u3002 \u3082\u3057",(0,c.jsx)(s.code,{children:"Description"}),"\u30D5\u30A3\u30FC\u30EB\u30C9\u306B\u4F55\u306E\u60C5\u5831\u3082\u6B8B\u3055\u306A\u3044\u5834\u5408\u3001",(0,c.jsx)(s.code,{children:"NetworkInterfaceId"}),"\u5C5E\u6027\u3092\u63D0\u4F9B\u3057\u307E\u3059\u3002"]}),"\n",(0,c.jsxs)(s.section,{className:"remark-sectionize-h2",children:[(0,c.jsx)(s.h2,{id:"set-aws-resource-ec2",children:"EC2\u74B0\u5883\u3067\u306EAWS\u30EA\u30BD\u30FC\u30B9\u6A29\u9650\u8A2D\u5B9A"}),(0,c.jsxs)(s.p,{children:["AWS EC2\u306B",(0,c.jsx)(s.strong,{children:"NPM"}),"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\u5834\u5408\u3001IAM\u8A2D\u5B9A\u3092\u901A\u3058\u3066AWS\u306E\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u3092\u53CE\u96C6\u3067\u304D\u307E\u3059\u3002"]}),(0,c.jsx)(s.admonition,{type:"note",children:(0,c.jsx)(s.p,{children:(0,c.jsx)(s.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2.html",children:"AWS\u8A2D\u5B9A\u30AC\u30A4\u30C9"})})})]}),"\n",(0,c.jsxs)(s.section,{className:"remark-sectionize-h3",children:[(0,c.jsx)(s.h3,{id:"aws-iam\u306E\u8A2D\u5B9A",children:"AWS IAM\u306E\u8A2D\u5B9A"}),(0,c.jsxs)(s.p,{children:["AWS IAM\u306E\u30DD\u30EA\u30B7\u30FC\u8A2D\u5B9A\u30D7\u30ED\u30BB\u30B9\u3067\u6700\u5C0F\u6A29\u9650\u3092\u6307\u5B9A\u3059\u308B\u3088\u3046\u306B\u6C42\u3081\u3066\u3044\u307E\u3059\u3002 ",(0,c.jsx)(s.strong,{children:"NPM"}),"\u3067AWS\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u3092\u53CE\u96C6\u3059\u308B\u306B\u306F\u3001",(0,c.jsx)(s.code,{children:"ec2:DescribeNetworkInterfaces"}),"\u6A29\u9650\u304C\u5FC5\u8981\u3067\u3059\u3002"]}),(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-json",children:'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Action": [\n              //...\n              "ec2:DescribeNetworkInterfaces"\n            ],\n            "Resource": "*"\n        }\n    ]\n}\n'})}),(0,c.jsx)(s.admonition,{type:"note",children:(0,c.jsxs)(s.p,{children:["\u30DD\u30EA\u30B7\u30FC\u3068\u6A29\u9650\u306E\u8A73\u7D30\u306B\u3064\u3044\u3066\u306F\u3001",(0,c.jsx)(s.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-policy-structure.html#policy-syntax",children:"\u6B21\u306E\u30EA\u30F3\u30AF"}),"\u3092\u53C2\u8003\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]})})]}),"\n",(0,c.jsxs)(s.section,{className:"remark-sectionize-h2",children:[(0,c.jsx)(s.h2,{id:"set-aws-resource-eks",children:"EKS\u74B0\u5883\u3067\u306EAWS\u30EA\u30BD\u30FC\u30B9\u6A29\u9650\u8A2D\u5B9A"}),(0,c.jsxs)(s.p,{children:["AWS EKS\u3067",(0,c.jsx)(s.strong,{children:"NPM"}),"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\u5834\u5408\u3001SeviceAccount\u3092\u901A\u3058\u3066AWS\u306E\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u3092\u53CE\u96C6\u3067\u304D\u307E\u3059\u3002"]}),(0,c.jsx)(s.admonition,{type:"note",children:(0,c.jsx)(s.p,{children:(0,c.jsx)(s.a,{href:"https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts.html",children:"AWS\u8A2D\u5B9A\u30AC\u30A4\u30C9"})})})]}),"\n",(0,c.jsxs)(s.section,{className:"remark-sectionize-h3",children:[(0,c.jsx)(s.h3,{id:"aws-iam\u306E\u8A2D\u5B9A-1",children:"AWS IAM\u306E\u8A2D\u5B9A"}),(0,c.jsxs)(s.p,{children:["AWS IAM\u306E\u30DD\u30EA\u30B7\u30FC\u8A2D\u5B9A\u30D7\u30ED\u30BB\u30B9\u3067\u6700\u5C0F\u6A29\u9650\u3092\u6307\u5B9A\u3059\u308B\u3088\u3046\u306B\u6C42\u3081\u3066\u3044\u307E\u3059\u3002 ",(0,c.jsx)(s.strong,{children:"NPM"}),"\u3067AWS\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u3092\u53CE\u96C6\u3059\u308B\u306B\u306F\u3001",(0,c.jsx)(s.code,{children:"ec2:DescribeNetworkInterfaces"}),"\u6A29\u9650\u304C\u5FC5\u8981\u3067\u3059\u3002"]}),(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-json",children:'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Action": [\n              //...\n              "ec2:DescribeNetworkInterfaces"\n            ],\n            "Resource": "*"\n        }\n    ]\n}\n'})}),(0,c.jsx)(s.admonition,{type:"note",children:(0,c.jsxs)(s.p,{children:["\u30DD\u30EA\u30B7\u30FC\u3068\u6A29\u9650\u306E\u8A73\u7D30\u306B\u3064\u3044\u3066\u306F\u3001",(0,c.jsx)(s.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-policy-structure.html#policy-syntax",children:"\u6B21\u306E\u30EA\u30F3\u30AF"}),"\u3092\u53C2\u8003\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]})})]}),"\n",(0,c.jsxs)(s.section,{className:"remark-sectionize-h3",children:[(0,c.jsx)(s.h3,{id:"service-account\u306E\u8A2D\u5B9A",children:"Service Account\u306E\u8A2D\u5B9A"}),(0,c.jsxs)(s.p,{children:["AWS EKS\u306E\u8A2D\u5B9A\u904E\u7A0B\u3067\u306F\u3001IAM\u3068Kubernetes\u306EService Account\u3092\u63A5\u7D9A\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u3001",(0,c.jsx)(s.strong,{children:"NPM"}),"\u3067AWS\u30EA\u30BD\u30FC\u30B9\u60C5\u5831\u3092\u53CE\u96C6\u3059\u308B\u306B\u306F\u3001IAM\u3068NPM\u306EService Account\u3092\u63A5\u7D9A\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002"]}),(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.strong,{children:"NPM"}),"\u3067\u306F\u3001\u6B21\u306EService Account\u3092\u4F7F\u7528\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-yaml",children:"namespace : whatap-npm-ns\nservice_account : whatap-npm\n"})}),(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-bash",metastring:"title='example'",children:"kubectl annotate serviceaccount -n whatap-npm-ns whatap-npm eks.amazonaws.com/role-arn=arn:aws:iam::$account_id:role/$role\n"})})]})]})}function h(e={}){let{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},47209:function(e,s,n){n.d(s,{A:()=>t});let t=n.p+"assets/images/npm-aws-resource-example-7283d5ee26552538c0cf9390ebac4d00.png"},84429:function(e,s,n){n.d(s,{R:()=>i,x:()=>a});var t=n(96540);let c={},r=t.createContext(c);function i(e){let s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);