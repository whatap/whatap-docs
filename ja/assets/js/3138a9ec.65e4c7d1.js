"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["1789"],{35802:function(e,n,t){t.r(n),t.d(n,{metadata:()=>a,default:()=>p,frontMatter:()=>s,contentTitle:()=>l,toc:()=>o,assets:()=>c});var a=JSON.parse('{"id":"java/async-tracking","title":"\u975E\u540C\u671F\u8FFD\u8DE1","description":"Java\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u3092\u4ECB\u3057\u3066\u975E\u540C\u671F\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u6D3B\u52D5\u3092\u8FFD\u8DE1\u3059\u308B\u65B9\u6CD5\u3092\u6848\u5185\u3057\u307E\u3059\u3002 CompletableFuture\u30E1\u30BD\u30C3\u30C9\u306E\u53CE\u96C6\u65B9\u6CD5\u3068\u3001\u30E6\u30FC\u30B6\u30FC\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u306B\u305D\u306E\u30E1\u30BD\u30C3\u30C9\u3092hooking\u3059\u308B\u65B9\u6CD5\u304C\u542B\u307E\u308C\u307E\u3059\u3002 \u8A2D\u5B9A\u4F8B\u3068\u3068\u3082\u306Bwhatap.conf\u30D5\u30A1\u30A4\u30EB\u306B\u8FFD\u52A0\u3059\u3079\u304D\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u63D0\u4F9B\u3057\u3001\u975E\u540C\u671F\u547C\u3073\u51FA\u3057\u306E\u6027\u80FD\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u5F37\u5316\u3067\u304D\u308B\u3088\u3046\u306B\u30B5\u30DD\u30FC\u30C8\u3057\u307E\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/java/async-tracking.mdx","sourceDirName":"java","slug":"/java/async-tracking","permalink":"/whatap-docs/ja/java/async-tracking","draft":false,"unlisted":false,"editUrl":"undefined/docs/java/async-tracking.mdx","tags":[],"version":"current","frontMatter":{"id":"async-tracking","title":"\u975E\u540C\u671F\u8FFD\u8DE1","description":"Java\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u3092\u4ECB\u3057\u3066\u975E\u540C\u671F\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u6D3B\u52D5\u3092\u8FFD\u8DE1\u3059\u308B\u65B9\u6CD5\u3092\u6848\u5185\u3057\u307E\u3059\u3002 CompletableFuture\u30E1\u30BD\u30C3\u30C9\u306E\u53CE\u96C6\u65B9\u6CD5\u3068\u3001\u30E6\u30FC\u30B6\u30FC\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u306B\u305D\u306E\u30E1\u30BD\u30C3\u30C9\u3092hooking\u3059\u308B\u65B9\u6CD5\u304C\u542B\u307E\u308C\u307E\u3059\u3002 \u8A2D\u5B9A\u4F8B\u3068\u3068\u3082\u306Bwhatap.conf\u30D5\u30A1\u30A4\u30EB\u306B\u8FFD\u52A0\u3059\u3079\u304D\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u63D0\u4F9B\u3057\u3001\u975E\u540C\u671F\u547C\u3073\u51FA\u3057\u306E\u6027\u80FD\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u5F37\u5316\u3067\u304D\u308B\u3088\u3046\u306B\u30B5\u30DD\u30FC\u30C8\u3057\u307E\u3059\u3002","keywords":["Java","\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3","\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8","\u975E\u540C\u671F\u8FFD\u8DE1"],"isTranslationMissing":false},"sidebar":"javaSidebar","previous":{"title":"\u4ED8\u52A0\u6A5F\u80FD","permalink":"/whatap-docs/ja/java/agent-additional-option"},"next":{"title":"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8","permalink":"/whatap-docs/ja/java/update-agent"}}'),r=t(74848),i=t(84429);let s={id:"async-tracking",title:"\u975E\u540C\u671F\u8FFD\u8DE1",description:"Java\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u3092\u4ECB\u3057\u3066\u975E\u540C\u671F\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u6D3B\u52D5\u3092\u8FFD\u8DE1\u3059\u308B\u65B9\u6CD5\u3092\u6848\u5185\u3057\u307E\u3059\u3002 CompletableFuture\u30E1\u30BD\u30C3\u30C9\u306E\u53CE\u96C6\u65B9\u6CD5\u3068\u3001\u30E6\u30FC\u30B6\u30FC\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u306B\u305D\u306E\u30E1\u30BD\u30C3\u30C9\u3092hooking\u3059\u308B\u65B9\u6CD5\u304C\u542B\u307E\u308C\u307E\u3059\u3002 \u8A2D\u5B9A\u4F8B\u3068\u3068\u3082\u306Bwhatap.conf\u30D5\u30A1\u30A4\u30EB\u306B\u8FFD\u52A0\u3059\u3079\u304D\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u63D0\u4F9B\u3057\u3001\u975E\u540C\u671F\u547C\u3073\u51FA\u3057\u306E\u6027\u80FD\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u5F37\u5316\u3067\u304D\u308B\u3088\u3046\u306B\u30B5\u30DD\u30FC\u30C8\u3057\u307E\u3059\u3002",keywords:["Java","\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3","\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8","\u975E\u540C\u671F\u8FFD\u8DE1"],isTranslationMissing:!1},l,c={},o=[{value:"CompletableFuture",id:"completablefuture",level:2},{value:"CompletableFuture\u30E1\u30BD\u30C3\u30C9\u306E\u8FFD\u52A0",id:"completablefuture\u30E1\u30BD\u30C3\u30C9\u306E\u8FFD\u52A0",level:3},{value:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u8FFD\u52A0",id:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u8FFD\u52A0",level:3},{value:"\u4F7F\u7528\u4F8B",id:"\u4F7F\u7528\u4F8B",level:3}];function u(e){let n={admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Java\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u3092\u4ECB\u3057\u3066\u975E\u540C\u671F\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u6D3B\u52D5\u3092\u8FFD\u8DE1\u3059\u308B\u65B9\u6CD5\u3092\u6848\u5185\u3057\u307E\u3059\u3002 ",(0,r.jsx)(n.code,{children:"CompletableFuture"}),"\u30E1\u30BD\u30C3\u30C9\u306E\u53CE\u96C6\u65B9\u6CD5\u3068\u3001\u30E6\u30FC\u30B6\u30FC\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u306B\u305D\u306E\u30E1\u30BD\u30C3\u30C9\u3092hooking\u3059\u308B\u65B9\u6CD5\u304C\u542B\u307E\u308C\u307E\u3059\u3002 \u8A2D\u5B9A\u4F8B\u3068\u3068\u3082\u306B",(0,r.jsx)(n.em,{children:"whatap.conf"}),"\u30D5\u30A1\u30A4\u30EB\u306B\u8FFD\u52A0\u3059\u3079\u304D\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u63D0\u4F9B\u3057\u3001\u975E\u540C\u671F\u547C\u3073\u51FA\u3057\u306E\u6027\u80FD\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u5F37\u5316\u3067\u304D\u308B\u3088\u3046\u306B\u30B5\u30DD\u30FC\u30C8\u3057\u307E\u3059\u3002"]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"completablefuture",children:"CompletableFuture"}),(0,r.jsx)(n.p,{children:"Java\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u3092\u901A\u3058\u3066CompletableFuture\u30E1\u30BD\u30C3\u30C9\u3092\u53CE\u96C6\u3059\u308B\u65B9\u6CD5\u3092\u3054\u6848\u5185\u3057\u307E\u3059\u3002"})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"completablefuture\u30E1\u30BD\u30C3\u30C9\u306E\u8FFD\u52A0",children:"CompletableFuture\u30E1\u30BD\u30C3\u30C9\u306E\u8FFD\u52A0"}),(0,r.jsx)(n.p,{children:"\u30E6\u30FC\u30B6\u30FC\u306EJava\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3068\u3057\u3066hooking\u3059\u308BCompletableFuture\u30E1\u30BD\u30C3\u30C9\u3092\u8FFD\u52A0\u3057\u307E\u3059\u3002"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u30E1\u30BD\u30C3\u30C9\u540D\uFF1A'trace'\u3067\u7D71\u4E00"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["ReturnType: ",(0,r.jsx)(n.code,{children:"Supplier"}),", ",(0,r.jsx)(n.code,{children:"Consumer"}),", ",(0,r.jsx)(n.code,{children:"Runnable"}),", ",(0,r.jsx)(n.code,{children:"Future"}),", ",(0,r.jsx)(n.code,{children:"Function"})]}),"\n"]}),"\n"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"package io.home.test.util;\n\nimport java.util.concurrent.Future;\nimport java.util.function.Consumer;\nimport java.util.function.Supplier;\n\npublic class W {\n    public static <T> Supplier<T> trace(Supplier<T> f) {\n        return f;\n    }\n    public static <T> Consumer<T> trace(Consumer<T> f) {\n        return f;\n    }\n    public static <T> Runnable trace(Runnable f) {\n        return f;\n    }\n    public static <T> Future<T> trace(Future<T> f) {\n        return f;\n    }\n    public static <T, R> Function<T, R> trace(Function<T, R> f) {\n    return f;\n}\n}\n"})})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u8FFD\u52A0",children:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u8FFD\u52A0"}),(0,r.jsxs)(n.p,{children:["\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u8A2D\u5B9A\u306E\u305F\u3081\u3001",(0,r.jsx)(n.em,{children:"whatap.conf"}),"\u30D5\u30A1\u30A4\u30EB\u306B\u6B21\u306E\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8FFD\u52A0\u3057\u307E\u3059\u3002"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"hook_completablefuture_patterns=io.home.test.util.W.*\n"})}),(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Context\u304C\u3042\u308B\u5834\u5408\u306F\u3001",(0,r.jsx)(n.code,{children:"trace"}),"\u30E1\u30BD\u30C3\u30C9\u3092\u8FFD\u52A0\u3057\u3066\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u3092\u63A5\u7D9A\u3057\u307E\u3059\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Context\u304C\u306A\u3044\u5834\u5408\u306F\u3001",(0,r.jsx)(n.code,{children:"hook_service_patterns"}),"\u30AA\u30D7\u30B7\u30E7\u30F3\u3067\u30B5\u30FC\u30D3\u30B9\u3092\u958B\u59CB\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002"]}),"\n"]}),"\n"]})})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"\u4F7F\u7528\u4F8B",children:"\u4F7F\u7528\u4F8B"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u30A4\u30D9\u30F3\u30C8\u30BD\u30FC\u30B9"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:"showLineNumbers",children:'public CompletableFuture<String> serviceATimeout() {\n    return CompletableFuture.supplyAsync(() -> {\n        RestTemplate restTemplate = new RestTemplate();\n        return restTemplate.getForObject("http://localhost:8081/api/serviceB/timeout", String.class);\n    });\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"io.home.test.util.W.trace()"}),"\u9069\u7528"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:"showLineNumbers {3}",children:'// io.home.test.util.W.trace()\u9069\u7528\npublic CompletableFuture<String> serviceATimeout() {\n    return CompletableFuture.supplyAsync(W.trace(() -> {\n        RestTemplate restTemplate = new RestTemplate();\n        return restTemplate.getForObject("http://localhost:8081/api/serviceB/timeout", String.class);\n    }));\n}\n'})}),"\n"]}),"\n"]})]})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},84429:function(e,n,t){t.d(n,{R:()=>s,x:()=>l});var a=t(96540);let r={},i=a.createContext(r);function s(e){let n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);