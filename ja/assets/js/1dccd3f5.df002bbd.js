"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["72099"],{27592:function(e,n,s){s.r(n),s.d(n,{metadata:()=>i,default:()=>_,frontMatter:()=>t,contentTitle:()=>r,toc:()=>d,assets:()=>c});var i=JSON.parse('{"id":"release-notes/java/java-2_2_0","title":"Java Agent v2.2.0","description":"\u30EA\u30EA\u30FC\u30B9\uFF1A2022-11-01","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/release-notes/java/java-2.2.0.mdx","sourceDirName":"release-notes/java","slug":"/release-notes/java/java-2_2_0","permalink":"/whatap-docs/ja/release-notes/java/java-2_2_0","draft":false,"unlisted":false,"editUrl":"undefined/docs/release-notes/java/java-2.2.0.mdx","tags":[],"version":"current","frontMatter":{"id":"java-2_2_0","title":"Java Agent v2.2.0","toc_max_heading_level":2,"displayed_sidebar":"releaseSidebar","isTranslationMissing":false},"sidebar":"releaseSidebar"}'),l=s(74848),a=s(84429);s(31377),s(4344);let t={id:"java-2_2_0",title:"Java Agent v2.2.0",toc_max_heading_level:2,displayed_sidebar:"releaseSidebar",isTranslationMissing:!1},r,c={},d=[{value:"New Feature(\u65B0\u6A5F\u80FD)",id:"new-feature\u65B0\u6A5F\u80FD",level:2},{value:"Change\uFF08\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\uFF09",id:"change\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8",level:2},{value:"Fixed(\u30D0\u30B0\u4FEE\u6B63)",id:"fixed\u30D0\u30B0\u4FEE\u6B63",level:2}];function o(e){let n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",section:"section",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"\u30EA\u30EA\u30FC\u30B9\uFF1A2022-11-01"}),"\n",(0,l.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,l.jsx)(n.h2,{id:"new-feature\u65B0\u6A5F\u80FD",children:"New Feature(\u65B0\u6A5F\u80FD)"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"virtual\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u3067logsink\u30C7\u30FC\u30BF\u3092\u751F\u6210\u3059\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"logsink\u306Estdout\u30ED\u30B0\u3082txid\u60C5\u5831\u306B\u63A5\u7D9A\u3067\u304D\u308B\u3088\u3046\u306B\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"2\u79D2\u306E\u30C7\u30FC\u30BF\u53CE\u96C6\u306E\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"fast_perf_enabled=false\nfast_perf_interval=2000\nfast_perf_gc_enabled=true\nfast_perf_os_enabled=true\ndebug_fast_perf_enabled=false\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53CE\u96C6\u30C7\u30FC\u30BF"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u7D4C\u904E\u6642\u9593"}),"\n",(0,l.jsx)(n.li,{children:"\u30A2\u30AF\u30C6\u30A3\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3"}),"\n",(0,l.jsx)(n.li,{children:"gc\u60C5\u5831\uFF1Agc\u4EF6\u6570\u3001gc\u7D4C\u904E\u6642\u9593\u3001old generation gc\u4EF6\u6570\u3001old generation gc\u7D4C\u904E\u6642\u9593"}),"\n",(0,l.jsx)(n.li,{children:"OS\u60C5\u5831"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30A2\u30AF\u30C6\u30A3\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u4EF6\u6570\u306B\u3088\u3063\u3066\u901A\u77E5\u3092\u9001\u4FE1\u3059\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"# \u30A2\u30AF\u30C6\u30A3\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u901A\u77E5\u306E\u8A2D\u5B9A\u6709\u7121\ntoo_many_actx_alert_enabled=false\n\n# \u30A2\u30AF\u30C6\u30A3\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u901A\u77E5\u306E\u7121\u8996\u6642\u9593(ms)\ntoo_many_actx_alert_silent_time=30000\n\n# \u30A2\u30AF\u30C6\u30A3\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u901A\u77E5\u306E\u57FA\u6E96\u4EF6\u6570\ntoo_many_actx_alert_count=50\n\n# \u30A2\u30AF\u30C6\u30A3\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u901A\u77E5\u30E1\u30C3\u30BB\u30FC\u30B8\u306E\u8868\u793A\u4EF6\u6570\ntoo_many_actx_alert_msg_url_count=5\n\n# \u30A2\u30AF\u30C6\u30A3\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u901A\u77E5\u306E\u57FA\u6E96\u6642\u9593\ntoo_many_actx_alert_over_time=30000\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u30A2\u30AF\u30C6\u30A3\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u57FA\u6E96\u4EF6\u6570\u306F\u3001",(0,l.jsx)(n.code,{children:"too_many_actx_alert_count >= (too_many_actx_alert_over_time / 5000)"}),"\u3068\u3057\u3066\u6C7A\u5B9A\u3055\u308C\u307E\u3059"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u30A2\u30AF\u30C6\u30A3\u30D6\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u306E\u57FA\u6E96\u4EF6\u6570\u304C\u305D\u308C\u4EE5\u4E0A\u306E\u5834\u5408\u306F\u3001",(0,l.jsx)(n.code,{children:"too_many_actx_alert_msg_url_count"}),"\u306Eurl\u60C5\u5831\u3092\u901A\u77E5\u30E1\u30C3\u30BB\u30FC\u30B8\u306B\u8FFD\u52A0\u3057\u3066\u901A\u77E5\u3092\u9001\u4FE1\u3057\u307E\u3059\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30D0\u30C3\u30B0\u30AA\u30D7\u30B7\u30E7\u30F3\uFF1A\u30C7\u30D0\u30C3\u30B0\u5BFE\u8C61\u30D1\u30BF\u30FC\u30F3\u3092\u767B\u9332\u3057\u305F\u5834\u5408\u3001\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u3068\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u30ED\u30B0\u3067\u30B9\u30BF\u30C3\u30AF\u3092\u78BA\u8A8D\u3067\u304D\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"hook_method_debug_enabled=true\nhook_method_debug_patterns=\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30D7\u30E9\u30B0\u30A4\u30F3\u5229\u7528\u30AF\u30E9\u30B9\u306E\u8FFD\u52A0"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["_",(0,l.jsx)(n.code,{children:"{AGENT_HOME}"}),"/plugin/",(0,l.jsx)(n.code,{children:"{...}"}),".x_\u30D5\u30A1\u30A4\u30EB\u3067\u4F7F\u7528\u3059\u308B",(0,l.jsx)(n.code,{children:"HashTable"}),"\u30AF\u30E9\u30B9\u3092\u8FFD\u52A0\u3057\u307E\u3057\u305F\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"whatap.agent.api.Ref.h"}),"\u3092\u4F7F\u7528\u3059\u308B\u3068",(0,l.jsx)(n.code,{children:"HashTable"}),"\u3092\u4F7F\u7528\u3067\u304D\u307E\u3059\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:"title='Example'",children:"Class hashTable = (Class) whatap.agent.api.Ref.h;\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"TTA BMT\u5C02\u7528\u306E\u30AF\u30E9\u30B9\u3092\u8FFD\u52A0\uFF1AJava\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u30C7\u30E2\u30F3\u30B9\u30C8\u30EC\u30FC\u30B7\u30E7\u30F3\u306B\u4F7F\u7528\u53EF\u80FD"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:"title='Java Class'",children:"# map\nbmt.m.MyMap\n\n# datasource\nbmt.ds.MyDataSource\nbmt.ds.MyConnection\n\n# jdbc\nbmt.jdbc.Config\nbmt.jdbc.FakeBlob\nbmt.jdbc.FakeClob\nbmt.jdbc.FakeConnection\nbmt.jdbc.FakeDatabaseMetaData\nbmt.jdbc.FakeDriver\nbmt.jdbc.FakeCallableStatement\nbmt.jdbc.FakePreparedStatement\nbmt.jdbc.FakeResultSet\nbmt.jdbc.FakeStatement\nbmt.jdbc.FakeSocket\nbmt.jdbc.Lock\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",metastring:"title='Tracing'",children:'// Connection Pool\u306E\u8FFD\u8DE1\n// ConnectionPoolASM\ntarget.put("bmt/ds/MyDataSource", MyDataSource.className);\n\n// Connection Pool\u306E\u8FFD\u8DE1\n// DBConCountCollectorThread\nadd(new MyDataSource());\n\n// JDBC Connection\u306E\u8FFD\u8DE1\n// JDBCConnectionOpenASM\nAsmUtil.add(reserved, "bmt/ds/MyDataSource", "getConnection()Ljava/sql/Connection;");\n\n// JDBC Statement\u306E\u8FFD\u8DE1\n// JDBCStatementASM\ntarget.add("bmt/jdbc/FakeStatement");\n\n// JDBC PreparedStatement\u306E\u8FFD\u8DE1\n// JDBCPreparedStatementASM \ntarget.add("bmt/jdbc/FakePreparedStatement");\n\n// JDBC ResultSet\u306E\u8FFD\u8DE1\n// JDBCResultSetASM\ntarget.add("bmt/jdbc/FakeResultSet");\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30A8\u30E9\u30FC\u30B9\u30C6\u30C3\u30D7"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u306B\u30A8\u30E9\u30FC\u30B9\u30C6\u30C3\u30D7\u3092\u8FFD\u52A0\u3059\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8A2D\u5B9A\u3092\u8FFD\u52A0\u3057\u3066\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u306B\u30A8\u30E9\u30FC\u95A2\u9023\u60C5\u5831\u3092\u8868\u793A\u3059\u308B\u30B9\u30C6\u30C3\u30D7\u3092\u8FFD\u52A0"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"profile_error_step_enabled=false\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"jmx\u8A2D\u5B9A\u3092\u8FFD\u52A0\uFF1A\u4EFB\u610F\u306Ejmx\u60C5\u5831\u3092\u8FFD\u52A0\u3067\u8868\u793A\u3059\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"perfx_tomcat_enabled=false\nperfx_jmx_value_limit=100\nperfx_jmx_tag_from_objectname_enabled=false\n"})}),"\n",(0,l.jsx)(n.p,{children:"tomcat \u304B\u3089 jmx\u60C5\u5831\u3092\u53CE\u96C6\u3057\u3001\u30E1\u30C8\u30EA\u30AF\u30B9\u53C2\u7167\u3067 test1\u3001test2\u3092\u78BA\u8A8D\u3059\u308B\u305F\u3081\u306E\u8A2D\u5B9A\u306F\u6B21\u306E\u3068\u304A\u308A\u3067\u3059\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"perfx_jmx_enabled=true\nperfx_jmx@test1=Catalina:type=Connector,*\nperfx_jmx@test2=java.lang:type=GarbageCollector,*\nperfx_jmx_ignore@test2=LastGcInfo\n# perfx_debug_enabled=true\n# perfx_jmx_tag_from_objectname_enabled=false\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"oshi\u30E9\u30A4\u30D6\u30E9\u30EA\u3092\u4F7F\u7528\u3057\u3066\u3001\u30D7\u30ED\u30BB\u30B9\u306Eproc_mem_rss\u30C7\u30FC\u30BF\u3092\u8FFD\u8DE1\u3059\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"oshi_proc_mem_enabled=false\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"org.edb.jdbc.PgCallableStatement"}),"\u3092jdbc statement\u8FFD\u8DE1\u3059\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Oracle\u30D7\u30ED\u30B7\u30FC\u30B8\u30E3\u306BSQL\u30D1\u30E9\u30E1\u30FC\u30BF\u306E\u8FFD\u8DE1\u6A5F\u80FD"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30AA\u30E9\u30AF\u30EB\u30D7\u30ED\u30B7\u30FC\u30B8\u30E3\u306BSQL\u30D1\u30E9\u30E1\u30FC\u30BF\u3092\u8FFD\u8DE1\u3067\u304D\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0\u3057\u307E\u3057\u305F\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"CallableStatement\u3067SQL\u30D1\u30E9\u30E1\u30FC\u30BF\u3092\u8FFD\u8DE1\u3067\u304D\u308B\u3088\u3046\u306B\u6A5F\u80FD\u3092\u8FFD\u52A0\u3057\u307E\u3057\u305F\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Weblogic\u3067",(0,l.jsx)(n.code,{children:"HttpURLConnection"}),"\u306Ehttp\u547C\u3073\u51FA\u3057\u3092\u884C\u3046\u5834\u5408\u3001",(0,l.jsx)(n.code,{children:"weblogic.net.http.HttpURLConnection"}),"\u306E\u4F7F\u7528\u3092\u8FFD\u8DE1\u3059\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0\u3057\u307E\u3057\u305F\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"HttpURLConnection_weblogic=true\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"sigar\u30E9\u30A4\u30D6\u30E9\u30EA\u3092\u5229\u7528\u3057\u3066\u3001\u30D7\u30ED\u30BB\u30B9\u306E\u30CD\u30A4\u30C6\u30A3\u30D6\u30E1\u30E2\u30EA\u30C7\u30FC\u30BF(proc_mem_rss)\u3092\u53CE\u96C6\u3059\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u65E2\u5B58\u306E30\u79D2\u5E73\u5747\u3067\u53CE\u96C6\u3057\u305Ftps\u30C7\u30FC\u30BF\u30925\u79D2\u5E73\u5747\u3067\u53CE\u96C6\u3059\u308B\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"service_metrics_spike_enabled=false\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u306E\u5727\u7E2E\u9001\u4FE1\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u304C",(0,l.jsx)(n.code,{children:"profile_zip_max_buffer_size"}),"\u30B5\u30A4\u30BA\u3092\u8D85\u3048\u308B\u5834\u5408\u3001\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u3092\u9001\u4FE1"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u30AD\u30E5\u30FC\u306B\u30C7\u30FC\u30BF\u304C\u84C4\u7A4D\u3055\u308C\u3066\u3044\u308B\u304B\u3001\u307E\u305F\u306F\u3001",(0,l.jsx)(n.code,{children:"profile_zip_max_wait_time"}),"\u306E\u5024\u3092\u8D85\u3048\u305F\u5834\u5408\u306F\u3001\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u304C\u9001\u4FE1\u3055\u308C\u307E\u3059"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u3092\u9001\u4FE1\u3059\u308B\u5834\u5408\u3001\u30AD\u30E5\u30FC\u306E\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u304C",(0,l.jsx)(n.code,{children:"profile_zip_min_size"}),"\u30B5\u30A4\u30BA\u672A\u6E80\u306E\u5834\u5408\u3092\u9664\u3044\u3066\u3001\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u3092\u5727\u7E2E\u9001\u4FE1"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u306E\u5727\u7E2E\u6709\u7121\nprofile_zip_enabled=true\n\n# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u3092\u6301\u3064\u30AD\u30E5\u30FC\u306E\u30B5\u30A4\u30BA\n# ZipProfileThread.java\u304C\u4F7F\u7528\u3059\u308BRequestQueue\u30B5\u30A4\u30BA\u3092\u6C7A\u5B9A\nprofile_zip_queue_size=1000\n\n# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u3092\u9001\u4FE1\u3059\u308B\u5F85\u3061\u6642\u9593\n# 1000ms\u304C\u7D4C\u3064\u3068\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u3092\u8EE2\u9001\nprofile_zip_max_wait_time=1000\n\n# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u306E\u30D0\u30C3\u30D5\u30A1\u30B5\u30A4\u30BA\n# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u304C1MB\u3092\u8D85\u3048\u308B\u5834\u5408\u306F\u3001\u30C7\u30FC\u30BF\u3092\u8EE2\u9001\nprofile_zip_max_buffer_size=1024*1024\n\n# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u306E\u5727\u7E2E\u6709\u7121\u3092\u6C7A\u5B9A\u3059\u308B\u6700\u5C0F\u30B5\u30A4\u30BA\n# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u304C100byte\u672A\u6E80\u306E\u5834\u5408\u306F\u5727\u7E2E\u3057\u306A\u3044\nprofile_zip_min_size=100\n\n# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u306E\u5727\u7E2E\u30C7\u30D0\u30C3\u30B0\u6709\u7121\n# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u9001\u4FE1\u306B\u95A2\u3059\u308B\u60C5\u5831(ZipPack\u306Estatus\u3001recordCount\u3001buffer\u30B5\u30A4\u30BA\u3001\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u30AD\u30E5\u30FC\u306E\u30B5\u30A4\u30BA)\u3092\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u30ED\u30B0\u306B\u51FA\u529B\ndebug_profile_zip_enabled=false\n\n# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u306E\u5727\u7E2E\u30C7\u30D0\u30C3\u30B0\u30ED\u30B0\u306E\u51FA\u529B\u9593\u9694\n# \u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u306E\u5727\u7E2E\u30C7\u30D0\u30C3\u30B0\u30AA\u30D7\u30B7\u30E7\u30F3\u304C\u30AA\u30F3\u306B\u306A\u3063\u3066\u3044\u308B\u5834\u5408\u30015000ms\u9593\u9694\u3067\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u30C7\u30FC\u30BF\u306E\u8EE2\u9001\u95A2\u9023\u60C5\u5831\u3092\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u30ED\u30B0\u306B\u51FA\u529B \ndebug_profile_zip_interval=5000\n"})}),"\n"]}),"\n"]})]}),"\n",(0,l.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,l.jsx)(n.h2,{id:"change\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8",children:"Change\uFF08\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\uFF09"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["logsink\u30C7\u30FC\u30BF\u8EE2\u9001\u30B5\u30A4\u30AF\u30EB\u306E",(0,l.jsx)(n.code,{children:"max_wait_time"}),"\u306E\u30AA\u30D7\u30B7\u30E7\u30F3\u540D\u304B\u3089",(0,l.jsx)(n.code,{children:"logsink_max_wait_time"}),"\u306B\u4FEE\u6B63"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30D7\u30E9\u30B0\u30A4\u30F3\u3067\u53CE\u96C6\u3059\u308BCustomCounter\u6A5F\u80FD\u3092\u65E2\u5B58\u306ECustomCounterTask\u306E\u4EE3\u308F\u308A\u306BCustomTaskLoader\u306B\u7F6E\u304D\u63DB\u3048\u307E\u3059\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"custom_task_enabled=true\ncustom_task_jarfile={full_path}\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8-proxy\u30B5\u30FC\u30D0\u30FC\u306E\u6642\u9593\u5DEE\u304C10\u79D2\u4EE5\u4E0A\u306E\u5834\u5408\u3001\u30ED\u30B0\u3092\u51FA\u529B\u3059\u308B\u3088\u3046\u306B\u6A5F\u80FD\u3092\u8FFD\u52A0"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u7D4C\u904E\u6642\u9593\u306E\u6E2C\u5B9A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u3068\u30D7\u30ED\u30D5\u30A1\u30A4\u30EB\u7D4C\u904E\u6642\u9593\u306E\u6E2C\u5B9A\u6642\u3001\u30B7\u30B9\u30C6\u30E0\u6642\u9593\u306E\u4EE3\u308F\u308A\u306BJVM\u6642\u9593\u3092\u4F7F\u7528\u3059\u308B\u3088\u3046\u306B\u4FEE\u6B63"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u7D4C\u904E\u6642\u9593\u3092\u6E2C\u5B9A\u3059\u308B\u5834\u5408\u3001\u65E2\u5B58\u306E",(0,l.jsx)(n.code,{children:"System.currentTimeMillis()"}),"\u304B\u3089",(0,l.jsx)(n.code,{children:"System.nanoTime()"}),"\u3092\u4F7F\u7528\u3059\u308B\u3088\u3046\u306B\u4FEE\u6B63"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8-proxy\u30B5\u30FC\u30D0\u30FC\u306B\u6642\u9593\u5DEE\u304C\u3042\u308B\u5834\u5408\u3001\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u30ED\u30B0\u306B\u30B5\u30FC\u30D0\u30FC\u9593\u306E\u6642\u9593\u5DEE\u3092\u8868\u793A\u3059\u308B\u3088\u3046\u306B\u4FEE\u6B63"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",metastring:"title='Agent log'",children:'# 30\u79D2\u4EE5\u4E0A\u5DEE\u304C\u3042\u308B\u5834\u5408 \n"fatal warning time-reverse (\u6642\u9593\u5DEE) ms"\n\n# 30\u79D2\u672A\u6E80\u306E\u5DEE\u304C\u3042\u308B\u5834\u5408\n"warning time-reverse (\u6642\u9593\u5DEE) ms"\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30E6\u30FC\u30B6\u30FC\u30AB\u30A6\u30F3\u30C8\u306E\u30AA\u30D7\u30B7\u30E7\u30F3\u3092wclient_xx\u5F62\u5F0F\u306B\u4FEE\u6B63\u3057\u3001\u53E4\u3044\u30AA\u30D7\u30B7\u30E7\u30F3\u540D\u3092\u4F7F\u7528\u3067\u304D\u307E\u3059\u304C\u3001v2.2.0\u4EE5\u964D\u306F\u65B0\u3057\u3044\u30AA\u30D7\u30B7\u30E7\u30F3\u540D\u3092\u4F7F\u7528\u3059\u308B\u3053\u3068\u3092\u304A\u52E7\u3081\u3057\u307E\u3059\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"# \u4EA4\u66FF\ntrace_user_method=IP\nwclient_trace_type=IP\n\n# \u4EA4\u66FF\ntrace_user_jsession_key=JSESSIONID\nwclient_jsession_key=JSESSIONID\n\n# \u4EA4\u66FF\ntrace_user_header_key=token\nwclient_header_key=token\n\n# \u4EA4\u66FF\ntrace_user_cookie_limit=4000\nwclient_cookie_limit=4000\n\n# \u4EA4\u66FF\ntrace_user_cookie_domain=\nwclient_cookie_domain=\n\n# \u4EA4\u66FF\nrealtime_user_thinktime_max=300000\nwclient_thinktime_max=300000\n\n# \u4EA4\u66FF\ntrace_user_using_ip=true\nwclient_using_ip=true\n\n# \u4EA4\u66FF\nuser_header_ticket=\nwclient_header_ticket=\n\n# \u8FFD\u52A0\nwclient_max_count=70000\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30E6\u30FC\u30B6\u30FC\u6570\u306B\u95A2\u3059\u308B\u30AB\u30A6\u30F3\u30C8\u8A2D\u5B9A\u3092\u53CD\u6620\u3068\u7D44\u307F\u8FBC\u307Fweaving\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8\u306E\u518D\u30B3\u30F3\u30D1\u30A4\u30EB"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["CounterPack\u306E\u7D4C\u904E\u6642\u9593\u306E\u8A08\u7B97\u306B",(0,l.jsx)(n.code,{children:"System.nanoTime()"}),"\u3092\u4F7F\u7528\u3059\u308B\u3088\u3046\u4FEE\u6B63"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30ED\u30B0\u51FA\u529B\u30ED\u30B4\u306B\u30EA\u30EA\u30FC\u30B9\u30D0\u30FC\u30B8\u30E7\u30F3\u3092\u542B\u3080"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",metastring:"title='Logo'",children:"  _       ____  ______           \n| |     / / /_/_  __/___ _____   ___  ___ \n| | /| / / __ \\/ / / __ `/ __ \\ | _ \\|_  ) \n| |/ |/ / / / / / / /_/ / /_/ / |   / / /\n|__/|__/_/ /_/_/  \\__,_/ .___/  |_|_\\/___|\n                      /_/                    \nThe Best Observability in Java\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Java\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u7D71\u8A08\u53CE\u96C6\u306E\u65E2\u5B9A\u5024\u3092\u5F93\u6765\u306E5000\u304B\u308910000\u306B\u4FEE\u6B63\u3001\u7D71\u8A08\u30C7\u30FC\u30BF\u306E\u9001\u4FE1\u6642\u306B2\u79D2\u3054\u3068\u306B\u30C1\u30A7\u30C3\u30AF"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"stat_tx_max_count=10000\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6027\u80FD\u30E1\u30C8\u30EA\u30AF\u30B9\u3092\u53CE\u96C6\u3059\u308Boshi\u30E9\u30A4\u30D6\u30E9\u30EA\u30D0\u30FC\u30B8\u30E7\u30F3\u3092\u65E2\u5B58\u306Eoshi-core-5.4.1\u304B\u3089oshi-core-6.1.6\u306B\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u6027\u80FD\u30E1\u30C8\u30EA\u30AF\u30B9\u3092\u53CE\u96C6\u3059\u308B",(0,l.jsx)(n.code,{children:"{AGENT_HOME}"}),"\u306E\u30E9\u30A4\u30D6\u30E9\u30EA\u30D5\u30A9\u30EB\u30C0\u540D\u3092\u5909\u66F4"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"sigar\u30E9\u30A4\u30D6\u30E9\u30EA\u30D5\u30A9\u30EB\u30C0\u540D\u3092\u5909\u66F4\uFF1Alib->lib3"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"oshi\u30E9\u30A4\u30D6\u30E9\u30EA\u30D5\u30A9\u30EB\u30C0\u540D\u3092\u5909\u66F4\uFF1Alib2 -> lib4"}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,l.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,l.jsx)(n.h2,{id:"fixed\u30D0\u30B0\u4FEE\u6B63",children:"Fixed(\u30D0\u30B0\u4FEE\u6B63)"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30B8\u30E3\u30D0\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u7D44\u307F\u8FBC\u307F\u30D7\u30E9\u30B0\u30A4\u30F3\u306EWebflux\u30A6\u30A3\u30FC\u30D3\u30F3\u30B0\u30D7\u30E9\u30B0\u30A4\u30F3\u306Eread-only\u3067\u3042\u308BHttpHeaders\u9805\u76EE\u306B\u30DE\u30EB\u30C1\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u95A2\u9023\u30D8\u30C3\u30C0\u30FC(header)\u3092\u8FFD\u52A0\u3059\u308B\u5834\u5408\u306B\u767A\u751F\u3059\u308B\u30A8\u30E9\u30FC\u3092\u4FEE\u6B63"}),"\n",(0,l.jsx)(n.p,{children:"webflux-5.1\u3001webflux-5.2\u3001webflux-5.3\u30D0\u30FC\u30B8\u30E7\u30F3\u306B\u3059\u3079\u3066\u9069\u7528\u3057\u307E\u3057\u305F\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u3068\u30B9\u30C6\u30C3\u30D7\u306E\u7D4C\u904E\u6642\u9593\u304C0\u672A\u6E80\u306E\u5834\u5408\u306B\u767A\u751F\u3059\u308B\u30D0\u30B0\u3092\u4FEE\u6B63"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u3068\u30B9\u30C6\u30C3\u30D7\u306E\u7D4C\u904E\u6642\u9593\u304C0\u672A\u6E80\u306E\u5834\u5408\u3001\u7D4C\u904E\u6642\u9593\u304C0\u3068\u8868\u793A\u3059\u308B\u30D0\u30B0\u3092\u4FEE\u6B63\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"blocking_detect_count"}),"\u4EF6\u6570\u51E6\u7406\u306E\u30D0\u30B0\u3092\u4FEE\u6B63"]}),"\n"]}),"\n"]})]})]})}function _(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},31377:function(e,n,s){s.d(n,{A:()=>l}),s(96540);var i=s(74848);function l({children:e,priority:n}){return n?(0,i.jsx)("code",{className:e,type:n,children:e}):(0,i.jsx)("code",{className:e,children:e})}},4344:function(e,n,s){s.d(n,{A:()=>l}),s(96540);var i=s(74848);function l({children:e}){return(0,i.jsx)("span",{className:"uitext",children:e})}},84429:function(e,n,s){s.d(n,{R:()=>t,x:()=>r});var i=s(96540);let l={},a=i.createContext(l);function t(e){let n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);