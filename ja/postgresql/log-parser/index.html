<!doctype html>
<html lang="ja-JP" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-postgresql/log-parser" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">ログの解析 | WhaTap</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.whatap.io/img/og/whatap.png"><meta data-rh="true" name="twitter:image" content="https://www.whatap.io/img/og/whatap.png"><meta data-rh="true" property="og:url" content="https://docs.whatap.io/ja/postgresql/log-parser"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="keywords" content="WhaTap, 와탭, 매뉴얼, 사용법, WhaTap 사용법, WhaTap 매뉴얼, 기술 문서, APM, 애플리케이션 모니터링, 로그 모니터링, 쿠버네티스 모니터링, 서버 모니터링, 데이터베이스 모니터링, URL 모니터링, 클라우드 모니터링, 브라우저 모니터링, Browser monitoring, Application Monitoring, Log Monitoring, Kubernetes Monitoring, Server Monitoring, Database Monitoring, URL Monitoring, Cloud Monitoring, Manual, User Guide, Docs, WhaTap Manual, WhaTap Docs, WhaTap Documents, 트랜잭션, Transaction, 트레이싱, Tracing, 마스터, Master, 노드, Node, 데드락, Deadlock, 락 트리, Lock tree, 멀티 트랜잭션, Multi Trancsaction, 메트릭스, Metrics, 소프트웨어 프록시, Software proxy, 스택, Stack, 슬로우 쿼리, Slow query, 액티브 트랜잭션, Active transaction, 컨테이너, Container, 히트맵, Hitmap, Garbage Collection, GC, MXQL, Method 추적, Trace method, OOM Killed 컨테이너, OOM Killed Container, Oracle, Tibero, PostgreSQL, MySQL, MongoDB, SQL Server, CUBRID, Altibase, Redis, WebLogic, WebSphere"><meta data-rh="true" name="naver-site-verification" content="0c21fc5664a467108fb762ade47a3f81ee9b88ed"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ログの解析 | WhaTap"><meta data-rh="true" name="description" content="WhaTapが提供するログパーサーについて案内します。"><meta data-rh="true" property="og:description" content="WhaTapが提供するログパーサーについて案内します。"><link data-rh="true" rel="icon" href="/ja/img/whatap-favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.whatap.io/ja/postgresql/log-parser"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/postgresql/log-parser" hreflang="ko-KR"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/en/postgresql/log-parser" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/ja/postgresql/log-parser" hreflang="ja-JP"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/postgresql/log-parser" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://38IOA0JIBS-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="WhaTap" href="/ja/opensearch.xml">

<script>!function(e,t,r,o,a,n){e=e[a]=e[a]||{config:{projectAccessKey:"x4t5020boh2ln-z6pi7d91ds6c1a-z7t4b2lrgnub4o",pcode:29856,sampleRate:100,ignoreOrigins:[/^.*localhost.*$/i,/^.*ngrok-free.app.*$/i]}},(a=t.createElement(r)).async=1,a.src=o,(o=t.getElementsByTagName(r)[0]).parentNode.insertBefore(a,o)}(window,document,"script","https://repo.whatap-browser-agent.io/rum/prod/v1/whatap-browser-agent.js","WhatapBrowserAgent")</script>
<script>let curLang=(new Intl.DateTimeFormat).resolvedOptions().locale;CRISP_RUNTIME_CONFIG={locale:curLang},window.$crisp=[],window.CRISP_WEBSITE_ID="9a0c342f-a5b1-4c4a-a22f-92c7b4b9b477",d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)</script>



<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E46TQ5VSCT"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E46TQ5VSCT",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-WJSZDJR",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/ja/assets/css/styles.8a109d0d.css">
<link rel="preload" href="/ja/assets/js/runtime~main.0cde96f1.js" as="script">
<link rel="preload" href="/ja/assets/js/main.9b92f7f5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script>

<script async defer="defer" crossorigin="anonymous" src="https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&amp;version=v17.0&amp;appId=169051789422006&amp;autoLogAppEvents=1" nonce="y4U7YSrt"></script>
<div id="fb-root"></div>





<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WJSZDJR" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<div role="region" aria-label="本文へスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">本文へスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ja/"><div class="navbar__logo"><img src="/ja/img/whatap-docs-logo.svg" alt="WhaTap Docs" class="themedImage_ToTc themedImage--light_HNdA" height="28" width="152"><img src="/ja/img/whatap-docs-logo.svg" alt="WhaTap Docs" class="themedImage_ToTc themedImage--dark_i4oU" height="28" width="152"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/ja/whatap-overview">はじめに</a><a class="navbar__item navbar__link" href="/ja/learning-guides">学習資料</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">製品</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/ja/java/introduction">Java</a></li><li><a class="dropdown__link" href="/ja/php/introduction">PHP</a></li><li><a class="dropdown__link" href="/ja/nodejs/introduction">Node.js</a></li><li><a class="dropdown__link" href="/ja/python/introduction">Python</a></li><li><a class="dropdown__link" href="/ja/dotnet/introduction">.NET</a></li><li><a class="dropdown__link" href="/ja/golang/introduction">Go</a></li><li><a class="dropdown__link" href="/ja/server/introduction">Server</a></li><li><a class="dropdown__link" href="/ja/kubernetes/introduction">Kubernetes</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/ja/postgresql/monitoring-intro">PostgreSQL</a></li><li><a class="dropdown__link" href="/ja/oracle/monitoring-intro">Oracle</a></li><li><a class="dropdown__link" href="/ja/mysql/monitoring-intro">MySQL</a></li><li><a class="dropdown__link" href="/ja/mssql/monitoring-intro">SQL Server</a></li><li><a class="dropdown__link" href="/ja/tibero/monitoring-intro">Tibero</a></li><li><a class="dropdown__link" href="/ja/cubrid/monitoring-intro">CUBRID</a></li><li><a class="dropdown__link" href="/ja/altibase/monitoring-intro">Altibase</a></li><li><a class="dropdown__link" href="/ja/redis/monitoring-intro">Redis</a></li><li><a class="dropdown__link" href="/ja/mongodb/monitoring-intro">MongoDB</a></li><li><a class="dropdown__link" href="/ja/url/url-intro">URL</a></li><li><a class="dropdown__link" href="/ja/browser">Browser</a></li><li><a class="dropdown__link narrow" href="/ja/amazon-cloudwatch/install-agent">Amazon CloudWatch</a></li><li><a class="dropdown__link" href="/ja/amazon-ecs/introduction">Amazon ECS</a></li><li><a class="dropdown__link" href="/ja/aws-log/introduction">AWS Log</a></li><li><a class="dropdown__link" href="/ja/azure/install-agent">Azure Monitor</a></li><li><a class="dropdown__link narrow" href="/ja/ncloud/install-agent">Naver Cloud Monitoring</a></li><li><a class="dropdown__link narrow" href="/ja/oracle-cloud/install-agent">Oracle Cloud Monitor</a></li><li><a class="dropdown__link narrow" href="/ja/npm/introduction">Network Performance Monitoring</a></li><li><a class="dropdown__link" href="/ja/log/introduction">Log</a></li><li><a class="dropdown__link" href="/ja/extensions">Extensions</a></li></ul></div><a class="navbar__item navbar__link hidden" href="/ja/java/introduction">Javaモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/php/introduction">PHPモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/nodejs/introduction">Node.jsモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/python/introduction">Pythonモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/dotnet/introduction">.NETモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/golang/introduction">Goモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/server/introduction">Serverモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/kubernetes/introduction">Kubernetesモニタリング</a><a aria-current="page" class="navbar__item navbar__link hidden navbar__link--active" href="/ja/postgresql/monitoring-intro">PostgreSQL V2 モニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/postgresql-v1/monitoring-intro">PostgreSQLモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/oracle/monitoring-intro">Oracleモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/mysql-v1/monitoring-intro">MySQLモニタリングV1</a><a class="navbar__item navbar__link hidden" href="/ja/mysql/monitoring-intro">MySQLモニタリングV2</a><a class="navbar__item navbar__link hidden" href="/ja/mssql/monitoring-intro">SQL Serverモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/tibero/monitoring-intro">Tiberoモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/cubrid/monitoring-intro">CUBRIDモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/altibase/monitoring-intro">Altibaseモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/redis/monitoring-intro">Redisモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/mongodb/monitoring-intro">MongoDBモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/url/url-intro">URLモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/amazon-cloudwatch/install-agent">Amazon CloudWatch</a><a class="navbar__item navbar__link hidden" href="/ja/amazon-ecs/introduction">Amazon ECS</a><a class="navbar__item navbar__link hidden" href="/ja/aws-log/introduction">AWS Log</a><a class="navbar__item navbar__link hidden" href="/ja/azure/install-agent">Azure Monitor</a><a class="navbar__item navbar__link hidden" href="/ja/ncloud/install-agent">Naver Cloud Monitoring</a><a class="navbar__item navbar__link hidden" href="/ja/oracle-cloud/install-agent">Oracle Cloud Monitor</a><a class="navbar__item navbar__link hidden" href="/ja/log/introduction">Logモニタリング</a><a class="navbar__item navbar__link hidden" href="/ja/browser">Browser</a><a class="navbar__item navbar__link hidden" href="/ja/npm/introduction">NPM</a><a class="navbar__item navbar__link hidden" href="/ja/extensions">拡張ツール</a><a class="navbar__item navbar__link" href="/ja/manage">管理機能</a><a class="navbar__item navbar__link" href="/ja/openapi">Open API</a><a class="navbar__item navbar__link" href="/ja/license/licenses">ライセンス</a><a class="navbar__item navbar__link" href="/ja/reference">リファレンス文書</a><a class="navbar__item navbar__link" href="/ja/release-notes">リリースノート</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link oneColumn localeDropdown"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="iconLanguage_DSK9"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM18.92 8H15.97C15.65 6.75 15.19 5.55 14.59 4.44C16.43 5.07 17.96 6.35 18.92 8ZM12 4.04C12.83 5.24 13.48 6.57 13.91 8H10.09C10.52 6.57 11.17 5.24 12 4.04ZM4.26 14C4.1 13.36 4 12.69 4 12C4 11.31 4.1 10.64 4.26 10H7.64C7.56 10.66 7.5 11.32 7.5 12C7.5 12.68 7.56 13.34 7.64 14H4.26ZM5.08 16H8.03C8.35 17.25 8.81 18.45 9.41 19.56C7.57 18.93 6.04 17.66 5.08 16ZM8.03 8H5.08C6.04 6.34 7.57 5.07 9.41 4.44C8.81 5.55 8.35 6.75 8.03 8ZM12 19.96C11.17 18.76 10.52 17.43 10.09 16H13.91C13.48 17.43 12.83 18.76 12 19.96ZM14.34 14H9.66C9.57 13.34 9.5 12.68 9.5 12C9.5 11.32 9.57 10.65 9.66 10H14.34C14.43 10.65 14.5 11.32 14.5 12C14.5 12.68 14.43 13.34 14.34 14ZM14.59 19.56C15.19 18.45 15.65 17.25 15.97 16H18.92C17.96 17.65 16.43 18.93 14.59 19.56ZM16.36 14C16.44 13.34 16.5 12.68 16.5 12C16.5 11.32 16.44 10.66 16.36 10H19.74C19.9 10.64 20 11.31 20 12C20 12.69 19.9 13.36 19.74 14H16.36Z" fill="currentColor"></path></svg><span class="langLabel_L4uU">JPN</span></a><ul class="dropdown__menu"><li><a href="/postgresql/log-parser" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko-KR">KOR</a></li><li><a href="/en/postgresql/log-parser" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">ENG</a></li><li><a href="/ja/postgresql/log-parser" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja-JP">JPN</a></li></ul></div><div class="searchBox_H2mL"><button type="button" class="DocSearch DocSearch-Button" aria-label="検索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">検索</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードとライトモードの切り替え（現在 ライトモード）" aria-label="ダークモードとライトモードの切り替え（現在 ライトモード）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" fill="none" class="lightToggleIcon_pyhR"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M10.9901 0H13.0099V4.06189C15.2205 4.33486 17.1538 5.49222 18.4373 7.16513L21.9901 5.13397L23 6.86603L19.4486 8.89635C19.8546 9.8507 20.0791 10.8994 20.0791 12C20.0791 13.1006 19.8546 14.1493 19.4486 15.1036L23 17.134L21.9901 18.866L18.4373 16.8349C17.1538 18.5078 15.2205 19.6651 13.0099 19.9381V24H10.9901V19.9381C8.77946 19.6651 6.84617 18.5078 5.56273 16.8349L2.00989 18.866L1 17.134L4.5514 15.1036C4.14535 14.1493 3.9209 13.1006 3.9209 12C3.9209 10.8994 4.14535 9.8507 4.5514 8.89635L1 6.86603L2.00989 5.13397L5.56273 7.16513C6.84617 5.49222 8.77946 4.33486 10.9901 4.06189V0ZM5.94068 12C5.94068 8.68629 8.65353 6 12 6C15.3465 6 18.0593 8.68629 18.0593 12C18.0593 15.3137 15.3465 18 12 18C8.65353 18 5.94068 15.3137 5.94068 12Z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M5.05011 4.409C6.46482 2.9943 8.14585 2.02264 9.90788 1.5C8.84446 5.08024 9.63565 8.99454 12.3303 11.6892C15.025 14.3839 18.9393 15.1751 22.5191 14.1129C21.9969 15.8737 21.0253 17.5548 19.6106 18.9695C15.322 23.2581 8.58587 23.4752 4.56511 19.4545C0.544352 15.4337 0.761495 8.69762 5.05011 4.409ZM7.26586 5.19608C6.97785 5.42391 6.70099 5.67022 6.43684 5.93437C2.99054 9.38066 2.80435 14.782 6.02096 17.9986C9.23756 21.2152 14.6389 21.029 18.0852 17.5827C18.4373 17.2307 18.7577 16.856 19.0448 16.4625C15.9881 16.4646 13.0552 15.3261 10.8743 13.1452C8.77411 11.045 7.6407 8.24751 7.56194 5.31354L7.55754 4.97444L7.26586 5.19608ZM17.3387 2.30478H19.3979V4.36394H21.4571V6.4231H19.3979V8.48226H17.3387V6.4231H15.2795V4.36394H17.3387V2.30478Z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="一番上にスクロールする" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_mhZE"><div class="hold-menu"><ul><li><a href="/ja" class="home">WhaTap Docs</a></li><li><a href="https://www.whatap.io/ja" target="_blank" class="ext">WhaTapのホームページに移動します。</a></li></ul></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/ja/postgresql/monitoring-intro">PostgreSQLモニタリングV2</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/postgresql/monitoring-support">サポート環境</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ja/postgresql/install-agent">インストール</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ja/postgresql/agent-settings">設定</a><button aria-label="折りたたみ可能なサイドバーの分類 &#x27;設定&#x27; 折りたたみ（展開）" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/postgresql/agent-manage">管理</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/ja/postgresql/dashboard-intro">メインメニュー</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ja/postgresql/dashboard-intro">ダッシュボード</a><button aria-label="折りたたみ可能なサイドバーの分類 &#x27;ダッシュボード&#x27; 折りたたみ（展開）" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ja/postgresql/flex-board">Flexボード</a><button aria-label="折りたたみ可能なサイドバーの分類 &#x27;Flexボード&#x27; 折りたたみ（展開）" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ja/postgresql/analysis-count-trend">分析</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ja/postgresql/metrics-intro">メトリックス</a><button aria-label="折りたたみ可能なサイドバーの分類 &#x27;メトリックス&#x27; 折りたたみ（展開）" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ja/postgresql/stat">統計/レポート</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/ja/postgresql/log-main">ログ</a><button aria-label="折りたたみ可能なサイドバーの分類 &#x27;ログ&#x27; 折りたたみ（展開）" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/postgresql/log-db">適用方法</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/postgresql/log-lt">ライブテール</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/postgresql/log-exp">ログトレンド</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/postgresql/log-search">ログ検索</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/postgresql/log-setting">ログの設定</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ja/postgresql/log-parser">ログの解析</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ja/postgresql/set-notice">アラートの設定</a><button aria-label="折りたたみ可能なサイドバーの分類 &#x27;アラートの設定&#x27; 折りたたみ（展開）" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホーム" class="breadcrumbs__link" href="/ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_SLhD"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ja/postgresql/monitoring-intro"><span itemprop="name">PostgreSQLモニタリングV2</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">メインメニュー</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ja/postgresql/log-main"><span itemprop="name">ログ</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ログの解析</span><meta itemprop="position" content="4"></li></ul><div class="breadcrumbs-hidden"><span itemprop="name">PostgreSQLモニタリングV2<cite>&gt;</cite></span><span>メインメニュー<cite>&gt;</cite></span><span itemprop="name">ログ<cite>&gt;</cite></span><span itemprop="name">ログの解析</span></div></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページでは</button></div><div class="theme-doc-markdown markdown"><header><h1>ログの解析</h1></header><div class="fbsharebutton_dZBI" data-href="https://docs.whatap.io/ja/postgresql/log-parser" data-layout="" data-size=""><button type="button" class="fb_xfbml_parse_ignore_BpHP">共有</button></div><p>ログパーサを使用すると、不規則な形のログをクエリが可能な構造化された形に変更できます。 WhaTapログモニタリングは、次の2つのタイプのパーサを提供します。</p><ul><li><p><strong>GROKパーサ</strong>: 任意の形で収集されるログを正規表現式とGROK文法を活用してパーシングします。</p></li><li><p><strong>JSONパーサ</strong>: JSON形式で収集されるログをパーシングします。</p></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><p><strong>共通の注意事項</strong></p><ul><li><p>同じカテゴリに複数のパーサが登録されている場合、最初にマッチングされるパーサのみが適用されます。</p></li><li><p><strong>WhaTapはWhaTapサービスの安定性に影響を与えるパーサを非活性化にする権限を持ちます。</strong></p></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="grok-parser-detail">GROKパーサ<a href="#grok-parser-detail" class="hash-link" aria-label="GROKパーサへの直接リンク" title="GROKパーサへの直接リンク">​</a></h2><p>ログが不規則な形で収集される場合、GROKパーサを使用してログをパーシングできます。 GROK文法は、named regular expressionsを提供し、正規表現式をより簡単かつ便利に使用できます。 </p><p>GROKパーサーパターンの登録については、次の動画ガイドを参考にしてください。</p><div class="video-container"><iframe width="800" height="500" type="text/html" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" src="https://www.youtube.com/embed/skgg5KOFGpI"></iframe></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="grokを開始する">GROKを開始する<a href="#grokを開始する" class="hash-link" aria-label="GROKを開始するへの直接リンク" title="GROKを開始するへの直接リンク">​</a></h3><p>GROKは2種類の文法を提供します。</p><ol><li><p><code>%{SYNTAX:SEMANTIC}</code>: GROKライブラリーが提供する文法です。 <strong>named regular expressions</strong>を活用してタグを抽出することができます。 活用例は <a href="#syntax-semantic-usage">次へ</a>を参照してください。</p><ul><li><p><strong>SYNTAX</strong>: GROKが提供するnamed regular expressionsを指定します。</p></li><li><p><strong>SEMANTIC</strong>:  マッチングされる値に付ける名前を指定します。</p></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><p><strong>named regular expressions</strong></p><p>GROKが提供する文法です。 複雑な正規表現式に名前を付けて使用できるよう、GROKが提供する機能です。</p><table><thead><tr><th>name</th><th>regular expression</th></tr></thead><tbody><tr><td>WORD</td><td><code>\b\w+\b</code></td></tr><tr><td>SPACE</td><td><code>\s*</code></td></tr><tr><td>NOTSPACE</td><td><code>\S+</code></td></tr><tr><td>UUID</td><td><code>[A-Fa-f0-9]{8}-(?:[A-Fa-f0-9]{4}-){3}[A-Fa-f0-9]{12}</code></td></tr></tbody></table></div></div></li><li><p><code>(?&lt;SEMANTIC&gt;REGX)</code>: 正規表現式の<strong>named capturing group</strong>文法です。 正規表現式を活用して、ユーザーの意図に合わせてタグを抽出できます。 活用例は<a href="#semantic-regx">次へ</a>を参照してください。</p><ul><li><p><strong>SEMANTIC</strong>: マッチングされる値に付ける名前を指定します。</p></li><li><p><strong>REGX</strong>: マッチングに使用する正規表現式を入力します。</p></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><p><strong>named capturing group</strong></p><p>正規表現式で提供する文法です。 </p><ul><li><p>capturing group: 複数のトークンを1つにまとめて1つのマッチング単位で使用する機能を意味します。</p></li><li><p>named capturing group: capturing groupに名前を付けたものです。  </p></li><li><p>文字列マッチングの例を見てみましょう。 <a href="mailto:dev@whatap.io" target="_blank" rel="noopener noreferrer">dev@whatap.io</a></p><blockquote><ul><li>例1<code>(\w+)@(\w+\.\w+)</code></li><li>例2 Eメールすべてのマッチング及びusernameとdomain追加マッチングすると<code>(?&lt;username&gt;\w+)@(?&lt;domain&gt;\w+\.\w+)</code></li></ul></blockquote></li></ul></div></div></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-semantic-usage"><code>%{SYNTAX:SEMANTIC}</code>活用例<a href="#syntax-semantic-usage" class="hash-link" aria-label="syntax-semantic-usageへの直接リンク" title="syntax-semantic-usageへの直接リンク">​</a></h4><p>次は<code>%{SYNTAX:SEMANTIC}</code>文法を活用する例です。</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Sample log</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[2023-08-08 02:02:30,101 GMT][INFO ][i.w.y.l.c.LogSinkDexScheduleThread.realProcess(159)] 8 VirtualLog 20230808 02:01:00.000 {area=4, city=5} 56ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>サンプルログを見て、各単語が意味する内容を推測できます。 各部分をsemanticな単語に置き換えると、次のように表現できます。 </p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">semantic replace</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[date][logLevel][caller] projectCode logCategiry dexBuildStartTime {area=areaEnum, city=cityEnum} dexBuildElapsed</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>semanticな単語すべて、正規表現式に置き換えることができます。 GROKパーサを使用すると、事前に定義されたnamed regular expressionsを活用できます。 ここで使われた<code>TIMESTAMP_ISO8601</code>,<code>LOGLEVEL</code>,<code>DATA</code>は、GROKが提供するnamed regular expressionsです。 これらの値は、それぞれ次の正規表現式に置き換えられてマッチングされます。 </p><ul><li><p>name: <code>TIMESTAMP_ISO8601</code> </p><ul><li>regular expression: <code>%{YEAR}-%{MONTHNUM}-%{MONTHDAY}[T ]%{HOUR}:?%{MINUTE}(?::?%{SECOND})?%{ISO8601_TIMEZONE}?</code></li></ul></li><li><p>name: <code>LOGLEVEL</code></p><ul><li>regular expression: <code>LOGLEVEL ([Aa]lert|ALERT|[Tt]race|TRACE|[Dd]ebug|DEBUG|[Nn]otice|NOTICE|[Ii]nfo|INFO|[Ww]arn?(?:ing)?|WARN?(?:ING)?|[Ee]rr?(?:or)?|ERR?(?:OR)?|[Cc]rit?(?:ical)?|CRIT?(?:ICAL)?|[Ff]atal|FATAL|[Ss]evere|SEVERE|EMERG(?:ENCY)?|[Ee]merg(?:ency)?)</code></li></ul></li><li><p>name: <code>DATA</code></p><ul><li>regular expression: <code>.*?</code></li></ul></li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">GROK parsing pattern</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">\[%{TIMESTAMP_ISO8601:date}\sGMT\]\[%{LOGLEVEL:level}\s\]\[%{DATA:caller}\]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上記の文法でパーシングすると、次のようにタグを抽出できます。 こうしてGROKの<code>%{SYNTAX:SEMANTIC}</code>文法は複雑で長い正規表現式を簡単かつ簡潔に適用できるように役立つ役割を果たします。</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Tag extraction</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">- date : 2023-08-08 02:02:30,101</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- caller : i.w.y.l.c.LogSinkDexScheduleThread.realProcess(159)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- level : LEVEL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="semantic-regx"><code>(?&lt;SEMANTIC&gt;REGX)</code>活用例<a href="#semantic-regx" class="hash-link" aria-label="semantic-regxへの直接リンク" title="semantic-regxへの直接リンク">​</a></h4><p>named regular expressionsでマッチングされない部分は<code>(?&lt;SEMANTIC&gt;REGX)</code>パターンを使ってパーシングできます。 上記の<a href="#syntax-semantic-usage">サンプルログ</a>から<code>%{SYNTAX:SEMANTIC}</code>文法だけでパーシングされない領域は次の通りです。</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Unparsed area</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">8 VirtualLog 20230808 02:01:00.000 {area=4, city=5} 56ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>該当ログの各部分をsemanticな単語に置き換えると、次のように表現できます。</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">semantic replace</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">projectCode logCategiry dexBuildStartTime {area=areaEnum, city=cityEnum} dexBuildElapsed</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>このように不規則な形の文字列は、次のような<code>(?&lt;SEMANTIC&gt;REGX)</code>文法を使ってパーシングできます。 </p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="サンプルログパーシングキーワード別にマッチングされる正規表現式">サンプルログパーシングキーワード別にマッチングされる正規表現式<a href="#サンプルログパーシングキーワード別にマッチングされる正規表現式" class="hash-link" aria-label="サンプルログパーシングキーワード別にマッチングされる正規表現式への直接リンク" title="サンプルログパーシングキーワード別にマッチングされる正規表現式への直接リンク">​</a></h5><table><thead><tr><th>パーシングキーワード</th><th><code>(?&lt;SEMANTIC&gt;REGX)</code></th></tr></thead><tbody><tr><td>8</td><td><code>(?&lt;projectCode&gt;\d)</code></td></tr><tr><td>VirtualLog</td><td><code>(?&lt;logCategory&gt;\w*)</code></td></tr><tr><td>20230808 02:01:00.000</td><td><code>(?&lt;dexBuildStartTime&gt;\d{8}\s\d{2}:\d{2}:\d{2}\.\d{3})</code></td></tr><tr><td>area=4</td><td><code>area=(?&lt;areaEnum&gt;\d)</code></td></tr><tr><td>city=5</td><td><code>city=(?&lt;cityEnum&gt;\d)</code></td></tr><tr><td>56 ms</td><td><code>(?&lt;dexBuildElapsed&gt;\d{2})ms</code></td></tr></tbody></table><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>基本正規表現式文法</b></summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>文法</th><th>意味</th><th>別名</th></tr></thead><tbody><tr><td><code>?</code></td><td>0 or 1</td><td>-</td></tr><tr><td><code>+</code></td><td>1 or more</td><td>-</td></tr><tr><td><code>*</code></td><td>0 or more</td><td>-</td></tr><tr><td><code>a{5}</code></td><td>exactly 5</td><td>-</td></tr><tr><td><code>\w</code></td><td>word character</td><td><code>[a-zA-Z_0-9]</code></td></tr><tr><td><code>\s</code></td><td>white space</td><td>-</td></tr><tr><td><code>.</code></td><td>any character except newline</td><td></td></tr><tr><td><code>[abc]</code></td><td>any of</td><td>-</td></tr><tr><td><code>[^abc]</code></td><td>not a,b, or c</td><td>-</td></tr><tr><td><code>[a-z]</code></td><td>character between a and z</td><td>-</td></tr><tr><td><code>[1-3[7-9]]</code></td><td>union (combining two or more character classes)</td><td>-</td></tr><tr><td><code>[1-6&amp;&amp;[3-9]]</code></td><td>intersection (共通集合)</td><td>-</td></tr><tr><td><code>[0-9&amp;&amp;[^2468]]</code></td><td>subtraction (差集合)</td><td>-</td></tr><tr><td><code>a{2,}</code></td><td>2 or more</td><td>-</td></tr><tr><td><code>a{1,3}</code></td><td>between 1 and 3</td><td>-</td></tr><tr><td><code>a+?</code></td><td>match as few as possible</td><td>-</td></tr><tr><td><code>{2,3}?</code></td><td>match as few as possible</td><td>-</td></tr><tr><td><code>(abc)</code></td><td>capturing group (複数の文字列をsingle unitで処理する)</td><td>-</td></tr><tr><td><code>\d</code></td><td>digit</td><td><code>[0-9]</code></td></tr><tr><td><code>\D</code></td><td>non-digit</td><td><code>[^0-9]</code></td></tr><tr><td><code>\W</code></td><td>non-word character</td><td>-</td></tr><tr><td><code>\S</code></td><td>non-white space</td><td>-</td></tr></tbody></table></div></div></details><p>このようにパーシングされたキーワードをスペース(<code>\s</code>)と、特殊文字escape(<code>\{</code>, <code>\,</code>, <code>\}</code>)で接続すると、次のようにパターンを適用できます。</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">GROK parsing pattern</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">(?&lt;projectCode&gt;\d)\s(?&lt;logCategory&gt;\w*)\s(?&lt;dexBuildStartTime&gt;\d{8}\s\d{2}:\d{2}:\d{2}\.\d{3})\s\{area=(?&lt;areaEnum&gt;\d),\scity=(?&lt;cityEnum&gt;\d)\}\s(?&lt;dexBuildElapsed&gt;\d{2})ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上記の文法でパーシングすると、次のようにタグを抽出できます。</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Tag extraction</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">- projectCode : 8</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- logCategory : VirtualLog</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- dexBuildStartTime : 20230808 02:01:00.000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- areaEnum : 4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- cityEnum : 5 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- dexBuildElapsed : 56</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="grokを適用する">GROKを適用する<a href="#grokを適用する" class="hash-link" aria-label="GROKを適用するへの直接リンク" title="GROKを適用するへの直接リンク">​</a></h3><p><strong><em>ログ設定</em></strong>&gt;<strong><em>ログ一次パーサ設定</em></strong></p><ol><li><p>GROKパターンパーサを適用するには、<strong><em>ログ設定</em></strong>メニューの<strong><em>ログ1次パーサー設定</em></strong>タブに移動してください。</p><p><img loading="lazy" src="/ja/img/log-1st-parser-list-ja.png" alt="ログパーサー一覧" width="1207" height="326"></p></li><li><p><strong><em>+追加する</em></strong>を選択した後<strong><em>パーサ</em></strong>入力欄で<strong><em>GROK</em></strong>パーサーを選択してください。</p><p><img loading="lazy" src="/ja/img/log-1st-grok-ja.png" alt="GROKパターンパーサー" width="838" height="523"></p></li><li><p><strong><em>カテゴリ</em></strong>および<strong><em>ログ検出条件</em></strong>、<strong><em>パターン</em></strong>を入力してください。 <strong><em>パーサ追加</em></strong>ウィンドウのコンポーネントは次の通りです。 </p><ul><li><p><strong><em>カテゴリ</em></strong> </p><p>ログカテゴリを選択してください。 <strong><em>カテゴリ</em></strong>は必須で入力する必要があります。</p></li><li><p><strong><em>ログ検出条件</em></strong> </p><ul><li><p>条件を満たすログのみパーサが適用されます。</p></li><li><p><strong><em>検索キー</em></strong>と<strong><em>検索値</em></strong>を選択するか、直接入力してください。</p></li><li><p><strong><em>ログ検出条件</em></strong>は、すべてのパーサーが実行される前に適用されます。 つまり、パーサの結果として追加される<strong><em>タグ</em></strong>を使用することはできません。</p></li></ul></li><li><p><strong><em>パターン</em></strong></p><p>GROKパターンを指定してください。 必須入力です。</p></li></ul></li><li><p><strong><em>追加</em></strong>ボタンを選択してパーサーを登録してください。 </p></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><ul><li><p>ログパーサー一覧から該当パーサの<strong><em>適用順番</em></strong>を変更したり<strong><em>活性化</em></strong>および<strong><em>修正</em></strong>、<strong><em>削除</em></strong>できます。 </p></li><li><p>パーサを登録する前に<strong><em>シミュレーション</em></strong>を通じて登録しようとするパターンが正常であるか確認できます。 </p></li></ul></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><p><strong>GROKパーサ注意事項</strong></p><ul><li><p>GROKパーサは<code>%{SYNTAX:SEMANTIC}</code>、<code>%{SYNTAX:SEMANTIC}</code>二つのパターンをサポートします。</p></li><li><p><code>%{SYNTAX:SEMANTIC}</code>パターンを使用する時、<code>SEMANTIC</code>を必ず入力してください。</p></li><li><p><code>%{SYNTAX:SEMANTIC}</code>パターンを使用する時、<code>SEMANTIC</code>は一つのパーサーの中でuniqueしなければなりません。</p></li><li><p><code>(?&lt;SEMANTIC&gt;REGX)</code>パターンを使用する時、<code>SEMANTIC</code>は文字(a-z, A-Z)と数字(0-9)そして、指定された特殊文字(<code>.</code>, <code>_</code>, <code>-</code>)のみが使えます。</p></li><li><p><code>SEMANTIC</code>は文字(a-z, A-Z)で始めなければなりません。</p></li><li><p><code>SEMANTIC</code>は文字(a-z, A-Z)または数字(0-9)で終わる必要があります。</p></li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="grok-simulation">シミュレーション<a href="#grok-simulation" class="hash-link" aria-label="シミュレーションへの直接リンク" title="シミュレーションへの直接リンク">​</a></h3><p><strong><em>パーサシミュレーション</em></strong>ウィンドウから<strong><em>ログ</em></strong>と<strong><em>パターン</em></strong>を入力してパーシング結果を事前に確認することができます。 </p><blockquote><p><strong><em>ログ</em></strong>例: <code>[2023-08-08 02:02:30,101 GMT][INFO ][i.w.y.l.c.LogSinkDexScheduleThread.realProcess(159)] 8 VirtualLog 20230808 02:01:00.000 {area=4, city=5} 56ms</code></p><p><strong><em>パターン</em></strong>例: <code>\[%{TIMESTAMP_ISO8601:date}\sGMT\]\[%{LOGLEVEL:level}\s\]\[%{DATA:caller}\]\s(?&lt;projectCode&gt;\d)\s(?&lt;logCategory&gt;\w*)\s(?&lt;dexBuildStartTime&gt;\d{8}\s\d{2}:\d{2}:\d{2}\.\d{3})\s\{area=(?&lt;areaEnum&gt;\d),\scity=(?&lt;cityEnum&gt;\d)\}\s(?&lt;dexBuildElapsed&gt;\d{2})ms</code></p></blockquote><ol><li><p><strong><em>パーサ追加</em></strong>ウィンドウで<strong><em>シミュレーション</em></strong>ボタンを選択してください。 </p></li><li><p><strong><em>パーサシミュレーション</em></strong>ウィンドウから<strong><em>ログ</em></strong>と<strong><em>パターン</em></strong>を入力してください。 </p></li><li><p><strong><em>ログ</em></strong>と<strong><em>パターン</em></strong>入力後<strong><em>シミュレーション</em></strong>ボタンを選択してください。 次のように<strong><em>シミュレーション結果</em></strong>を確認することができます。</p><p><img loading="lazy" src="/ja/img/log-grok-parser-simulation-ja.png" alt="GROKパーサーシミュレーション" width="745" height="1200"></p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="json-parser-detail">JSONパーサ<a href="#json-parser-detail" class="hash-link" aria-label="JSONパーサへの直接リンク" title="JSONパーサへの直接リンク">​</a></h2><p>ログがJSONフォーマットで収集される場合、JSONパーサを使用して簡単かつ便利にパーシングできます。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jsonを適用する">JSONを適用する<a href="#jsonを適用する" class="hash-link" aria-label="JSONを適用するへの直接リンク" title="JSONを適用するへの直接リンク">​</a></h3><p><strong><em>ログ設定</em></strong>&gt;<strong><em>ログ一次パーサ設定</em></strong></p><ol><li><p>JSONパターンパーサを適用するには<strong><em>ログ設定</em></strong>メニューの<strong><em>ログ一次パーサ設定</em></strong>タブに移動してください。</p><p><img loading="lazy" src="/ja/img/log-1st-parser-list-ja.png" alt="ログパーサー一覧" width="1207" height="326"></p></li><li><p><strong><em>+追加する</em></strong>を選択した後<strong><em>パーサ</em></strong>入力欄で<strong><em>JSON</em></strong>パーサを選択してください。</p><p><img loading="lazy" src="/ja/img/log-1st-json-ja.png" alt="JSONットのパーサーパターンの登録" width="901" height="371"></p></li><li><p><strong><em>カテゴリ</em></strong>および<strong><em>ログ検出条件</em></strong>、<strong><em>パターン</em></strong>を入力してください。 <strong><em>パーサ追加</em></strong>ウィンドウのコンポーネントは次の通りです。 </p><ul><li><p><strong><em>カテゴリ</em></strong></p><p>ログカテゴリを選択してください。 <strong><em>カテゴリ</em></strong>は必須で入力する必要があります。</p></li><li><p><strong><em>ログ検出条件</em></strong></p><ul><li><p>条件を満たすログのみパーサが適用されます。</p></li><li><p><strong><em>検索キー</em></strong>と<strong><em>検索値</em></strong>を選択するか、直接入力してください。</p></li><li><p><strong><em>ログ検出条件</em></strong>は、すべてのパーサーが実行される前に適用されます。 つまり、パーサの結果として追加される<strong><em>タグ</em></strong>を使用することはできません。</p></li></ul></li><li><p><strong><em>パターン</em></strong></p><ul><li><p><strong><em>プレフィックス</em></strong></p><p>ログからJSONフォーマットが開始する位置を指定します。 ログ全体がJSONフォーマットの場合は、空の値に設定します。</p></li><li><p><strong><em>ポストフィックス</em></strong></p><p>ログでJSONフォーマットが終了する位置を指定します。 ログ全体がJSONフォーマットの場合は、空の値に設定します。</p></li><li><p><strong><em>無視する</em></strong></p><p>JSONフォーマット中にタグを生成しないキーを指定します。</p></li><li><p>JSONパターン例</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Example</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token number">2023</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">08</span><span class="token plain"> </span><span class="token number">02</span><span class="token operator">:</span><span class="token number">43</span><span class="token operator">:</span><span class="token number">28</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">615</span><span class="token plain"> </span><span class="token operator">--</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-property property">&quot;host&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;10.21.3.24&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-property property">&quot;method&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;POST&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-property property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;200&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-property property">&quot;url&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://devote.whatap.io/yard/api/flush&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">--</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>例のログで<strong><em>プレフィックス</em></strong>と<strong><em>ポストフィックス</em></strong>を<code>--</code>に指定し<strong><em>無視する</em></strong>に<code>--</code>を指定し、<code>host</code>、<code>method</code>、<code>status</code>３つの<strong><em>タグ</em></strong>のみ生成します。</p></li></ul></li></ul></li><li><p><strong><em>追加</em></strong>ボタンを選択してパーサーを登録してください。 </p></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><ul><li><p>ログパーサー一覧から該当パーサの<strong><em>適用順番</em></strong>を変更したり<strong><em>活性化</em></strong>および<strong><em>修正</em></strong>、<strong><em>削除</em></strong>できます。 </p></li><li><p>パーサを登録する前に<strong><em>シミュレーション</em></strong>を通じて登録しようとするパターンが正常であるか確認できます。 GROKパーサ登録シミュレーションプロセスと同じです。 <a href="#grok-simulation">次の文書</a>を参考にしてください。</p></li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jsonフォーマット活用例">JSONフォーマット活用例<a href="#jsonフォーマット活用例" class="hash-link" aria-label="JSONフォーマット活用例への直接リンク" title="JSONフォーマット活用例への直接リンク">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Sample log</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-property property">&quot;host&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;10.21.3.24&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-property property">&quot;method&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;POST&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-property property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;200&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-property property">&quot;url&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://devote.whatap.io/yard/api/flush&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上記のようなサンプルログが収集された場合<strong><em>パーサ追加</em></strong>ウィンドウで<strong><em>JSON</em></strong>パーサを選択してください。 複雑なパーシングロジックを作成する必要なく、ログ分析に必要な<strong><em>タグ</em></strong>を次のように抽出することができます。</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Tag extraction</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">-</span><span class="token plain"> host </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">10.21</span><span class="token number">.3</span><span class="token number">.24</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> method </span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">POST</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> status </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> url </span><span class="token operator">:</span><span class="token plain"> http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token plain">dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">whatap</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">io</span><span class="token operator">/</span><span class="token plain">yard</span><span class="token operator">/</span><span class="token plain">api</span><span class="token operator">/</span><span class="token plain">flush</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jsonフォーマットを一部構成する時の活用例">JSONフォーマットを一部構成する時の活用例<a href="#jsonフォーマットを一部構成する時の活用例" class="hash-link" aria-label="JSONフォーマットを一部構成する時の活用例への直接リンク" title="JSONフォーマットを一部構成する時の活用例への直接リンク">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Some JSON format sample log</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token number">2023</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">08</span><span class="token plain"> </span><span class="token number">02</span><span class="token operator">:</span><span class="token number">43</span><span class="token operator">:</span><span class="token number">28</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">615</span><span class="token plain"> </span><span class="token operator">--</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-property property">&quot;host&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;10.21.3.24&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-property property">&quot;method&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;POST&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-property property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;200&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-property property">&quot;url&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://devote.whatap.io/yard/api/flush&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">--</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>もし、例のようにログの一部のみがJSONフォーマットで構成されている場合は<strong><em>プレフィックス</em></strong>と<strong><em>ポストフィックス</em></strong>を指定してください。 WhaTapログモニタリングは<strong><em>プレフィックス</em></strong>と<strong><em>ポストフィックス</em></strong>間の領域をJSONフォーマットで認識してからパーシングします。</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Tag extraction</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">-</span><span class="token plain"> host </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">10.21</span><span class="token number">.3</span><span class="token number">.24</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> method </span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">POST</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> status </span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> url </span><span class="token operator">:</span><span class="token plain"> http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token plain">dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">whatap</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">io</span><span class="token operator">/</span><span class="token plain">yard</span><span class="token operator">/</span><span class="token plain">api</span><span class="token operator">/</span><span class="token plain">flush</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピーする" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>タグ：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/ja/tags/ログ">ログ</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/ja/tags/ログモニタリング">ログモニタリング</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/ja/tags/設定">設定</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/ja/tags/ログパーサー">ログパーサー</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/ja/tags/ログパーシング">ログパーシング</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/ja/tags/postgre-sql">PostgreSQL</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><div class="btnwrapper_gsW7"><button class="modalopenbtn_jIdz">Feedback</button></div></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文書検索"><a class="pagination-nav__link pagination-nav__link--prev" href="/ja/postgresql/log-setting"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">ログの設定</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ja/postgresql/set-notice"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">アラートの設定</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#grok-parser-detail" class="table-of-contents__link toc-highlight">GROKパーサ</a><ul><li><a href="#grokを開始する" class="table-of-contents__link toc-highlight">GROKを開始する</a></li><li><a href="#grokを適用する" class="table-of-contents__link toc-highlight">GROKを適用する</a></li><li><a href="#grok-simulation" class="table-of-contents__link toc-highlight">シミュレーション</a></li></ul></li><li><a href="#json-parser-detail" class="table-of-contents__link toc-highlight">JSONパーサ</a><ul><li><a href="#jsonを適用する" class="table-of-contents__link toc-highlight">JSONを適用する</a></li><li><a href="#jsonフォーマット活用例" class="table-of-contents__link toc-highlight">JSONフォーマット活用例</a></li><li><a href="#jsonフォーマットを一部構成する時の活用例" class="table-of-contents__link toc-highlight">JSONフォーマットを一部構成する時の活用例</a></li></ul></li></ul></div><div class="fbsharebutton_dZBI" data-href="https://docs.whatap.io/ja/postgresql/log-parser" data-layout="" data-size=""><button type="button" class="fb_xfbml_parse_ignore_BpHP">共有</button></div><div class="btnprint_EBmh"><button>PDF</button></div><div class="btnwrapper_gsW7"><button class="modalopenbtn_jIdz">Feedback</button></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 WhaTap Labs Inc. All right reserved. Built with Docusaurus.</div></div></div></footer></div>
<script src="/ja/assets/js/runtime~main.0cde96f1.js"></script>
<script src="/ja/assets/js/main.9b92f7f5.js"></script>
</body>
</html>