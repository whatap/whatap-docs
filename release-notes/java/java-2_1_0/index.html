<!doctype html>
<html lang="ko-KR" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-release-notes/java/java-2_1_0" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Java Agent v2.1.0 | WhaTap</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.whatap.io/img/og/whatap.png"><meta data-rh="true" name="twitter:image" content="https://www.whatap.io/img/og/whatap.png"><meta data-rh="true" property="og:url" content="https://docs.whatap.io/whatap-docs/release-notes/java/java-2_1_0"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="keywords" content="WhaTap, 와탭, 매뉴얼, 사용법, WhaTap 사용법, WhaTap 매뉴얼, 기술 문서, APM, 애플리케이션 모니터링, 로그 모니터링, 쿠버네티스 모니터링, 서버 모니터링, 데이터베이스 모니터링, URL 모니터링, 클라우드 모니터링, 브라우저 모니터링, Browser monitoring, Application Monitoring, Log Monitoring, Kubernetes Monitoring, Server Monitoring, Database Monitoring, URL Monitoring, Cloud Monitoring, Manual, User Guide, Docs, WhaTap Manual, WhaTap Docs, WhaTap Documents, 트랜잭션, Transaction, 트레이싱, Tracing, 마스터, Master, 노드, Node, 데드락, Deadlock, 락 트리, Lock tree, 멀티 트랜잭션, Multi Trancsaction, 메트릭스, Metrics, 소프트웨어 프록시, Software proxy, 스택, Stack, 슬로우 쿼리, Slow query, 액티브 트랜잭션, Active transaction, 컨테이너, Container, 히트맵, Hitmap, Garbage Collection, GC, MXQL, Method 추적, Trace method, OOM Killed 컨테이너, OOM Killed Container, Oracle, Tibero, PostgreSQL, MySQL, MongoDB, SQL Server, CUBRID, Altibase, Redis, WebLogic, WebSphere"><meta data-rh="true" name="naver-site-verification" content="0c21fc5664a467108fb762ade47a3f81ee9b88ed"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Java Agent v2.1.0 | WhaTap"><meta data-rh="true" name="description" content="2021-12-15"><meta data-rh="true" property="og:description" content="2021-12-15"><link data-rh="true" rel="icon" href="/whatap-docs/img/whatap-favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.whatap.io/whatap-docs/release-notes/java/java-2_1_0"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/release-notes/java/java-2_1_0" hreflang="ko-KR"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/en/release-notes/java/java-2_1_0" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/ja/release-notes/java/java-2_1_0" hreflang="ja-JP"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/release-notes/java/java-2_1_0" hreflang="x-default"><script>!function(e,t,o,r,a,n){e=e[a]=e[a]||{config:{projectAccessKey:"x4t5020boh2ln-z6pi7d91ds6c1a-z7t4b2lrgnub4o",pcode:29856,sampleRate:100,ignoreOrigins:[/^.*localhost.*$/i,/^.*ngrok-free.app.*$/i,/^.*whatap.github.io.*$/i]}},(a=t.createElement(o)).async=1,a.src=r,(r=t.getElementsByTagName(o)[0]).parentNode.insertBefore(a,r)}(window,document,"script","https://repo.whatap-browser-agent.io/rum/prod/v1/whatap-browser-agent.js","WhatapBrowserAgent")</script>
<script>let curLang=document.documentElement.lang.split("-")[0];CRISP_RUNTIME_CONFIG={locale:curLang},window.$crisp=[],window.CRISP_WEBSITE_ID="9a0c342f-a5b1-4c4a-a22f-92c7b4b9b477",d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)</script>



<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E46TQ5VSCT"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E46TQ5VSCT",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-WJSZDJR",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/whatap-docs/assets/css/styles.a1bf6d5e.css">
<link rel="preload" href="/whatap-docs/assets/js/runtime~main.0eefc446.js" as="script">
<link rel="preload" href="/whatap-docs/assets/js/main.e4f5d33d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>
<script async defer="defer" crossorigin="anonymous" src="https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&amp;version=v17.0&amp;appId=169051789422006&amp;autoLogAppEvents=1" nonce="y4U7YSrt"></script>
<div id="fb-root"></div>





<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WJSZDJR" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><div class="announcementBar_mb4j" style="background-color:none;color:#ffffff" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><div id="moniday-banner">This is unreleased documentation for WhaTap Docs. Official documentation is <a href="https://docs.whatap.io" target="_blank">https://docs.whatap.io</a></div></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/whatap-docs/"><div class="navbar__logo"><img src="/whatap-docs/img/whatap-docs-logo.svg" alt="WhaTap Docs" class="themedImage_ToTc themedImage--light_HNdA" height="28" width="152"><img src="/whatap-docs/img/whatap-docs-logo.svg" alt="WhaTap Docs" class="themedImage_ToTc themedImage--dark_i4oU" height="28" width="152"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/whatap-docs/whatap-overview">시작하기</a><a class="navbar__item navbar__link" href="/whatap-docs/learning-guides">학습하기</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">상품별 문서 바로가기</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/whatap-docs/java/introduction">Java</a></li><li><a class="dropdown__link" href="/whatap-docs/php/introduction">PHP</a></li><li><a class="dropdown__link" href="/whatap-docs/nodejs/introduction">Node.js</a></li><li><a class="dropdown__link" href="/whatap-docs/python/introduction">Python</a></li><li><a class="dropdown__link" href="/whatap-docs/dotnet/introduction">.NET</a></li><li><a class="dropdown__link" href="/whatap-docs/golang/introduction">Go</a></li><li><a class="dropdown__link" href="/whatap-docs/server/introduction">Server</a></li><li><a class="dropdown__link" href="/whatap-docs/kubernetes/introduction">Kubernetes</a></li><li><a class="dropdown__link" href="/whatap-docs/postgresql/monitoring-intro">PostgreSQL</a></li><li><a class="dropdown__link" href="/whatap-docs/oracle/monitoring-intro">Oracle</a></li><li><a class="dropdown__link" href="/whatap-docs/mysql/monitoring-intro">MySQL</a></li><li><a class="dropdown__link" href="/whatap-docs/mssql/monitoring-intro">SQL Server</a></li><li><a class="dropdown__link" href="/whatap-docs/tibero/monitoring-intro">Tibero</a></li><li><a class="dropdown__link" href="/whatap-docs/cubrid/monitoring-intro">CUBRID</a></li><li><a class="dropdown__link" href="/whatap-docs/altibase/monitoring-intro">Altibase</a></li><li><a class="dropdown__link" href="/whatap-docs/redis/monitoring-intro">Redis</a></li><li><a class="dropdown__link" href="/whatap-docs/mongodb/monitoring-intro">MongoDB</a></li><li><a class="dropdown__link" href="/whatap-docs/url/url-intro">URL</a></li><li><a class="dropdown__link" href="/whatap-docs/browser">Browser</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/amazon-cloudwatch/install-agent">Amazon CloudWatch</a></li><li><a class="dropdown__link" href="/whatap-docs/amazon-ecs/introduction">Amazon ECS</a></li><li><a class="dropdown__link" href="/whatap-docs/aws-log/introduction">AWS Log</a></li><li><a class="dropdown__link" href="/whatap-docs/azure/install-agent">Azure Monitor</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/ncloud/install-agent">Naver Cloud Monitoring</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/oracle-cloud/install-agent">Oracle Cloud Monitor</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/npm/introduction">Network Performance Monitoring</a></li><li><a class="dropdown__link" href="/whatap-docs/log/introduction">Log</a></li><li><a class="dropdown__link" href="/whatap-docs/extensions">Extensions</a></li></ul></div><a class="navbar__item navbar__link hidden" href="/whatap-docs/java/introduction">Java 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/php/introduction">PHP 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/nodejs/introduction">Node.js 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/python/introduction">Python 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/dotnet/introduction">.NET 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/golang/introduction">Go 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/server/introduction">Server 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/kubernetes/introduction">Kubernetes 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/postgresql/monitoring-intro">PostgreSQL V2 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/postgresql-v1/monitoring-intro">PostgreSQL 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/oracle/monitoring-intro">Oracle 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mysql-v1/monitoring-intro">MySQL 모니터링 V1</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mysql/monitoring-intro">MySQL 모니터링 V2</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mssql/monitoring-intro">SQL Server 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/tibero/monitoring-intro">Tibero 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/cubrid/monitoring-intro">CUBRID 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/altibase/monitoring-intro">Altibase 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/redis/monitoring-intro">Redis 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mongodb/monitoring-intro">MongoDB 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/url/url-intro">URL 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/amazon-cloudwatch/install-agent">Amazon CloudWatch</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/amazon-ecs/introduction">Amazon ECS</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/aws-log/introduction">AWS Log</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/azure/install-agent">Azure Monitor</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/ncloud/install-agent">Naver Cloud Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/oracle-cloud/install-agent">Oracle Cloud Monitor</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/log/introduction">Log 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/browser">Browser</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/npm/introduction">NPM</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/extensions">확장 도구</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/opentelemetry/introduction">OpenTelemetry</a><a class="navbar__item navbar__link" href="/whatap-docs/manage">관리 기능</a><a class="navbar__item navbar__link" href="/whatap-docs/openapi">Open API</a><a class="navbar__item navbar__link" href="/whatap-docs/license/licenses">라이선스</a><a class="navbar__item navbar__link" href="/whatap-docs/reference">참조 문서</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/whatap-docs/release-notes">릴리스 노트</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link oneColumn localeDropdown"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="iconLanguage_DSK9"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM18.92 8H15.97C15.65 6.75 15.19 5.55 14.59 4.44C16.43 5.07 17.96 6.35 18.92 8ZM12 4.04C12.83 5.24 13.48 6.57 13.91 8H10.09C10.52 6.57 11.17 5.24 12 4.04ZM4.26 14C4.1 13.36 4 12.69 4 12C4 11.31 4.1 10.64 4.26 10H7.64C7.56 10.66 7.5 11.32 7.5 12C7.5 12.68 7.56 13.34 7.64 14H4.26ZM5.08 16H8.03C8.35 17.25 8.81 18.45 9.41 19.56C7.57 18.93 6.04 17.66 5.08 16ZM8.03 8H5.08C6.04 6.34 7.57 5.07 9.41 4.44C8.81 5.55 8.35 6.75 8.03 8ZM12 19.96C11.17 18.76 10.52 17.43 10.09 16H13.91C13.48 17.43 12.83 18.76 12 19.96ZM14.34 14H9.66C9.57 13.34 9.5 12.68 9.5 12C9.5 11.32 9.57 10.65 9.66 10H14.34C14.43 10.65 14.5 11.32 14.5 12C14.5 12.68 14.43 13.34 14.34 14ZM14.59 19.56C15.19 18.45 15.65 17.25 15.97 16H18.92C17.96 17.65 16.43 18.93 14.59 19.56ZM16.36 14C16.44 13.34 16.5 12.68 16.5 12C16.5 11.32 16.44 10.66 16.36 10H19.74C19.9 10.64 20 11.31 20 12C20 12.69 19.9 13.36 19.74 14H16.36Z" fill="currentColor"></path></svg><span class="langLabel_L4uU">KOR</span></a><ul class="dropdown__menu"><li><a href="/whatap-docs/release-notes/java/java-2_1_0" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ko-KR">KOR</a></li><li><a href="/whatap-docs/en/release-notes/java/java-2_1_0" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">ENG</a></li><li><a href="/whatap-docs/ja/release-notes/java/java-2_1_0" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja-JP">JPN</a></li></ul></div><div class="searchBox_H2mL"><div id="docsearch"></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" fill="none" class="lightToggleIcon_pyhR"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M10.9901 0H13.0099V4.06189C15.2205 4.33486 17.1538 5.49222 18.4373 7.16513L21.9901 5.13397L23 6.86603L19.4486 8.89635C19.8546 9.8507 20.0791 10.8994 20.0791 12C20.0791 13.1006 19.8546 14.1493 19.4486 15.1036L23 17.134L21.9901 18.866L18.4373 16.8349C17.1538 18.5078 15.2205 19.6651 13.0099 19.9381V24H10.9901V19.9381C8.77946 19.6651 6.84617 18.5078 5.56273 16.8349L2.00989 18.866L1 17.134L4.5514 15.1036C4.14535 14.1493 3.9209 13.1006 3.9209 12C3.9209 10.8994 4.14535 9.8507 4.5514 8.89635L1 6.86603L2.00989 5.13397L5.56273 7.16513C6.84617 5.49222 8.77946 4.33486 10.9901 4.06189V0ZM5.94068 12C5.94068 8.68629 8.65353 6 12 6C15.3465 6 18.0593 8.68629 18.0593 12C18.0593 15.3137 15.3465 18 12 18C8.65353 18 5.94068 15.3137 5.94068 12Z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M5.05011 4.409C6.46482 2.9943 8.14585 2.02264 9.90788 1.5C8.84446 5.08024 9.63565 8.99454 12.3303 11.6892C15.025 14.3839 18.9393 15.1751 22.5191 14.1129C21.9969 15.8737 21.0253 17.5548 19.6106 18.9695C15.322 23.2581 8.58587 23.4752 4.56511 19.4545C0.544352 15.4337 0.761495 8.69762 5.05011 4.409ZM7.26586 5.19608C6.97785 5.42391 6.70099 5.67022 6.43684 5.93437C2.99054 9.38066 2.80435 14.782 6.02096 17.9986C9.23756 21.2152 14.6389 21.029 18.0852 17.5827C18.4373 17.2307 18.7577 16.856 19.0448 16.4625C15.9881 16.4646 13.0552 15.3261 10.8743 13.1452C8.77411 11.045 7.6407 8.24751 7.56194 5.31354L7.55754 4.97444L7.26586 5.19608ZM17.3387 2.30478H19.3979V4.36394H21.4571V6.4231H19.3979V8.48226H17.3387V6.4231H15.2795V4.36394H17.3387V2.30478Z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_mhZE"><div class="hold-menu"><ul><li><a href="/" class="home">WhaTap Docs</a></li><li><a href="https://www.whatap.io" target="_blank" class="ext">와탭 홈페이지 바로가기</a></li></ul></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/whatap-docs/release-notes">릴리스 노트</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed new"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/service/service-2_0_x">Service</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Service&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/mobile/mobile-app-v1_0_5">WhaTap Mobile App</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/whatap-docs/release-notes/java/java-2_2_26">에이전트</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed new"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/java/java-2_2_26">Java</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Java&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/java-batch/java-batch-2_2_22">Java Batch</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Java Batch&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed new"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/php/php-2_7_0">PHP</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;PHP&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed new"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/nodejs/nodejs-0_4_88">Node.js</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Node.js&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed new"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/python/python-1_5_4">Python</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Python&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/dotnet/dotnet-2_2_0">.NET</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;.NET&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed new"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/golang/golang-0_3_0">Go</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Go&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed new"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/server/server-2_4_9">Server</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Server&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed new"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/k8s/k8s-1_4_9">Kubernetes</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Kubernetes&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/db/dbx-1_6_15">DBX</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;DBX&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/db/xos-1_1_6j">XOS</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;XOS&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/release-notes/url/url-release-notes">URL</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed new"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/whatap-docs/release-notes/browser/browser-v1_3_3">Browser</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Browser&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/release-notes/amazon-ecs/amazon-ecs-release-notes">Amazon ECS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/release-notes/telegraf/telegraf-release-notes">Telegraf</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/release-notes/focus/focus-release-notes">Focus</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/whatap-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_SLhD"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/whatap-docs/release-notes"><span itemprop="name">릴리스 노트</span></a></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>Java Agent v2.1.0</h1></header><div class="fbsharebutton_dZBI" data-href="https://docs.whatap.io/whatap-docs/release-notes/java/java-2_1_0" data-layout="" data-size=""><button type="button" class="fb_xfbml_parse_ignore_BpHP">공유</button></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2021-12-15">2021-12-15<a href="#2021-12-15" class="hash-link" aria-label="2021-12-15에 대한 직접 링크" title="2021-12-15에 대한 직접 링크">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="에이전트-관리-체계-수정">에이전트 관리 체계 수정<a href="#에이전트-관리-체계-수정" class="hash-link" aria-label="에이전트 관리 체계 수정에 대한 직접 링크" title="에이전트 관리 체계 수정에 대한 직접 링크">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="에이전트-버전체계-변경">에이전트 버전체계 변경<a href="#에이전트-버전체계-변경" class="hash-link" aria-label="에이전트 버전체계 변경에 대한 직접 링크" title="에이전트 버전체계 변경에 대한 직접 링크">​</a></h4><p>에이전트 버전 체계를 2.1.x로 변경 하였습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="자바-에이전트-배포-패키지-구성-변경">자바 에이전트 배포 패키지 구성 변경<a href="#자바-에이전트-배포-패키지-구성-변경" class="hash-link" aria-label="자바 에이전트 배포 패키지 구성 변경에 대한 직접 링크" title="자바 에이전트 배포 패키지 구성 변경에 대한 직접 링크">​</a></h3><p>whatap.agent-2.1.0 부터 와탭랩스 자바 에이전트 패키지 구성을 변경 하였습니다.</p><ul><li><em>whatap.agent-2.1.0.jar</em> : 에이전트 코어 jar</li><li><em>whatap.agent.proxy-2.1.0.jar</em> : 와탭 서버와 직접연결이 어려워 우회 연결 지원</li><li><em>whatap-logsink-lz4-1.7.0.jar</em> : 로그 모니터링(LogSink)에서 데이터를 압축 하기 위한 플러그 모듈 (기본은 JDK에서 기본으로 제공하는 GZIP 사용)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="java-지원-범위-확대">JAVA 지원 범위 확대<a href="#java-지원-범위-확대" class="hash-link" aria-label="JAVA 지원 범위 확대에 대한 직접 링크" title="JAVA 지원 범위 확대에 대한 직접 링크">​</a></h3><p>Asm 라이브러리 v9.2를 활용하여 와탭랩스 자바 에이전트가 지원하는 범위를 기존 java14에서 java17로 확대 하였습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="멀티서버-추적mtrace-자동화">멀티서버 추적(mtrace) 자동화<a href="#멀티서버-추적mtrace-자동화" class="hash-link" aria-label="멀티서버 추적(mtrace) 자동화에 대한 직접 링크" title="멀티서버 추적(mtrace) 자동화에 대한 직접 링크">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="멀티-서버-연결추적-기본정책-변경">멀티 서버 연결추적 기본정책 변경<a href="#멀티-서버-연결추적-기본정책-변경" class="hash-link" aria-label="멀티 서버 연결추적 기본정책 변경에 대한 직접 링크" title="멀티 서버 연결추적 기본정책 변경에 대한 직접 링크">​</a></h4><p>에이전트간 호출 성능 추적 기본값을 on으로 변경 하였습니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">tx_caller_meter_enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token value attr-value">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">sql_dbc_meter_enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token value attr-value">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">httpc_host_meter_enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token value attr-value">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">actx_meter_enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token value attr-value">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">actx_slice_meter_enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token value attr-value">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">tx_caller_meter_pkind_enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token value attr-value">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">actx_meter_pkind_enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token value attr-value">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="멀티-서버-추적-자동-적용">멀티 서버 추적 자동 적용<a href="#멀티-서버-추적-자동-적용" class="hash-link" aria-label="멀티 서버 추적 자동 적용에 대한 직접 링크" title="멀티 서버 추적 자동 적용에 대한 직접 링크">​</a></h4><p>User Agent를 기반으로 브라우저가 호출하는 트랜잭션에 한하여 자동으로 처리하도록 변경 하였습니다.
(User Agent가 &#x27;Moz&#x27;로 시작하는 경우에 한하여 mtrace_rate가 동작하는 방식)</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">mtrace_auto_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">true (기본값)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">mtraceable_user_agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">Moz  (기본값)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="멀티서버-추적-비율-자동-조절">멀티서버 추적 비율 자동 조절<a href="#멀티서버-추적-비율-자동-조절" class="hash-link" aria-label="멀티서버 추적 비율 자동 조절에 대한 직접 링크" title="멀티서버 추적 비율 자동 조절에 대한 직접 링크">​</a></h4><p>명시적으로 mtrace_rate를 지정하지 않은 경우 500tps 이상의 환경에서는 자동으로 rate를 낮추는 기능을 추가 하였습니다. 단일 프로세스에서 500tps 기준으로 mtrace_rate는 기본 10%이며 tps가 높아질수록 동일 비율로 mtrace_rate를 자동 조절 합니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="서버에이전트간-의존성-정보-수집내용-변경">서버(에이전트)간 의존성 정보 수집내용 변경<a href="#서버에이전트간-의존성-정보-수집내용-변경" class="hash-link" aria-label="서버(에이전트)간 의존성 정보 수집내용 변경에 대한 직접 링크" title="서버(에이전트)간 의존성 정보 수집내용 변경에 대한 직접 링크">​</a></h4><p>서로 다른 프로젝트에 속한 에이전트간의 호출이 발생한 경우 caller 정보를 OID 단위로 수집하도록 수정하였습니다.</p><p>이전 버전에서는 PKIND(pcode+okind) 단위로 수집하던 것을 POID(pcode+oid)단위로 수집하도록 수정하였습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="추적-정보-개선">추적 정보 개선<a href="#추적-정보-개선" class="hash-link" aria-label="추적 정보 개선에 대한 직접 링크" title="추적 정보 개선에 대한 직접 링크">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="db-연결url-에서--이하를-제거">DB 연결URL 에서 &#x27;?&#x27; 이하를 제거<a href="#db-연결url-에서--이하를-제거" class="hash-link" aria-label="DB 연결URL 에서 &#x27;?&#x27; 이하를 제거에 대한 직접 링크" title="DB 연결URL 에서 &#x27;?&#x27; 이하를 제거에 대한 직접 링크">​</a></h4><p>SQL 수행 성능을 추적을 위해 JDBC 연결정보를 수집할때 &#x27;?&#x27; 이하를 제거 하였습니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="url-정규화-작업에-contextpath-반영">URL 정규화 작업에 ContextPath 반영<a href="#url-정규화-작업에-contextpath-반영" class="hash-link" aria-label="URL 정규화 작업에 ContextPath 반영에 대한 직접 링크" title="URL 정규화 작업에 ContextPath 반영에 대한 직접 링크">​</a></h4><p>URL 정규화 작업을 수행할 때 ContextPath를 반영할 수 있도록 변경 하였습니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="url-패턴을-서버에-설정하도록-변경">URL 패턴을 서버에 설정하도록 변경<a href="#url-패턴을-서버에-설정하도록-변경" class="hash-link" aria-label="URL 패턴을 서버에 설정하도록 변경에 대한 직접 링크" title="URL 패턴을 서버에 설정하도록 변경에 대한 직접 링크">​</a></h4><p>와탭랩스에서는 Service 혹은 HttpClient URL의 패턴을 와탭서버에서 설정하여 수집하도록 변경 하였습니다.</p><p>URL 패턴 설정 대상</p><ul><li>Service URL</li><li>HttpClient URL</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><p>기존 에이전트 설정 방식으로는 쿠버네티스 환경에서 변경에 어려움</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="에이전트-로그에-oname-출력">에이전트 로그에 ONAME 출력<a href="#에이전트-로그에-oname-출력" class="hash-link" aria-label="에이전트 로그에 ONAME 출력에 대한 직접 링크" title="에이전트 로그에 ONAME 출력에 대한 직접 링크">​</a></h4><p>에이전트 로그의 출력 내용을 (날짜)(PID)(메세지) 포멧을 (날짜)(에이전트이름)(메세지) 포맷으로 변경 하였습니다.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token number">20211224</span><span class="token plain"> 05:12:31</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GMT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">JA-161-111</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">UrlNorm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> Service PathTree done. </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PathTree</span><span class="token operator">=</span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">20211224</span><span class="token plain"> 05:12:31</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">GMT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">JA-161-111</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">HttpcUrlNorm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> PathTree build done. </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PathTree</span><span class="token operator">=</span><span class="token number">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="사용자-정의-카운터-추가">사용자 정의 카운터 추가<a href="#사용자-정의-카운터-추가" class="hash-link" aria-label="사용자 정의 카운터 추가에 대한 직접 링크" title="사용자 정의 카운터 추가에 대한 직접 링크">​</a></h4><p>App Extra Counter를 추적하기 플러그인을 사용할 수 있도록 수정 하였습니다. 단, 에이전트에서 플러그인 ExtraCounter.x 구현이 필요합니다.</p><ul><li><em><code>${WHATAP}</code>/plugin/ExtraCounter.x</em></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$pack.put(&quot;mycount&quot;,100);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$pack.put(&quot;myrandom&quot;,(float)( whatap.util.KeyGen.next()%100));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="애플리케이션-로그-모니터링">애플리케이션 로그 모니터링<a href="#애플리케이션-로그-모니터링" class="hash-link" aria-label="애플리케이션 로그 모니터링에 대한 직접 링크" title="애플리케이션 로그 모니터링에 대한 직접 링크">​</a></h3><p>애플리케이션 로그를 통합 모니터링 하는 기능을 추가 하였습니다. 자바 애플리케이션에서 로그 모니터링 기능을 사용하기 위해서는 whatap.agent-2.1.0 이후 버전이 필요합니다.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionContent_vXIg"><p>whatap.agent-2.1.0 이후 버전</p></div></div><p>와탭의 애플리케이션 로그 모니터링의 기능 명칭은 로그싱크(LogSink) 입니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="로그-모니터링-기능-활성화">로그 모니터링 기능 활성화<a href="#로그-모니터링-기능-활성화" class="hash-link" aria-label="로그 모니터링 기능 활성화에 대한 직접 링크" title="로그 모니터링 기능 활성화에 대한 직접 링크">​</a></h4><p>로그 모니터링을 위해서는 <em>whatap.conf</em> 설정 파일에서 <code>logsink_enabled</code>를 <code>true</code>로 설정 해야 합니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>자바 애플리케이션에서 발생하는 System.out, System.err 그리고 프레임워크에서 구현한 LOGBACK, LOG4J 로그를 수집 합니다. 기본값은 <code>logsink_enabled</code>의 설정과 동일 합니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_stdout_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">logsink_enabled</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_stderr_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">logsink_enabled</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_logback_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">logsink_enabled</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_log4j_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">logsink_enabled</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_tomcat_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">logsink_enabled</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_custom_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">logsink_enabled</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="프레임워크에서-로그내용-수집">프레임워크에서 로그내용 수집<a href="#프레임워크에서-로그내용-수집" class="hash-link" aria-label="프레임워크에서 로그내용 수집에 대한 직접 링크" title="프레임워크에서 로그내용 수집에 대한 직접 링크">​</a></h4><p>프레임워크에서 수집하는 로그를 모니터링 하기 위해서는 모듈에서 로그를 가로채기 위한 설정과 플러그인을 추가해야 합니다. 프레임워크에서 수집하는 로그의 기본 카테고리 이름을 &#x27;AppLog&#x27;로 설정합니다.</p><p>기본값은 <code>hooklog_enabled</code>의 설정과 동일 합니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">hooklog_logback_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">hooklog_enabled;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">hooklog_log4j_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">hooklog_enabled;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">hooklog_tomcat_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">hooklog_enabled;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">hooklog_custom_methods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token value attr-value">(사용자 메소드에서 로그 수집 설정)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>다만 <code>hooklog_enabled</code>는 기본값으로 <code>logsink_enabled</code> 값이 적용되며 기동전에 <code>true</code>로 설정할 필요가 있습니다.</p><p>운영중에 <code>hooklog_enabled=true</code>로 변경한다면 재기동 후에 로그 수집이 가능합니다.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><p><code>logsink_enabled=true</code> 변경 후 재기동</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="사용자-메소드에서-로그-수집">사용자 메소드에서 로그 수집<a href="#사용자-메소드에서-로그-수집" class="hash-link" aria-label="사용자 메소드에서 로그 수집에 대한 직접 링크" title="사용자 메소드에서 로그 수집에 대한 직접 링크">​</a></h4><p><code>hooklog_custom_methods</code>는 임의의 로그 프레임워크의 내용을 전달합니다. 사이트에서 개별로 만든 로그 모듈의 로그를 추적할때 사용합니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">hooklog_custom_methods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">com.greatshop.common.Log.print</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="로그-전송설정">로그 전송설정<a href="#로그-전송설정" class="hash-link" aria-label="로그 전송설정에 대한 직접 링크" title="로그 전송설정에 대한 직접 링크">​</a></h4><p>단일 라인의 최대크기와 전송시 큐 사이즈 설정이 가능합니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_queue_size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_line_size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">512</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="로그-압축-전송-활성화디버깅">로그 압축 전송 활성화/디버깅<a href="#로그-압축-전송-활성화디버깅" class="hash-link" aria-label="로그 압축 전송 활성화/디버깅에 대한 직접 링크" title="로그 압축 전송 활성화/디버깅에 대한 직접 링크">​</a></h4><p><code>logsink_zip_enabled=true</code> 설정으로 로그를 압축 전송할 수 있습니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_zip_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">debug_logsink_zip_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>모든 데이터를 압축하지는 않으며 압축전송여부를 확인할때 debug 옵션을 활용합니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="로그-압축-전송-최소-사이즈">로그 압축 전송 최소 사이즈<a href="#로그-압축-전송-최소-사이즈" class="hash-link" aria-label="로그 압축 전송 최소 사이즈에 대한 직접 링크" title="로그 압축 전송 최소 사이즈에 대한 직접 링크">​</a></h4><p>전송 데이터가 100bytes 이하인 경우 데이터를 압축하지 않습니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_zip_min_size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="로그-압축-전송-묶음-크기-및-시간">로그 압축 전송 묶음 크기 및 시간<a href="#로그-압축-전송-묶음-크기-및-시간" class="hash-link" aria-label="로그 압축 전송 묶음 크기 및 시간에 대한 직접 링크" title="로그 압축 전송 묶음 크기 및 시간에 대한 직접 링크">​</a></h4><p>압축을 위해서는 데이터를 묶어서 전송해야 하는데 무한정 다음 데이터를 기다릴 수 없기 때문에 최대시간을 지정합니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">max_buffer_size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">65536</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">max_wait_time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">2000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>에이전트는 데이터 수집 사이즈가 <code>max_buffer_size</code>를 초과하거나 로그를 묶기 위해 기다리는 시간이 <code>max_wait_time</code>을 초과하면 로그 데이터를 서버로 전송합니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="로그-압축-알고리즘-선택">로그 압축 알고리즘 선택<a href="#로그-압축-알고리즘-선택" class="hash-link" aria-label="로그 압축 알고리즘 선택에 대한 직접 링크" title="로그 압축 알고리즘 선택에 대한 직접 링크">​</a></h4><p>로그를 압축전송할 때 압축 알고리즘 변경이 가능합니다. 기본 알고리즘은 GZIP이며 lz4도 선택 가능합니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">logsink_zip_libpath</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">/whatap/whatap-logsink-lz4-1.7.0.jar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><p>알고리즘 선택은 <code>logsink_zip_libpath</code>에 jar파일을 지정하는것으로 처리</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ibm-java6-웹스피어-환경에서-에이전트가-동작하지-않는-문제-수정">IBM Java6 웹스피어 환경에서 에이전트가 동작하지 않는 문제 수정<a href="#ibm-java6-웹스피어-환경에서-에이전트가-동작하지-않는-문제-수정" class="hash-link" aria-label="IBM Java6 웹스피어 환경에서 에이전트가 동작하지 않는 문제 수정에 대한 직접 링크" title="IBM Java6 웹스피어 환경에서 에이전트가 동작하지 않는 문제 수정에 대한 직접 링크">​</a></h3><p>IBM Java6 웹스피어 환경에서 WhaTap Agent가 초기화 되지 못하고 데이터를 수집하지 못하는 문제를 수정 하였습니다.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><p><code>ManagementFactory.getPlatformMBeanServer()</code> 로직이 내부적으로 오류가 발생하면서 WhaTap Agent가 초기화되지 못하는 문제</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="counterpack-디버깅-옵션-추가">CounterPack 디버깅 옵션 추가<a href="#counterpack-디버깅-옵션-추가" class="hash-link" aria-label="CounterPack 디버깅 옵션 추가에 대한 직접 링크" title="CounterPack 디버깅 옵션 추가에 대한 직접 링크">​</a></h3><p>에이전트에서 전송하는 실시간 성능 데이터의 전송 여부를 디버깅 하기 위한 옵션을 추가 하였습니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">debug_counterpack_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">true (기본값)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">debug_counterpack_factor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">3 (기본값)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">debug_counterpack_recvtime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">9000 (기본값)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>에이전트의 큐에 전송대기 상태의 CounterPack이 3 이상 늘어나거나 가장 최근에 받은 서버 데이터의 전송속도가 9000ms를 초과하는 경우 로그로 표시 합니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="text--activestack-정보-수집시-압축-옵션-추가">Text &amp; ActiveStack 정보 수집시 압축 옵션 추가<a href="#text--activestack-정보-수집시-압축-옵션-추가" class="hash-link" aria-label="Text &amp; ActiveStack 정보 수집시 압축 옵션 추가에 대한 직접 링크" title="Text &amp; ActiveStack 정보 수집시 압축 옵션 추가에 대한 직접 링크">​</a></h3><p>Text 데이터와 ActiveStack 정보를 수집할 때 압축할 수 있는 옵션을 추가 하였습니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">active_stack_zip_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">false (기본값)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">text_zip_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">false (기본값)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="시스템-메트릭-수집-라이브러리-변경-및-메모리-데이터-수집-오류-수정">시스템 메트릭 수집 라이브러리 변경 및 메모리 데이터 수집 오류 수정<a href="#시스템-메트릭-수집-라이브러리-변경-및-메모리-데이터-수집-오류-수정" class="hash-link" aria-label="시스템 메트릭 수집 라이브러리 변경 및 메모리 데이터 수집 오류 수정에 대한 직접 링크" title="시스템 메트릭 수집 라이브러리 변경 및 메모리 데이터 수집 오류 수정에 대한 직접 링크">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="oshi-추가">OSHI 추가<a href="#oshi-추가" class="hash-link" aria-label="OSHI 추가에 대한 직접 링크" title="OSHI 추가에 대한 직접 링크">​</a></h4><p>OSHI(Operating System and Hardware Information)는 시스템 인프라 메트릭을 수집하기 위한 라이브러리로, 최근에도 활발히 업데이트 되고 있어 시스템 성능 지표를 수집하기 위한 라이브러리로 선택 하였습니다. 단, Java8 이상의 환경에서만 사용 가능합니다.</p><ul><li><code>oshi_enabled=false</code> (기본값)</li><li>jdk8 이상에서만 사용가능</li><li>disk=&quot;.&quot;에 대한 사용량 측정 및 경고 기능 가능</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sigar-기능-deprecated-처리">Sigar 기능 deprecated 처리<a href="#sigar-기능-deprecated-처리" class="hash-link" aria-label="Sigar 기능 deprecated 처리에 대한 직접 링크" title="Sigar 기능 deprecated 처리에 대한 직접 링크">​</a></h4><p>이미 5년 이상 업데이트 되고 있지 않아 초기 설정에서 제외 하였습니다.</p><ul><li>sigar_enabled=false (기본값)</li><li>lib1에 대해 aix만 포함</li></ul><p>Sigar 기능을 사용하기 위해서는 명시적으로 <code>sigar_enabled=true</code> 설정 후 사용할 수 있습니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="linux-memory-수집-오류-수정">Linux memory 수집 오류 수정<a href="#linux-memory-수집-오류-수정" class="hash-link" aria-label="Linux memory 수집 오류 수정에 대한 직접 링크" title="Linux memory 수집 오류 수정에 대한 직접 링크">​</a></h4><p>리눅스 환경에서 메모리 사용량 및 사용률 수집 오류를 수정 하였습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="환경변수-조회기능-옵션-처리">환경변수 조회기능 옵션 처리<a href="#환경변수-조회기능-옵션-처리" class="hash-link" aria-label="환경변수 조회기능 옵션 처리에 대한 직접 링크" title="환경변수 조회기능 옵션 처리에 대한 직접 링크">​</a></h3><p>에이전트에서 환경변수 조회시 기능 동작 여부를 ON/OFF 할 수 있게 옵션을 추가 하였습니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">agent_env_system_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">agent_env_jvm_enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>프로세스 환경변수와 자바 환경변수에 대해서 조회가능 여부를 옵션으로 통제할 수 있습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="에이전트-환경변수-조회시-특정-키를-제외하는-옵션">에이전트 환경변수 조회시 특정 키를 제외하는 옵션<a href="#에이전트-환경변수-조회시-특정-키를-제외하는-옵션" class="hash-link" aria-label="에이전트 환경변수 조회시 특정 키를 제외하는 옵션에 대한 직접 링크" title="에이전트 환경변수 조회시 특정 키를 제외하는 옵션에 대한 직접 링크">​</a></h3><p>자바 실행환경의 환경변수를 조회하는 기능에서 특정 환경변수를 제외할 수 있는 옵션을 추가 하였습니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">agent_env_ignore_keys</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">USER,Address</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>&#x27;,&#x27; 구분자를 사용하여 옵션지정하며, 대소문자를 구분하지 않습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tomcat10-지원">TOMCAT10 지원<a href="#tomcat10-지원" class="hash-link" aria-label="TOMCAT10 지원에 대한 직접 링크" title="TOMCAT10 지원에 대한 직접 링크">​</a></h3><p>Tomcat10의 jakarta 라이브러리를 추적할 수 있도록 지원 범위를 확대 하였습니다.
weaving 옵션에 tomcat10을 지정하여 추적할 수 있습니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">weaving</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">tomcat10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class="admonitionContent_vXIg"><p>weaving 옵션은 <code>weaving_reserved</code> 옵션을 축약하여 v2.1.1에서 추가</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="httpcall에-대한-상세-정보-추적">HttpCall에 대한 상세 정보 추적<a href="#httpcall에-대한-상세-정보-추적" class="hash-link" aria-label="HttpCall에 대한 상세 정보 추적에 대한 직접 링크" title="HttpCall에 대한 상세 정보 추적에 대한 직접 링크">​</a></h3><p>트랜잭션 추적에서 HttpCall에 대한 추적 정보를 추가하였습니다.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class="admonitionContent_vXIg"><p>OLD 버전의 수집서버에서는 트랜잭션 상세 스텝 정보 확인이 불가합니다.</p></div></div><p>만약 OLD 수집서버에 데이터를 보내야 한다면 <code>trace_httpc_version</code> 옵션을 <em>whatap.conf</em> 파일에 추가해야 합니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">whatap.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key attr-name" style="color:rgb(241, 250, 140)">trace_httpc_version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token value attr-value">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><div class="btnwrapper_gsW7"><button class="modalopenbtn_jIdz">피드백</button></div></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 탐색"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#2021-12-15" class="table-of-contents__link toc-highlight">2021-12-15</a></li></ul></div><div class="fbsharebutton_dZBI" data-href="https://docs.whatap.io/whatap-docs/release-notes/java/java-2_1_0" data-layout="" data-size=""><button type="button" class="fb_xfbml_parse_ignore_BpHP">공유</button></div><div class="btnprint_EBmh"><button>PDF</button></div><div class="btnwrapper_gsW7"><button class="modalopenbtn_jIdz">피드백</button></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 WhaTap Labs Inc. All right reserved. Built with Docusaurus.</div></div></div></footer></div>
<script src="/whatap-docs/assets/js/runtime~main.0eefc446.js"></script>
<script src="/whatap-docs/assets/js/main.e4f5d33d.js"></script>
</body>
</html>