"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["32077"],{92072:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>l,metadata:()=>r,assets:()=>o,toc:()=>a,contentTitle:()=>c});var r=JSON.parse('{"id":"openmetrics_cardinality","title":"\uC624\uD508\uBA54\uD2B8\uB9AD \uCE74\uB514\uB110\uB9AC\uD2F0","description":"\uC624\uD508\uBA54\uD2B8\uB9AD \uCE74\uB514\uB110\uB9AC\uD2F0\uC5D0 \uB300\uD574 \uC774\uD574\uD558\uACE0 \uC9C0\uD45C\uBCC4 \uCE74\uB514\uB110\uB9AC\uD2F0\uB97C \uC9C1\uC811 \uACC4\uC0B0\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.","source":"@site/docs/openmetrics_cardinality.mdx","sourceDirName":".","slug":"/openmetrics_cardinality","permalink":"/whatap-docs/openmetrics_cardinality","draft":false,"unlisted":false,"editUrl":"undefined/docs/openmetrics_cardinality.mdx","tags":[],"version":"current","frontMatter":{"id":"openmetrics_cardinality","title":"\uC624\uD508\uBA54\uD2B8\uB9AD \uCE74\uB514\uB110\uB9AC\uD2F0","description":"\uC624\uD508\uBA54\uD2B8\uB9AD \uCE74\uB514\uB110\uB9AC\uD2F0\uC5D0 \uB300\uD574 \uC774\uD574\uD558\uACE0 \uC9C0\uD45C\uBCC4 \uCE74\uB514\uB110\uB9AC\uD2F0\uB97C \uC9C1\uC811 \uACC4\uC0B0\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.","keywords":["\uC624\uD508\uBA54\uD2B8\uB9AD","\uC624\uD508\uBA54\uD2B8\uB9AD \uCE74\uB514\uB110\uB9AC\uD2F0"],"isTranslationMissing":false},"sidebar":"referSidebar","previous":{"title":"\uCC38\uC870 \uBB38\uC11C","permalink":"/whatap-docs/reference"},"next":{"title":"\uC18C\uD504\uD2B8\uC6E8\uC5B4 \uD504\uB85D\uC2DC","permalink":"/whatap-docs/software-proxy"}}'),t=s("85893"),i=s("50065");let l={id:"openmetrics_cardinality",title:"\uC624\uD508\uBA54\uD2B8\uB9AD \uCE74\uB514\uB110\uB9AC\uD2F0",description:"\uC624\uD508\uBA54\uD2B8\uB9AD \uCE74\uB514\uB110\uB9AC\uD2F0\uC5D0 \uB300\uD574 \uC774\uD574\uD558\uACE0 \uC9C0\uD45C\uBCC4 \uCE74\uB514\uB110\uB9AC\uD2F0\uB97C \uC9C1\uC811 \uACC4\uC0B0\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.",keywords:["\uC624\uD508\uBA54\uD2B8\uB9AD","\uC624\uD508\uBA54\uD2B8\uB9AD \uCE74\uB514\uB110\uB9AC\uD2F0"],isTranslationMissing:!1},c=void 0,o={},a=[{value:"\uCE74\uB514\uB110\uB9AC\uD2F0\uB780?",id:"\uCE74\uB514\uB110\uB9AC\uD2F0\uB780",level:2},{value:"\uCE74\uB514\uB110\uB9AC\uD2F0 \uD655\uC778 \uBC29\uBC95",id:"\uCE74\uB514\uB110\uB9AC\uD2F0-\uD655\uC778-\uBC29\uBC95",level:2},{value:"Step 1. Prometheus \uC9C0\uD45C \uD30C\uC77C \uCD94\uCD9C",id:"step-1-prometheus-\uC9C0\uD45C-\uD30C\uC77C-\uCD94\uCD9C",level:3},{value:"Step 2. \uC9C0\uD45C \uD615\uC2DD \uD655\uC778",id:"step-2-\uC9C0\uD45C-\uD615\uC2DD-\uD655\uC778",level:3},{value:"Step 3. \uCE74\uB514\uB110\uB9AC\uD2F0 \uACC4\uC0B0",id:"step-3-\uCE74\uB514\uB110\uB9AC\uD2F0-\uACC4\uC0B0",level:3},{value:"Step 4. \uACB0\uACFC \uD574\uC11D",id:"step-4-\uACB0\uACFC-\uD574\uC11D",level:3}];function d(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uC624\uD508\uBA54\uD2B8\uB9AD \uCE74\uB514\uB110\uB9AC\uD2F0 \uBB38\uC11C\uC758 \uBAA9\uC801"})}),(0,t.jsxs)(n.p,{children:["Prometheus \uD615\uC2DD\uC73C\uB85C \uB178\uCD9C\uB41C \uC9C0\uD45C\uB97C \uC800\uC7A5\uD55C \uD6C4, \uAC04\uB2E8\uD55C \uC2A4\uD06C\uB9BD\uD2B8\uB85C \uC9C0\uD45C\uBCC4 \uCE74\uB514\uB110\uB9AC\uD2F0\uB97C \uC9C1\uC811 \uACC4\uC0B0\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.",(0,t.jsx)(n.br,{}),"\n","\uC774\uB97C \uD1B5\uD574 \uACE0\uAC1D \uD658\uACBD\uC5D0\uC11C \uC5B4\uB5A4 \uC9C0\uD45C\uAC00 \uC5BC\uB9C8\uB098 \uB2E4\uC591\uD55C \uB808\uC774\uBE14 \uC870\uD569\uC744 \uAC00\uC9C0\uB294\uC9C0 \uD655\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"\uCE74\uB514\uB110\uB9AC\uD2F0\uB780",children:"\uCE74\uB514\uB110\uB9AC\uD2F0\uB780?"}),(0,t.jsxs)(n.p,{children:["\uCE74\uB514\uB110\uB9AC\uD2F0(Cardinality)\uB294 \uD2B9\uC815 \uC9C0\uD45C(metric)\uC5D0\uC11C ",(0,t.jsx)(n.strong,{children:"\uAC12(value)\uC744 \uC81C\uC678\uD55C \uBAA8\uB4E0 \uB808\uC774\uBE14(label) \uC870\uD569\uC758 \uACE0\uC720 \uAC1C\uC218"}),"\uB97C \uC758\uBBF8\uD569\uB2C8\uB2E4. \uAC19\uC740 \uC9C0\uD45C \uC774\uB984\uC744 \uAC00\uC9C4 \uB370\uC774\uD130\uB77C\uB3C4 \uB808\uC774\uBE14 \uAD6C\uC131\uC774 \uB3D9\uC77C\uD558\uB2E4\uBA74 \uD558\uB098\uB85C \uCDE8\uAE09\uD569\uB2C8\uB2E4."]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uC608\uC2DC"})}),(0,t.jsx)("pre",{style:{background:"#292d3e",borderRadius:"5px",padding:"16px 20px",overflow:"auto",lineHeight:"1.9",lineHeight:"0.3",fontSize:"10px"},children:(0,t.jsxs)("code",{style:{fontFamily:"var(--ifm-font-family-monospace, monospace)"},children:[(0,t.jsx)("span",{style:{color:"#ffffff"},children:(0,t.jsxs)(n.p,{children:["00:00\xa0\xa0",(0,t.jsxs)("span",{style:{background:"#d7ecff",color:"#000000"},children:[" http_requests_total","{",'url="/hello"',"}"," "]}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\uAC12:\xa0",(0,t.jsx)("span",{style:{color:"#ffffff"},children:"100"})]})}),(0,t.jsx)("span",{style:{color:"#ffffff"},children:(0,t.jsxs)(n.p,{children:["00:00\xa0\xa0",(0,t.jsxs)("span",{style:{background:"#fffbd1",color:"#000000"},children:[" http_requests_total","{",'url="/hello", name="whatap"',"}"," "]}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\uAC12:\xa0",(0,t.jsx)("span",{style:{color:"#ffffff"},children:"93"})]})}),(0,t.jsx)("span",{style:{color:"#ffffff"},children:(0,t.jsxs)(n.p,{children:["00:01\xa0\xa0",(0,t.jsxs)("span",{style:{background:"#fffbd1",color:"#000000"},children:[" http_requests_total","{",'url="/hello", name="whatap"',"}"," "]}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\uAC12:\xa0",(0,t.jsx)("span",{style:{color:"#ffffff"},children:"114"})]})}),(0,t.jsx)("span",{style:{color:"#ffffff"},children:(0,t.jsxs)(n.p,{children:["00:01\xa0\xa0",(0,t.jsxs)("span",{style:{background:"#d7ecff",color:"#000000"},children:[" http_requests_total","{",'url="/hello"',"}"," "]}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\uAC12:\xa0",(0,t.jsx)("span",{style:{color:"#ffffff"},children:"5"})]})})]})}),(0,t.jsx)(n.p,{children:"\uC704 \uB370\uC774\uD130\uB294 \uCD1D \uB124 \uAC1C\uC9C0\uB9CC, \uB808\uC774\uBE14 \uAD6C\uC131\uC744 \uAE30\uC900\uC73C\uB85C \uD558\uBA74 \uB2E4\uC74C\uACFC \uAC19\uC774 \uB450 \uAC1C\uB85C \uACC4\uC0B0\uB429\uB2C8\uB2E4."}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'url="/hello"'})," \u2192 1\uAC1C"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'url="/hello", name="whatap"'})," \u2192 1\uAC1C"]}),"\n"]}),(0,t.jsxs)(n.p,{children:["\uB530\uB77C\uC11C \uC774 \uC9C0\uD45C\uC758 \uCE74\uB514\uB110\uB9AC\uD2F0\uB294 ",(0,t.jsx)(n.strong,{children:"2"}),"\uC785\uB2C8\uB2E4."]}),(0,t.jsx)(n.hr,{})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"\uCE74\uB514\uB110\uB9AC\uD2F0-\uD655\uC778-\uBC29\uBC95",children:"\uCE74\uB514\uB110\uB9AC\uD2F0 \uD655\uC778 \uBC29\uBC95"}),(0,t.jsx)(n.p,{children:"\uACE0\uAC1D \uD658\uACBD\uC5D0\uC11C \uC2E4\uC81C \uC218\uC9D1\uB418\uB294 \uC9C0\uD45C\uC758 \uCE74\uB514\uB110\uB9AC\uD2F0\uB97C \uC9C1\uC811 \uD655\uC778\uD558\uB824\uBA74 Prometheus \uD615\uC2DD\uC73C\uB85C \uB178\uCD9C\uB41C \uC9C0\uD45C\uB97C \uAE30\uBC18\uC73C\uB85C \uACC4\uC0B0\uD574\uC57C \uD569\uB2C8\uB2E4."})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"step-1-prometheus-\uC9C0\uD45C-\uD30C\uC77C-\uCD94\uCD9C",children:"Step 1. Prometheus \uC9C0\uD45C \uD30C\uC77C \uCD94\uCD9C"}),(0,t.jsxs)(n.p,{children:["Prometheus \uD615\uC2DD\uC758 \uC9C0\uD45C\uB97C \uB178\uCD9C\uD558\uB294 endpoint(",(0,t.jsx)(n.code,{children:"/metrics"}),")\uB97C \uD638\uCD9C\uD558\uC5EC \uD14D\uC2A4\uD2B8 \uD30C\uC77C\uB85C \uC800\uC7A5\uD569\uB2C8\uB2E4.",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.code,{children:"9100"})," \uD3EC\uD2B8\uB294 Prometheus Node Exporter\uC758 \uC608\uC2DC\uC774\uBA70, \uD658\uACBD\uC5D0 \uB9DE\uB294 endpoint \uC8FC\uC18C\uB97C \uC785\uB825\uD558\uBA74 \uB429\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl -s http://localhost:9100/metrics > metrics.txt\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"step-2-\uC9C0\uD45C-\uD615\uC2DD-\uD655\uC778",children:"Step 2. \uC9C0\uD45C \uD615\uC2DD \uD655\uC778"}),(0,t.jsxs)(n.p,{children:["\uC800\uC7A5\uB41C \uD30C\uC77C(metrics.txt)\uC758 \uB370\uC774\uD130\uB294 \uC77C\uBC18\uC801\uC73C\uB85C \uB2E4\uC74C\uACFC \uAC19\uC740 \uD615\uD0DC\uB97C \uAC00\uC9D1\uB2C8\uB2E4.",(0,t.jsx)(n.br,{}),"\n","\uC5EC\uAE30\uC11C \uCE74\uB514\uB110\uB9AC\uD2F0 \uACC4\uC0B0\uC758 \uAE30\uC900\uC740 ",(0,t.jsx)(n.strong,{children:"metric_name + \uB808\uC774\uBE14 \uC870\uD569"}),"\uC785\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'metric_name{label1="value1",label2="value2"} 123\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"step-3-\uCE74\uB514\uB110\uB9AC\uD2F0-\uACC4\uC0B0",children:"Step 3. \uCE74\uB514\uB110\uB9AC\uD2F0 \uACC4\uC0B0"}),(0,t.jsx)(n.p,{children:"\uC544\uB798 \uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD558\uBA74 \uAC01 \uC9C0\uD45C(metric_name)\uBCC4\uB85C \uACE0\uC720\uD55C \uB808\uC774\uBE14 \uC870\uD569\uC758 \uAC1C\uC218\uB97C \uACC4\uC0B0\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."}),(0,t.jsxs)(n.p,{children:["\uC258 \uC2A4\uD06C\uB9BD\uD2B8\uB97C \uB2E4\uC6B4\uB85C\uB4DC \uBC1B\uC740 \uB4A4 \uC544\uB798 \uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD569\uB2C8\uB2E4. ",(0,t.jsx)(n.a,{href:"https://github.com/whatap/whatap-docs/releases/download/v2.19.0/count_cardinality.sh",children:"count_cardinality.sh \uB2E4\uC6B4\uB85C\uB4DC"})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"chmod +x count_cardinality.sh\n./count_cardinality.sh metrics.txt\n"})}),(0,t.jsx)(n.p,{children:"\uB9CC\uC57D \uC258\uC2A4\uD06C\uB9BD\uD2B8\uB97C \uB2E4\uC6B4\uB85C\uB4DC \uBC1B\uC544\uC11C \uC2E4\uD589\uD560 \uC218 \uC5C6\uB294 \uD658\uACBD\uC774\uB77C\uBA74, \uBA85\uB839\uC5B4\uB97C \uC9C1\uC811 \uBCF5\uC0AC\uD558\uC5EC \uC2E4\uD589\uD569\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"grep -v '^#' metrics.txt \\\n  | awk -F'{' '{\n      if (NF > 1) {\n        name=$1\n      } else {\n        split($1, arr, \" \")\n        name=arr[1]\n      }\n      count[name]++\n      total++\n    }\n    END {\n      for (n in count) {\n        print n, count[n]\n      }\n      print \"\uCD1D\uD569\", total\n    }' | sort\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"step-4-\uACB0\uACFC-\uD574\uC11D",children:"Step 4. \uACB0\uACFC \uD574\uC11D"}),(0,t.jsx)(n.p,{children:"\uC2E4\uD589 \uACB0\uACFC\uB294 \uB2E4\uC74C\uACFC \uAC19\uC2B5\uB2C8\uB2E4. \uAC01 \uC9C0\uD45C\uC758 \uCE74\uB514\uB110\uB9AC\uD2F0\uC758 \uC218\uC640 \uCE74\uB514\uB110\uB9AC\uD2F0 \uCD1D\uD569\uC744 \uB098\uD0C0\uB0C5\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"apiserver_flowcontrol_priority_level_request_utilization_bucket 44\ngo_gc_duration_seconds_count 1\ngo_gc_duration_seconds_sum 1\nprocess_cpu_seconds_total 1\n\uCD1D\uD569 47\n"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"apiserver_flowcontrol_priority_level_request_utilization_bucket: 44\uAC1C\uC758 \uACE0\uC720 \uB808\uC774\uBE14 \uC870\uD569"}),"\n",(0,t.jsx)(n.li,{children:"go_gc_duration_seconds_count:  1\uAC1C\uC758 \uACE0\uC720 \uB808\uC774\uBE14 \uC870\uD569"}),"\n",(0,t.jsx)(n.li,{children:"go_gc_duration_seconds_sum: 1\uAC1C\uC758 \uACE0\uC720 \uB808\uC774\uBE14 \uC870\uD569"}),"\n",(0,t.jsx)(n.li,{children:"process_cpu_seconds_total: 1\uAC1C\uC758 \uACE0\uC720 \uB808\uC774\uBE14 \uC870\uD569"}),"\n",(0,t.jsx)(n.li,{children:"\uCD1D\uD569: 47\uAC1C(\uC804\uCCB4 \uCE74\uB514\uB110\uB9AC\uD2F0 \uC218)"}),"\n"]})]})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},50065:function(e,n,s){s.d(n,{Z:function(){return c},a:function(){return l}});var r=s(67294);let t={},i=r.createContext(t);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);