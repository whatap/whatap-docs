"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["76291"],{26117:function(e,n,s){s.d(n,{Ay:()=>c,RM:()=>r});var a=s(74848),t=s(84429);let r=[{value:"\uC5D0\uC774\uC804\uD2B8 \uB2E4\uC6B4\uB85C\uB4DC",id:"\uC5D0\uC774\uC804\uD2B8-\uB2E4\uC6B4\uB85C\uB4DC",level:2},{value:"\uC5D0\uC774\uC804\uD2B8 \uC124\uC815",id:"\uC5D0\uC774\uC804\uD2B8-\uC124\uC815",level:2},{value:"\uCEE8\uD14C\uC774\uB108 \uD658\uACBD\uBCC0\uC218 \uC124\uC815",id:"\uCEE8\uD14C\uC774\uB108-\uD658\uACBD\uBCC0\uC218-\uC124\uC815",level:2},{value:"\uC5D0\uC774\uC804\uD2B8 \uC2E4\uD589",id:"\uC5D0\uC774\uC804\uD2B8-\uC2E4\uD589",level:2},{value:"\uC5D0\uC774\uC804\uD2B8 \uC124\uCE58 \uD655\uC778",id:"\uC5D0\uC774\uC804\uD2B8-\uC124\uCE58-\uD655\uC778",level:2}];function i(e){let n={admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{Cmdname:s,InDoc:r,TabItem:i,Tabs:c}=n;return s||l("Cmdname",!0),r||l("InDoc",!0),i||l("TabItem",!0),c||l("Tabs",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Docker \uCEE8\uD14C\uC774\uB108 \uAE30\uBC18\uC73C\uB85C \uC2E4\uD589\uD558\uB294 PHP \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC5D0 \uC640\uD0ED \uBAA8\uB2C8\uD130\uB9C1 \uC5D0\uC774\uC804\uD2B8\uB97C \uC801\uC6A9\uD558\uACE0 \uCEE8\uD14C\uC774\uB108 \uC774\uBBF8\uC9C0\uB97C \uD328\uD0A4\uC9D5\uD558\uB294 \uACFC\uC815\uC744 \uB2E4\uC74C\uACFC \uAC19\uC774 \uC548\uB0B4\uD569\uB2C8\uB2E4."}),"\n",(0,a.jsx)(r,{product:"kubernetes",children:(0,a.jsxs)(n.admonition,{type:"note",children:[(0,a.jsx)(n.mdxAdmonitionTitle,{}),(0,a.jsx)(n.p,{children:"EKS Fargate\uB294 \uC9C0\uC6D0 \uC608\uC815\uC785\uB2C8\uB2E4."})]})}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"\uC5D0\uC774\uC804\uD2B8-\uB2E4\uC6B4\uB85C\uB4DC",children:"\uC5D0\uC774\uC804\uD2B8 \uB2E4\uC6B4\uB85C\uB4DC"}),(0,a.jsx)(n.p,{children:"PHP \uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uB3C4\uCEE4 \uC774\uBBF8\uC9C0 \uBE4C\uB4DC \uC2DC whatap-php \uD328\uD0A4\uC9C0\uB97C \uC124\uCE58\uD558\uC138\uC694."}),(0,a.jsxs)(c,{children:[(0,a.jsx)(i,{value:"x64",label:"x64",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-docker",metastring:"title='x64'",children:"RUN wget https://s3.ap-northeast-2.amazonaws.com/repo.whatap.io/alpine/x86_64/whatap-php.tar.gz\nRUN tar -xvzf whatap-php.tar.gz -C /\n"})})}),(0,a.jsx)(i,{value:"aarch64",label:"AArch64",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-docker",metastring:"title='AArch64'",children:"RUN wget https://s3.ap-northeast-2.amazonaws.com/repo.whatap.io/alpine/aarch64/whatap-php.tar.gz\nRUN tar -xvzf whatap-php.tar.gz -C /\n"})})})]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"\uC5D0\uC774\uC804\uD2B8-\uC124\uC815",children:"\uC5D0\uC774\uC804\uD2B8 \uC124\uC815"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"\uB2E4\uC74C \uBA85\uB839\uC5B4\uB97C \uC774\uC6A9\uD574 \uC124\uCE58 \uC2A4\uD06C\uB9BD\uD2B8\uB97C \uC124\uC815\uD558\uC138\uC694. \uC640\uD0ED \uC561\uC138\uC2A4 \uD0A4, \uC11C\uBC84 IP \uC815\uBCF4\uB97C \uC785\uB825\uD558\uBA74 PHP \uD658\uACBD \uC815\uBCF4\uB97C \uC790\uB3D9\uC73C\uB85C \uC218\uC9D1\uD569\uB2C8\uB2E4."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-docker",children:'RUN (echo "[\uC561\uC138\uC2A4 \uD0A4]"; echo "[\uC11C\uBC84 IP]")|/usr/whatap/php/install.sh\n'})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"\uB2E4\uC74C\uACFC \uAC19\uC774 PHP \uD658\uACBD \uC815\uBCF4\uB97C \uC9C1\uC811 \uC785\uB825\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-docker",children:"# RUN /usr/whatap/php/install.sh -l [\uC561\uC138\uC2A4 \uD0A4] -s [\uC11C\uBC84 IP] -v [PHP \uBC84\uC804 x.x] -i [php.ini\uC758 \uC804\uCCB4 \uACBD\uB85C] -p [\uD504\uB85C\uC138\uC2A4\uBA85] -z [thread safety]\nRUN /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -v 7.0 -i /etc/php.ini -p httpd [-z]\n"})}),"\n"]}),"\n"]}),(0,a.jsxs)(n.admonition,{type:"note",children:[(0,a.jsx)(n.mdxAdmonitionTitle,{}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\uC561\uC138\uC2A4 \uD0A4"}),"\uAC00 Docker Public \uC0C1\uD0DC\uC758 \uC774\uBBF8\uC9C0\uC5D0 \uB178\uCD9C\uB418\uC9C0 \uC54A\uB3C4\uB85D \uC8FC\uC758\uD558\uC138\uC694."]})]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"\uCEE8\uD14C\uC774\uB108-\uD658\uACBD\uBCC0\uC218-\uC124\uC815",children:"\uCEE8\uD14C\uC774\uB108 \uD658\uACBD\uBCC0\uC218 \uC124\uC815"}),(0,a.jsxs)(n.p,{children:["Docker \uBE4C\uB4DC \uD6C4 \uCFE0\uBC84\uB124\uD2F0\uC2A4 \uD658\uACBD \uB0B4 ",(0,a.jsx)(n.strong,{children:"\uCEE8\uD14C\uC774\uB108 \uD658\uACBD\uBCC0\uC218"}),"\uB97C \uC124\uC815\uD558\uC138\uC694. \uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uBC30\uD3EC ",(0,a.jsx)(n.em,{children:"yaml"})," \uD30C\uC77C\uC5D0 \uB2E4\uC74C \uB0B4\uC6A9\uC744 \uCD94\uAC00\uD558\uC138\uC694."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"\nenv:\n- name: NODE_IP\n  valueFrom: {fieldRef: {fieldPath: status.hostIP}}\n- name: NODE_NAME\n  valueFrom: {fieldRef: {fieldPath: spec.nodeName}}\n- name: POD_NAME\n  valueFrom: {fieldRef: {fieldPath: metadata.name}}\n\n"})}),(0,a.jsx)(n.p,{children:"\uB2E4\uC74C \uC608\uC2DC\uB97C \uCC38\uC870\uD558\uC138\uC694."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: # Pod Name\n  labels: # Pod Labels\nspec:\n  containers:\n    env:\n    - name: NODE_IP\n      valueFrom: {fieldRef: {fieldPath: status.hostIP}}\n    - name: NODE_NAME\n      valueFrom: {fieldRef: {fieldPath: spec.nodeName}}\n    - name: POD_NAME\n      valueFrom: {fieldRef: {fieldPath: metadata.name}}\n"})}),(0,a.jsxs)(n.admonition,{type:"note",children:[(0,a.jsx)(n.mdxAdmonitionTitle,{}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\uD658\uACBD\uBCC0\uC218 \uC5ED\uD560"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"NODE_IP"}),": \uD604\uC7AC Pod\uAC00 \uD638\uC2A4\uD305\uB41C \uB178\uB4DC(Node)\uC758 IP \uC8FC\uC18C\uB97C \uC218\uC9D1\uD569\uB2C8\uB2E4."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"NODE_NAME"}),": \uD604\uC7AC Pod\uAC00 \uC2E4\uD589 \uC911\uC778 \uB178\uB4DC\uC758 \uC774\uB984\uC744 \uC218\uC9D1\uD569\uB2C8\uB2E4."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"POD_NAME"}),": \uD604\uC7AC Pod\uC758 \uC774\uB984\uC744 \uC218\uC9D1\uD569\uB2C8\uB2E4."]}),"\n"]}),"\n"]})]})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"\uC5D0\uC774\uC804\uD2B8-\uC2E4\uD589",children:"\uC5D0\uC774\uC804\uD2B8 \uC2E4\uD589"}),(0,a.jsxs)(c,{children:[(0,a.jsxs)(i,{value:"cm",label:"Command",default:!0,children:[(0,a.jsx)(n.p,{children:"\uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uC2DC\uC791 \uBA85\uB839\uC5B4 \uC55E\uC5D0 \uCD94\uAC00\uB85C whatap-php \uC2DC\uC791 \uBA85\uB839\uC5B4\uB97C \uCD94\uAC00\uD558\uC138\uC694."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-docker'",children:'sh -c "/usr/whatap/php/whatap-php start && [\uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uC2DC\uC791 \uBA85\uB839\uC5B4]"\n'})})]}),(0,a.jsxs)(i,{value:"sup",label:"Supervisor",default:!0,children:[(0,a.jsx)(n.p,{children:"Supervisor\uB85C \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC744 \uC2DC\uC791\uD558\uB294 \uACBD\uC6B0 \uB2E4\uC74C \uCF54\uB4DC\uB97C \uCC38\uC870\uD574 whatap-php \uC11C\uBE44\uC2A4\uB97C \uCD94\uAC00\uD558\uC138\uC694."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-docker",children:'\nRUN echo "[program:whatap-php]" >> /etc/supervisor/conf.d/whatap.conf\nRUN echo "command = sh -c \u2018/usr/whatap/php/whatap-php start\u2019" >> /etc/supervisor/conf.d/whatap.conf\nRUN echo "user = root" >> /etc/supervisor/conf.d/whatap.conf\nRUN echo "startsecs = 0" >> /etc/supervisor/conf.d/whatap.conf\nRUN echo "autostart = true" >> /etc/supervisor/conf.d/whatap.conf\nRUN echo "autorestart = false" >> /etc/supervisor/conf.d/whatap.conf\nRUN echo "stdout_logfile = /dev/stdout" >> /etc/supervisor/conf.d/whatap.conf\nRUN echo "stdout_logfile_maxbytes=0" >> /etc/supervisor/conf.d/whatap.conf\nRUN echo "stderr_logfile = /dev/stderr" >> /etc/supervisor/conf.d/whatap.conf\nRUN echo "stderr_logfile_maxbytes=0" >> /etc/supervisor/conf.d/whatap.conf\n\n'})})]})]}),(0,a.jsx)(n.p,{children:"\uB2E4\uC74C \uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD574 \uC640\uD0ED \uC11C\uBE44\uC2A4\uAC00 \uC815\uC0C1 \uC2E4\uD589\uB418\uC5C8\uB294\uC9C0 \uD655\uC778\uD558\uC138\uC694. \uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uC11C\uBC84\uAC00 \uC2E4\uD589\uB418\uBA74 \uC5D0\uC774\uC804\uD2B8\uAC00 \uBAA8\uB2C8\uD130\uB9C1 \uC815\uBCF4\uB97C \uC218\uC9D1\uD558\uAE30 \uC2DC\uC791\uD569\uB2C8\uB2E4."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-docker",children:"\nps -ef | grep whatap_php\n\n"})})]}),"\n",(0,a.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(n.h2,{id:"\uC5D0\uC774\uC804\uD2B8-\uC124\uCE58-\uD655\uC778",children:"\uC5D0\uC774\uC804\uD2B8 \uC124\uCE58 \uD655\uC778"}),(0,a.jsxs)(n.p,{children:["\uC5D0\uC774\uC804\uD2B8\uB97C \uC81C\uB300\uB85C \uC124\uCE58\uD588\uB294\uC9C0 \uD655\uC778\uD558\uB824\uBA74 ",(0,a.jsx)(s,{sid:"dashboard",className:"uitext"})," > ",(0,a.jsx)(s,{sid:"serviceDashboard",className:"uitext"})," \uBA54\uB274\uB85C \uC774\uB3D9\uD558\uC138\uC694."]}),(0,a.jsxs)(n.p,{children:["\uB2E4\uC6B4\uB85C\uB4DC\uD55C \uD30C\uC77C\uC744 \uC9C1\uC811 \uC124\uCE58\uD55C \uB2E4\uC74C, ",(0,a.jsx)(s,{sid:"dashboard",className:"uitext"})," \uBA54\uB274\uC5D0\uC11C \uC5D0\uC774\uC804\uD2B8\uB97C \uD655\uC778\uD560 \uC218 \uC5C6\uB2E4\uBA74 \uB2E4\uC74C \uC0AC\uD56D\uC744 \uD655\uC778\uD558\uC138\uC694."]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["\uCEE8\uD14C\uC774\uB108\uC5D0\uC11C ",(0,a.jsx)(n.code,{children:"ps -ef | grep whatap"})," \uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD574 \uC5D0\uC774\uC804\uD2B8 \uC635\uC158\uC744 \uC801\uC6A9\uD588\uB294\uC9C0 \uD655\uC778\uD558\uC138\uC694."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["\uCEE8\uD14C\uC774\uB108\uC758 ",(0,a.jsx)(n.em,{children:"/usr/whatap/php/logs"})," \uACBD\uB85C\uC758 \uB0B4\uC6A9\uC744 \uD655\uC778\uD558\uC138\uC694. \uC5D0\uC774\uC804\uD2B8 \uB85C\uADF8\uB294 ",(0,a.jsxs)(n.em,{children:["logs/whatap-",(0,a.jsx)(n.code,{children:"{boot or install}"}),"-yyyymmdd.log"]})," \uD615\uC2DD\uC758 \uD30C\uC77C\uBA85\uC73C\uB85C \uCD9C\uB825\uB429\uB2C8\uB2E4."]}),"\n"]}),"\n"]})]})]})}function c(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}function l(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},52210:function(e,n,s){s.r(n),s.d(n,{metadata:()=>a,default:()=>p,frontMatter:()=>c,contentTitle:()=>l,toc:()=>d,assets:()=>o});var a=JSON.parse('{"id":"php/install-agent-docker","title":"Docker \uD658\uACBD \uC124\uCE58","description":"Docker \uD658\uACBD\uC5D0\uC11C \uCEE8\uD14C\uC774\uB108 \uB0B4 PHP \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC744 \uBAA8\uB2C8\uD130\uB9C1\uD558\uAE30 \uC704\uD55C \uC5D0\uC774\uC804\uD2B8 \uC124\uCE58\uB97C \uC548\uB0B4\uD569\uB2C8\uB2E4.","source":"@site/docs/php/install-agent-docker.mdx","sourceDirName":"php","slug":"/php/install-agent-docker","permalink":"/whatap-docs/php/install-agent-docker","draft":false,"unlisted":false,"editUrl":"undefined/docs/php/install-agent-docker.mdx","tags":[],"version":"current","frontMatter":{"id":"install-agent-docker","title":"Docker \uD658\uACBD \uC124\uCE58","description":"Docker \uD658\uACBD\uC5D0\uC11C \uCEE8\uD14C\uC774\uB108 \uB0B4 PHP \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC744 \uBAA8\uB2C8\uD130\uB9C1\uD558\uAE30 \uC704\uD55C \uC5D0\uC774\uC804\uD2B8 \uC124\uCE58\uB97C \uC548\uB0B4\uD569\uB2C8\uB2E4.","keywords":["PHP","\uC5D0\uC774\uC804\uD2B8 \uC124\uCE58","Docker","\uCEE8\uD14C\uC774\uB108","\uC560\uD50C\uB9AC\uCF00\uC774\uC158"],"isTranslationMissing":false},"sidebar":"phpSidebar","previous":{"title":"Windows","permalink":"/whatap-docs/php/php-os/windows"},"next":{"title":"\uC124\uCE58 \uC810\uAC80","permalink":"/whatap-docs/php/install-check"}}'),t=s(74848),r=s(84429),i=s(26117);let c={id:"install-agent-docker",title:"Docker \uD658\uACBD \uC124\uCE58",description:"Docker \uD658\uACBD\uC5D0\uC11C \uCEE8\uD14C\uC774\uB108 \uB0B4 PHP \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC744 \uBAA8\uB2C8\uD130\uB9C1\uD558\uAE30 \uC704\uD55C \uC5D0\uC774\uC804\uD2B8 \uC124\uCE58\uB97C \uC548\uB0B4\uD569\uB2C8\uB2E4.",keywords:["PHP","\uC5D0\uC774\uC804\uD2B8 \uC124\uCE58","Docker","\uCEE8\uD14C\uC774\uB108","\uC560\uD50C\uB9AC\uCF00\uC774\uC158"],isTranslationMissing:!1},l,o={},d=[...i.RM];function h(e){return(0,t.jsx)(i.Ay,{})}function p(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},84429:function(e,n,s){s.d(n,{R:()=>i,x:()=>c});var a=s(96540);let t={},r=a.createContext(t);function i(e){let n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);