"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["89869"],{35407:function(e,n,t){t.r(n),t.d(n,{metadata:()=>s,default:()=>h,frontMatter:()=>i,contentTitle:()=>r,toc:()=>c,assets:()=>l});var s=JSON.parse('{"id":"release-notes/k8s/k8s-1_5_7","title":"Kubernetes Agent v1.5.7","description":"March 7, 2024","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/release-notes/k8s/k8s-1.5.7.mdx","sourceDirName":"release-notes/k8s","slug":"/release-notes/k8s/k8s-1_5_7","permalink":"/whatap-docs/release-notes/k8s/k8s-1_5_7","draft":false,"unlisted":false,"editUrl":"undefined/docs/release-notes/k8s/k8s-1.5.7.mdx","tags":[],"version":"current","frontMatter":{"id":"k8s-1_5_7","title":"Kubernetes Agent v1.5.7","toc_max_heading_level":2,"pagination_next":"release-notes/k8s/k8s-1_5_6","displayed_sidebar":"releaseSidebar","isTranslationMissing":false},"sidebar":"releaseSidebar","next":{"title":"Kubernetes Agent v1.5.6","permalink":"/whatap-docs/release-notes/k8s/k8s-1_5_6"}}'),a=t(74848),o=t(84429);let i={id:"k8s-1_5_7",title:"Kubernetes Agent v1.5.7",toc_max_heading_level:2,pagination_next:"release-notes/k8s/k8s-1_5_6",displayed_sidebar:"releaseSidebar",isTranslationMissing:!1},r,l={},c=[];function d(e){let n={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Status:t}=n;return t||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Status",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"March 7, 2024"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(t,{children:"Feature"})," The whatap-node-helper collects images and performance data from node disks and containers. After adding the logging and configuration functions for the container, you can handle the options of the corresponding function."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"collect_volume_detail_enabled"})," ",(0,a.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,a.jsxs)(n.p,{children:["Default ",(0,a.jsx)(n.code,{children:"true"})]}),"\n",(0,a.jsxs)(n.p,{children:["In the node agent, use the ",(0,a.jsx)(n.code,{children:"exec df"})," command for all containers to enable searching the container volume information. You can enable the function to collect storage usage and volume data for all containers running on the node."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"inject_container_id_to_apm_agent_enabled"})," ",(0,a.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,a.jsxs)(n.p,{children:["Default ",(0,a.jsx)(n.code,{children:"true"})]}),"\n",(0,a.jsxs)(n.p,{children:["It enables container ID injection using ",(0,a.jsx)(n.code,{children:"exec"})," in the WhaTap APM container. The ID of a container identified by WhaTap APM can be automatically extracted and injected into the APM tool, which can be used to associate the performance monitoring data with the container."]}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["This option is available starting with ",(0,a.jsx)(n.a,{href:"../java/java-2_2_33",children:"Java agent 2.2.33"})," or later."]})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(t,{children:"Changed"})," When collecting Kubernetes events from the master agent, the logic that stops collecting duplicate events when the agent is restarted has been deleted. It modified to perform the duplicate event drop logic on the server side."]}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Cause of duplicate collection"}),": When the master agent is restarted and the event is still stored in the Kubernetes cluster, the event is to be read again even if it has already been collected, because the agent does not detect it."]})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(t,{children:"Fixed"})," Through the watchLog feature, you can monitor a specific log file (e.g. ",(0,a.jsx)("em",{children:"/var/log/message"}),") on the node system from the WhaTap dashboard. We fixed the bug where additional log collection fails if the file was changed by the system's log rotation logic."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["Agent download: ",(0,a.jsx)(n.a,{href:"https://repo.whatap.io/docker/kube_mon_1.5.7.tar",children:"kube_mon_1.5.7.tar"})]})})]})}function h(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},84429:function(e,n,t){t.d(n,{R:()=>i,x:()=>r});var s=t(96540);let a={},o=s.createContext(a);function i(e){let n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);