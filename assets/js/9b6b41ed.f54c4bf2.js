"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["11937"],{59740:function(e,s,n){n.d(s,{Ay:()=>o,RM:()=>c});var t=n(74848),r=n(84429);let c=[{value:"Agent CONFIG.",id:"agent-config",level:2},{value:"Configure AWS Aurora and RDS",id:"configure-aws-aurora-and-rds",level:3},{value:"AWS DocumentDB Agent",id:"aws-documentdb-agent",level:3},{value:"NCP Cloud DB for PostgreSQL Setup",id:"ncp-cloud-db-for-postgresql-setup",level:3},{value:"How to Issue an Access Key / Secret Key",id:"issue-accessKey",level:4},{value:"Role setting",id:"role-setting",level:2},{value:"AWS Aurora and RDS roles",id:"aws-aurora-and-rds-roles",level:3},{value:"IAM inline policy",id:"iam-inline-policy",level:4},{value:"AWS DocumentDB permissions",id:"aws-documentdb-permissions",level:3},{value:"IAM inline policy for DocumentDB",id:"iam-inline-policy-for-documentdb",level:4},{value:"NCP Cloud DB for PostgreSQL permissions",id:"ncp-cloud-db-for-postgresql-permissions",level:3},{value:"Pricing information",id:"pricing-information",level:2},{value:"AWS Pricing",id:"aws-pricing",level:3},{value:"NCP Pricing",id:"ncp-pricing",level:3}];function i(e){let s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{InDoc:n}=s;return n||function(e,s){throw Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("InDoc",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{product:"mongodb,mysql,mssql,oracle",children:(0,t.jsx)(s.p,{children:"This document is a guide to configure the WhaTap Cloud Agent in the AWS environment. It is configured to be immediately applicable to the operating environment, including key settings, field descriptions, roles configuration, and execution commands."})}),"\n",(0,t.jsx)(n,{product:"postgresql",children:(0,t.jsx)(s.p,{children:"This document is a guide to configure the WhaTap Cloud Agent in the AWS and NCP environments. It is configured to be immediately applicable to the operating environment, including key settings, field descriptions, roles configuration, and execution commands."})}),"\n",(0,t.jsxs)(s.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(s.h2,{id:"agent-config",children:"Agent CONFIG."}),(0,t.jsx)(n,{product:"mysql,mssql,oracle",children:(0,t.jsx)(s.p,{children:"Instructions for setting up AWS Aurora and RDS"})}),(0,t.jsx)(n,{product:"postgresql",children:(0,t.jsx)(s.p,{children:"The following explains how to configure the AWS Aurora and RDS, and NCP Cloud DB for PostgreSQL."})}),(0,t.jsxs)(n,{product:"postgresql,mysql,mssql,oracle",children:[(0,t.jsx)(s.h3,{id:"configure-aws-aurora-and-rds",children:"Configure AWS Aurora and RDS"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",metastring:"title='config.yaml'",children:'input:\n  csp: "aws" # Enter the Cloud Service Provider.\n  namespace: "rds"\n  region: "us-east-1" # Set the region where the instance is located.\n  instances: # The specified instances are collected always. Instances listed under this property are collected at all times, regardless of the autoscaling setting.\n    - name: "mysql-rds"\n      slow_query: true # To use the slow query page, set it to true. This feature is avaiable only in MySQL and PostgreSQL instances.\n  clusters:\n    autoscale:\n      enabled: false # If the autoscale is enabled, the autoscaled instances are added or deleted for collection.\n      interval: 60 # Autoscale checking cycle for the specified clusters (unit: second)\n    names:\n      - "database-cluster-name"\n  metrics: # Enter the metrics to collect.\n    - "CPUUtilization"\n    - "FreeStorageSpace"\n    - "FreeableMemory"\n    - "ReadLatency"\n    - "WriteLatency"\n    - "ReadIOPS"\n    - "WriteIOPS"\n    - "NetworkReceiveThroughput"\n    - "NetworkTransmitThroughput"\n    - "FreeLocalStorage"\n  logs:\n    enabled: false # Can be enabled/disabled. Select true/false.\n    groups: # Add the desired AWS log groups.\n      - "/aws/rds/cluster/database-cluster-name/error"\n      - "/aws/lambda/MyLambda"\n\noutput: # Enter the WhaTap information to receive the collected metrics.\n  license: "abcdefg-higjgkgjk-zxcvnbnbmc"\n  host: "127.0.0.1"\n'})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Field"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"csp"})}),(0,t.jsxs)(s.td,{children:["Indicates ",(0,t.jsx)(s.code,{children:"aws"})," (Amazon Web Services) as a cloud service provider."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"namespace"})}),(0,t.jsxs)(s.td,{children:["Namespace of the service to be collected",(0,t.jsx)("br",{}),"- Fixed value: Enter ",(0,t.jsx)(s.code,{children:"rds"})," when configuring Aurora and RDS."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"region"})}),(0,t.jsxs)(s.td,{children:["AWS Region code",(0,t.jsx)("br",{}),"- e.g. ",(0,t.jsx)(s.code,{children:"us-east-1"})," (Virginia Region)"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"instances"})}),(0,t.jsx)(s.td,{children:"It always collects the specified instances regardless of whether they are auto-scaled, as long as they are in the list of instances to collect."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"instances[].name"})}),(0,t.jsxs)(s.td,{children:["RDS InstanceName",(0,t.jsx)("br",{}),"- e.g. ",(0,t.jsx)(s.code,{children:"mysql-rds"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"instances[].slow_query"})}),(0,t.jsxs)(s.td,{children:["Whether to collect slow queries for the instance. It is ** available only in MySQL and PostgreSQL instances.** ",(0,t.jsx)("br",{}),"- ",(0,t.jsx)(s.code,{children:"true"}),": To be collected",(0,t.jsx)("br",{}),"- ",(0,t.jsx)(s.code,{children:"false"}),": Not to be collected",(0,t.jsx)("br",{})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"clusters"})}),(0,t.jsx)(s.td,{children:"RDS Cluster-related settings"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"clusters.autoscale.enabled"})}),(0,t.jsxs)(s.td,{children:["Whether to collect cluster autoscale",(0,t.jsx)("br",{}),"- ",(0,t.jsx)(s.code,{children:"true"}),": Automatically add/remove/collect instances",(0,t.jsx)("br",{}),"- ",(0,t.jsx)(s.code,{children:"false"}),": Only the instances directly entered in ",(0,t.jsx)(s.code,{children:"instances"})," are included in the collection targets."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"clusters.autoscale.interval"})}),(0,t.jsx)(s.td,{children:"Polling interval for detecting autoscaling status (unit: second)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"clusters.names"})}),(0,t.jsx)(s.td,{children:"List of cluster names to check for autoscaling status"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"metrics"})}),(0,t.jsxs)(s.td,{children:["List of metrics to collect",(0,t.jsx)("br",{}),"- e.g. ",(0,t.jsx)(s.code,{children:"CPUUtilization"}),", ",(0,t.jsx)(s.code,{children:"FreeStorageSpace"}),", etc",(0,t.jsx)("br",{}),"- Note. ",(0,t.jsx)(s.a,{href:"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/rds-metrics.html",children:"Shortcut to the official Amazon CloudWatch Metrics documentation for Amazon RDS"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"output.license"})}),(0,t.jsx)(s.td,{children:"WhaTap's license key to transmit the collected data"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"output.host"})}),(0,t.jsx)(s.td,{children:"WhaTap server host address (IP) to transmit the collected data to"})]})]})]})]}),(0,t.jsxs)(n,{product:"mongodb",children:[(0,t.jsx)(s.p,{children:"The following explains how to configure the AWS DocumentDB Agent."}),(0,t.jsx)(s.h3,{id:"aws-documentdb-agent",children:"AWS DocumentDB Agent"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",metastring:"title='config.yaml'",children:'input:\n  csp: "aws" # Enter the Cloud Service Provider.\n  namespace: "docdb"\n  region: "us-east-1" # Set the region where the instance is located.\n  instances: # The specified instances are always collected. When the instances within the cluster are specified in this property, collection is applied regardless of the autoscaling status.\n    - name: "docdb-instance-name"\n  clusters:\n    autoscale:\n      enabled: false # If autoscale is enabled, autoscaled instances are added or deleted for collection targets.\n      interval: 60 # Autoscale checking cycle for the specified clusters (unit: second)\n    names:\n      - "docdb-cluster-name"\n  metrics: # Enter the metrics to collect.\n    - "CPUUtilization"\n    - "FreeableMemory"\n    - "ReadLatency"   \n    - "WriteLatency"  \n    - "DatabaseConnections"\n  logs:\n    enabled: false # Can be enabled/disabled. Select true/false.\n    groups: # Add the desired AWS log groups.\n      - "/aws/rds/cluster/docdb-cluster-name/error"\n      - "/aws/lambda/MyLambda"\n\noutput: # Enter the WhaTap information to receive the collected metrics.\n  license: "abcdefg-higjgkgjk-zxcvnbnbmc"\n  host: "127.0.0.1"\n'})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Field"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"csp"})}),(0,t.jsxs)(s.td,{children:["Indicates ",(0,t.jsx)(s.code,{children:"aws"})," (Amazon Web Services) as the cloud service provider."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"namespace"})}),(0,t.jsxs)(s.td,{children:["Namespace of the collection target service",(0,t.jsx)("br",{}),"- When AWS DocumentDB is set, enter ",(0,t.jsx)(s.code,{children:"docdb"})," as the ",(0,t.jsx)(s.strong,{children:"fixed value"}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"region"})}),(0,t.jsxs)(s.td,{children:["AWS Region code",(0,t.jsx)("br",{}),"- e.g. ",(0,t.jsx)(s.code,{children:"us-east-1"})," (Virginia Region)"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"instances"})}),(0,t.jsx)(s.td,{children:"It always collects the specified instances regardless of whether they are auto-scaled, as long as they are in the list of instances to collect."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"instances[].name"})}),(0,t.jsxs)(s.td,{children:["DocumentDB InstanceName",(0,t.jsx)("br",{}),"- e.g. ",(0,t.jsx)(s.code,{children:"docdb-2025-04-08-01-21-05"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"clusters"})}),(0,t.jsx)(s.td,{children:"DocumentDB cluster-related settings"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"clusters.autoscale.enabled"})}),(0,t.jsxs)(s.td,{children:["Whether to collect cluster autoscale",(0,t.jsx)("br",{}),"- ",(0,t.jsx)(s.code,{children:"true"}),": Automatically add/remove/collect instances",(0,t.jsx)("br",{}),"- ",(0,t.jsx)(s.code,{children:"false"}),": Only the instances directly entered in ",(0,t.jsx)(s.code,{children:"instances"})," are included in the collection targets."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"clusters.autoscale.interval"})}),(0,t.jsx)(s.td,{children:"Polling interval for detecting autoscaling status (unit: second)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"clusters.names"})}),(0,t.jsx)(s.td,{children:"List of cluster names to check for autoscaling status"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"metrics"})}),(0,t.jsxs)(s.td,{children:["List of metrics to collect",(0,t.jsx)("br",{}),"- e.g. ",(0,t.jsx)(s.code,{children:"CPUUtilization"}),", ",(0,t.jsx)(s.code,{children:"FreeableMemory"}),", etc",(0,t.jsx)("br",{}),"- Note. ",(0,t.jsx)(s.a,{href:"https://docs.aws.amazon.com/documentdb/latest/developerguide/cloud_watch.html",children:"Official Documentation for Amazon DocumentDB metrics"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"output.license"})}),(0,t.jsx)(s.td,{children:"WhaTap's license key to transmit the collected data"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"output.host"})}),(0,t.jsx)(s.td,{children:"WhaTap server host address (IP) to transmit the collected data to"})]})]})]})]}),(0,t.jsxs)(n,{product:"postgresql",children:[(0,t.jsx)(s.h3,{id:"ncp-cloud-db-for-postgresql-setup",children:"NCP Cloud DB for PostgreSQL Setup"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",metastring:"title='config.yaml'",children:'input:\n  csp: "ncp" # Enter the Cloud Service Provider.\n  namespace: "vpc_postgresql"\n  region: "KR" # KR | SGN | JPN | USWN | DEN\n  accessKey: "YOUR_ACCESS_KEY"\n  secretKey: "YOUR_SECRET_KEY"\n  instances: # Specify the name of the DB Server to monitor in the Cloud DB for PostgreSQL (VPC) list.\n    - name: "instance-name"\n      domain: "pg-xxxxx.vpc-pub-cdb-kr.ntruss.com" # Enter the private or public domain that can be accessed.\n  metrics: # Enter the metrics to collect.\n    - "cpu_user"\n    - "mem_used"\n    - "disk_usage"\n    - "nic_total"\n    - "cpu_load_1"\n    - "tup_inserted"\n\noutput: # Enter the WhaTap information to receive the collected metrics.\n  license: "4544ee0few5-a880410bb205-2987709519af"\n  host: "127.0.0.1"\n'})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Field path"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"csp"})}),(0,t.jsxs)(s.td,{children:["Indicates using the Naver Cloud Platform (",(0,t.jsx)(s.code,{children:"ncp"}),") as the cloud service provider."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"namespace"})}),(0,t.jsxs)(s.td,{children:["It is used as the delimiter for monitoring targets or group name.",(0,t.jsx)("br",{}),"- e.g. ",(0,t.jsx)(s.code,{children:"vpc_postgresql"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"region"})}),(0,t.jsxs)(s.td,{children:["Cloud region code",(0,t.jsx)("br",{}),"- Available values: ",(0,t.jsx)(s.code,{children:"KR"}),", ",(0,t.jsx)(s.code,{children:"SGN"}),", ",(0,t.jsx)(s.code,{children:"JPN"}),", ",(0,t.jsx)(s.code,{children:"USWN"}),", ",(0,t.jsx)(s.code,{children:"DEN"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"accessKey"})}),(0,t.jsxs)(s.td,{children:["Access key for API calls to Naver Cloud",(0,t.jsx)("br",{}),"- Note. ",(0,t.jsx)(s.a,{href:"/postgresql/agent-cloud-settings#issue-accessKey",children:"How to Create an Access Key and Secret Key"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"secretKey"})}),(0,t.jsx)(s.td,{children:"Secret key for API calls to Naver Cloud"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"instances"})}),(0,t.jsxs)(s.td,{children:["List of PostgreSQL instances to monitor",(0,t.jsx)("br",{}),"- Each instance contains the ",(0,t.jsx)(s.code,{children:"name"})," and ",(0,t.jsx)(s.code,{children:"domain"})," fields."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"instances[].name"})}),(0,t.jsxs)(s.td,{children:["Cloud DB for PostgreSQL (VPC) instance name",(0,t.jsx)("br",{}),"- It can be checked in DB Server > DB Server Name of the NAVER CLOUD PLATFORM console.",(0,t.jsx)("br",{}),"- e.g. ",(0,t.jsx)(s.code,{children:"whatap-001-70ld"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"instances[].domain"})}),(0,t.jsxs)(s.td,{children:["Domain address that can be accessed from the instance",(0,t.jsx)("br",{}),"- It can be checked in DB Server > Private or Public Domain of the NAVER CLOUD PLATFORM console.",(0,t.jsx)("br",{}),"- Enter the ",(0,t.jsx)(s.strong,{children:"Private or Public domain address"})," that is being accessed by the DBX agent.",(0,t.jsx)("br",{}),"- e.g. ",(0,t.jsx)(s.code,{children:"pg-33rr40.vpc-pub-cdb-kr.ntruss.com"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"metrics"})}),(0,t.jsxs)(s.td,{children:["List of metrics to collect",(0,t.jsx)("br",{}),"- Note. ",(0,t.jsx)(s.a,{href:"https://api.ncloud-docs.com/docs/database-vpostgresql-metric",children:"Official Documentation for Cloud DB for PostgreSQL (VPC) metrics"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"output"})}),(0,t.jsx)(s.td,{children:"WhaTap information to receive the collected metrics"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"output.license"})}),(0,t.jsx)(s.td,{children:"WhaTap's license key to transmit the collected metrics"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"output.host"})}),(0,t.jsx)(s.td,{children:"WhaTap server host address (IP) to transmit the collected data to"})]})]})]}),(0,t.jsx)(s.h4,{id:"issue-accessKey",children:"How to Issue an Access Key / Secret Key"}),(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Log in to the ",(0,t.jsx)(s.a,{href:"https://www.ncloud.com",children:"NAVER CLOUD PLATFORM Console"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"From the top menu, go to My Page > Account Management."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Click Authentication Key Management in the menu."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Click the [Create Key] button to generate a new Access Key and Secret Key."}),"\n"]}),"\n"]})]})]}),"\n",(0,t.jsxs)(s.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(s.h2,{id:"role-setting",children:"Role setting"}),(0,t.jsx)(s.p,{children:"For the agent to operate normally, set the required roles for each service."}),(0,t.jsxs)(n,{product:"postgresql,mysql,mssql,oracle",children:[(0,t.jsx)(s.h3,{id:"aws-aurora-and-rds-roles",children:"AWS Aurora and RDS roles"}),(0,t.jsx)(s.p,{children:"The Cloud Agent calls the AWS API to perform the following features."}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Check the monitoring targets by querying the AWS Aurora and RDS instance and clusters."}),"\n",(0,t.jsx)(s.li,{children:"Collecting CloudWatch metrics"}),"\n"]}),(0,t.jsx)(s.h4,{id:"iam-inline-policy",children:"IAM inline policy"}),(0,t.jsxs)(s.p,{children:["Add the JSON policy as ",(0,t.jsx)(s.strong,{children:"inline policy"})," for IAM user or role. If you are running the agent on EC2, grant the policy to the IAM role associated with the EC2 instance."]}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["This policy is applied to both ",(0,t.jsx)(s.strong,{children:"Aurora and RDS services"}),"."]}),"\n",(0,t.jsx)(s.li,{children:"The resources are configured to apply to all Aurora and RDS resources. If needed, the resource ARNs can be restricted depending on the security policy."}),"\n",(0,t.jsx)(s.li,{children:"The agent can use the read-only APIs only. The roles that can affect the database are not included."}),"\n"]}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "Version": "2012-10-17",\n  "Statement": [\n    {\n      "Sid": "RDSPermissions",\n      "Effect": "Allow",\n      "Action": [\n        "rds:DescribeDBInstances",\n        "rds:DescribeDBClusters",\n        "rds:DescribeDBClusterParameters",\n        "rds:DescribeOptionGroups"\n      ],\n      "Resource": "*"\n    },\n    {\n      "Sid": "CloudWatchMetricsPermissions",\n      "Effect": "Allow",\n      "Action": [\n        "cloudwatch:GetMetricData",\n        "cloudwatch:GetMetricStatistics",\n        "cloudwatch:ListMetrics"\n      ],\n      "Resource": "*"\n    },\n    {\n      "Sid": "CloudWatchLogsPermissions",\n      "Effect": "Allow",\n      "Action": [\n        "logs:DescribeLogGroups",\n        "logs:DescribeLogStreams",\n        "logs:FilterLogEvents",\n        "logs:GetLogEvents"\n      ],\n      "Resource": [\n        "arn:aws:logs:*:*:log-group:/aws/rds/*"\n      ]\n    }\n  ]\n}\n'})})]}),(0,t.jsxs)(n,{product:"mongodb",children:[(0,t.jsx)(s.h3,{id:"aws-documentdb-permissions",children:"AWS DocumentDB permissions"}),(0,t.jsx)(s.p,{children:"The cloud agent performs the following features for DocumentDB."}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Viewing the DocumentDB instances and clusters"}),"\n",(0,t.jsx)(s.li,{children:"Collecting CloudWatch metrics"}),"\n"]}),(0,t.jsx)(s.h4,{id:"iam-inline-policy-for-documentdb",children:"IAM inline policy for DocumentDB"}),(0,t.jsxs)(s.p,{children:["Add the JSON policy as ",(0,t.jsx)(s.strong,{children:"inline policy"})," for IAM user or role. If the agent is run on EC2, grant the policy to the IAM role associated with the EC2 instance."]}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"The resources are configured to apply to all DocumentDB resources. If needed, the resource ARNs can be restricted depending on the security policy."}),"\n",(0,t.jsx)(s.li,{children:"The agent can use the read-only APIs only. The roles that can affect the database are not included."}),"\n"]}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "Version": "2012-10-17",\n  "Statement": [\n    {\n      "Sid": "DocDBPermissions",\n      "Effect": "Allow",\n      "Action": [\n        "docdb:DescribeDBInstances",\n        "docdb:DescribeDBClusters"\n      ],\n      "Resource": "*"\n    },\n    {\n      "Sid": "CloudWatchMetricsPermissions",\n      "Effect": "Allow",\n      "Action": [\n        "cloudwatch:GetMetricData",\n        "cloudwatch:GetMetricStatistics",\n        "cloudwatch:ListMetrics"\n      ],\n      "Resource": "*"\n    },\n    {\n      "Sid": "CloudWatchLogsPermissions",\n      "Effect": "Allow",\n      "Action": [\n        "logs:DescribeLogGroups",\n        "logs:DescribeLogStreams",\n        "logs:FilterLogEvents",\n        "logs:GetLogEvents"\n      ],\n      "Resource": [\n        "arn:aws:logs:*:*:log-group:/aws/docdb/*"\n      ]\n    }\n  ]\n}\n'})})]}),(0,t.jsxs)(n,{product:"postgresql",children:[(0,t.jsx)(s.h3,{id:"ncp-cloud-db-for-postgresql-permissions",children:"NCP Cloud DB for PostgreSQL permissions"}),(0,t.jsx)(s.p,{children:"The Cloud Agent calls the NCP Cloud Insight API to collect metrics and configuration data from the NCP Cloud DB for PostgreSQL instances. For this purpose, Access Key and Secret Key are required."}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"How to create an Access Key and Secret Key"})}),(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Log in to the ",(0,t.jsx)(s.a,{href:"https://www.ncloud.com",children:"NAVER CLOUD PLATFORM Console"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["From the top menu, go to ",(0,t.jsx)(s.strong,{children:"My Page > Account Management"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Select ",(0,t.jsx)(s.strong,{children:"Authentication Key Management"})," from the menu."]}),"\n",(0,t.jsxs)(s.li,{children:["Click the ",(0,t.jsx)(s.strong,{children:"[Create Key]"})," button to create new Access Key and Secret Key."]}),"\n"]})]})]}),"\n",(0,t.jsxs)(s.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(s.h2,{id:"pricing-information",children:"Pricing information"}),(0,t.jsx)(s.admonition,{type:"caution",children:(0,t.jsx)(s.p,{children:"The Cloud Monitoring Agent is free, but note that separate charges may apply depending on the use of Cloud services."})}),(0,t.jsxs)(n,{product:"postgresql,mongodb,mysql,mssql,oracle",children:[(0,t.jsx)(s.h3,{id:"aws-pricing",children:"AWS Pricing"}),(0,t.jsxs)(s.p,{children:["Cloud monitoring agents are provided without separate SaaS fees, and the monitoring feature can be used simply by installing the agent. However, because the metrics are collected through the API for Cloud services such as AWS CloudWatch, ",(0,t.jsx)(s.strong,{children:"separate charges may apply depending on the CloudWatch usage"}),"."]}),(0,t.jsxs)(s.p,{children:["This agent basically collects metrics by ",(0,t.jsx)(s.strong,{children:"calling the GetMetricData API every 1 minute"}),". Note that the charge may increase depending on the call frequency and collection targets."]}),(0,t.jsxs)(s.p,{children:["For more information about the pricing policy, see the ",(0,t.jsx)(s.a,{href:"https://aws.amazon.com/cloudwatch/pricing/",children:"Amazon CloudWatch pricing in AWS official documentation"})," page."]})]}),(0,t.jsxs)(n,{product:"postgresql",children:[(0,t.jsx)(s.h3,{id:"ncp-pricing",children:"NCP Pricing"}),(0,t.jsx)(s.p,{children:"Cloud monitoring agents are provided without separate SaaS fees, and the monitoring feature can be used simply by installing the agent. The Cloud Monitoring Agent calls the Cloud Insight API every 5 minutes to collect metrics at 1-minute granularity."}),(0,t.jsx)(s.p,{children:"The Cloud Insight service of the Naver Cloud Platform (NCP) is currently provided free of charge, but may become paid depending on the future policy. If the Cloud Insight service becomes paid, charges may apply based on the number of API calls. Monitor the usage accordingly."}),(0,t.jsxs)(s.p,{children:["For more information about the pricing policy, see the ",(0,t.jsx)(s.a,{href:"https://www.ncloud.com/product/management/cloudInsight#pricing",children:"Official pricing guide of NAVER Cloud Platform"})," page."]})]})]})]})}function o(e={}){let{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},80272:function(e,s,n){n.r(s),n.d(s,{metadata:()=>t,default:()=>u,frontMatter:()=>o,contentTitle:()=>l,toc:()=>a,assets:()=>d});var t=JSON.parse('{"id":"postgresql/agent-cloud-settings","title":"Cloud Agent Configuration","description":"The following explains how to configure the PostgreSQL Database Cloud agent.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/postgresql/agent-cloud-settings.mdx","sourceDirName":"postgresql","slug":"/postgresql/agent-cloud-settings","permalink":"/whatap-docs/postgresql/agent-cloud-settings","draft":false,"unlisted":false,"editUrl":"undefined/docs/postgresql/agent-cloud-settings.mdx","tags":[],"version":"current","frontMatter":{"id":"agent-cloud-settings","title":"Cloud Agent Configuration","description":"The following explains how to configure the PostgreSQL Database Cloud agent.","keywords":["PostgreSQL","DATABASE","Cloud Agent"],"isTranslationMissing":false},"sidebar":"postgreSidebar","previous":{"title":"XOS agent configuration","permalink":"/whatap-docs/postgresql/agent-xos-settings"},"next":{"title":"Installation and Usage","permalink":"/whatap-docs/postgresql/agent-cloud-settings-usage"}}'),r=n(74848),c=n(84429),i=n(59740);let o={id:"agent-cloud-settings",title:"Cloud Agent Configuration",description:"The following explains how to configure the PostgreSQL Database Cloud agent.",keywords:["PostgreSQL","DATABASE","Cloud Agent"],isTranslationMissing:!1},l,d={},a=[...i.RM];function h(e){return(0,r.jsx)(i.Ay,{})}function u(e={}){let{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},84429:function(e,s,n){n.d(s,{R:()=>i,x:()=>o});var t=n(96540);let r={},c=t.createContext(r);function i(e){let s=t.useContext(c);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(c.Provider,{value:s},e.children)}}}]);