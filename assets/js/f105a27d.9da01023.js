"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["95402"],{11536:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>i,metadata:()=>r,assets:()=>a,toc:()=>d,contentTitle:()=>l});var r=JSON.parse('{"id":"openmetrics/install","title":"OpenMetrics \uC124\uCE58","description":"OpenMetrics \uC124\uCE58 \uAC00\uC774\uB4DC\uC785\uB2C8\uB2E4.","source":"@site/docs/openmetrics/install.mdx","sourceDirName":"openmetrics","slug":"/openmetrics/install","permalink":"/whatap-docs/openmetrics/install","draft":false,"unlisted":false,"editUrl":"undefined/docs/openmetrics/install.mdx","tags":[],"version":"current","frontMatter":{"id":"install","title":"OpenMetrics \uC124\uCE58","description":"OpenMetrics \uC124\uCE58 \uAC00\uC774\uB4DC\uC785\uB2C8\uB2E4.","toc_max_heading_level":4,"keywords":["OpenMetrics \uC124\uCE58"],"isTranslationMissing":false},"sidebar":"omSidebar","previous":{"title":"OpenMetrics","permalink":"/whatap-docs/openmetrics/introduction"}}'),t=s("85893"),c=s("50065");let i={id:"install",title:"OpenMetrics \uC124\uCE58",description:"OpenMetrics \uC124\uCE58 \uAC00\uC774\uB4DC\uC785\uB2C8\uB2E4.",toc_max_heading_level:4,keywords:["OpenMetrics \uC124\uCE58"],isTranslationMissing:!1},l=void 0,a={},d=[{value:"\uC624\uD508\uC5D0\uC774\uC804\uD2B8 \uBC14\uC774\uB108\uB9AC \uC2E4\uD589 \uD30C\uC77C \uC124\uCE58",id:"\uC624\uD508\uC5D0\uC774\uC804\uD2B8-\uBC14\uC774\uB108\uB9AC-\uC2E4\uD589-\uD30C\uC77C-\uC124\uCE58",level:2},{value:"StaticEndpoints \uC124\uC815 \uC694\uC18C",id:"staticendpoints-\uC124\uC815-\uC694\uC18C",level:3},{value:"params \uAE30\uB2A5 \uC124\uC815",id:"params-\uAE30\uB2A5-\uC124\uC815",level:3},{value:"\uC608\uC81C",id:"\uC608\uC81C",level:3},{value:"\uBA54\uD2B8\uB9AD \uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815 (metricRelabelConfigs)",id:"\uBA54\uD2B8\uB9AD-\uC7AC\uB77C\uBCA8\uB9C1-\uC124\uC815-metricrelabelconfigs",level:2},{value:"\uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815 \uD56D\uBAA9",id:"\uC7AC\uB77C\uBCA8\uB9C1-\uC124\uC815-\uD56D\uBAA9",level:3},{value:"\uC9C0\uC6D0 \uC791\uC5C5 \uC720\uD615(action)",id:"\uC9C0\uC6D0-\uC791\uC5C5-\uC720\uD615action",level:3},{value:"\uD2B9\uC218 \uB808\uC774\uBE14",id:"\uD2B9\uC218-\uB808\uC774\uBE14",level:3},{value:"\uC608\uC81C 1. \uBAA8\uB4E0 \uBA54\uD2B8\uB9AD \uC218\uC9D1",id:"\uC608\uC81C-1-\uBAA8\uB4E0-\uBA54\uD2B8\uB9AD-\uC218\uC9D1",level:3},{value:"\uC608\uC81C 2. \uD2B9\uC815 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0",id:"\uC608\uC81C-2-\uD2B9\uC815-\uBA54\uD2B8\uB9AD\uB9CC-\uC720\uC9C0",level:3},{value:"\uC608\uC81C 3. \uC815\uADDC\uC2DD\uC744 \uC0AC\uC6A9\uD55C \uBA54\uD2B8\uB9AD \uD544\uD130\uB9C1",id:"\uC608\uC81C-3-\uC815\uADDC\uC2DD\uC744-\uC0AC\uC6A9\uD55C-\uBA54\uD2B8\uB9AD-\uD544\uD130\uB9C1",level:3},{value:"\uC608\uC81C 4. \uB808\uC774\uBE14 \uC774\uB984 \uBCC0\uACBD",id:"\uC608\uC81C-4-\uB808\uC774\uBE14-\uC774\uB984-\uBCC0\uACBD",level:3},{value:"\uC608\uC81C 5. \uC5EC\uB7EC \uC18C\uC2A4 \uB808\uC774\uBE14 \uC870\uD569",id:"\uC608\uC81C-5-\uC5EC\uB7EC-\uC18C\uC2A4-\uB808\uC774\uBE14-\uC870\uD569",level:3},{value:"\uC608\uC81C 6. \uC815\uC801 \uB808\uC774\uBE14 \uCD94\uAC00",id:"\uC608\uC81C-6-\uC815\uC801-\uB808\uC774\uBE14-\uCD94\uAC00",level:3},{value:"\uC608\uC81C. \uC885\uD569\uC801\uC778 \uB3D9\uC791",id:"\uC608\uC81C-\uC885\uD569\uC801\uC778-\uB3D9\uC791",level:3}];function o(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Kubernetes \uD658\uACBD\uC5D0\uC11C \uC124\uCE58\uD558\uB824\uBA74 ",(0,t.jsx)(n.a,{href:"https://docs.whatap.io/kubernetes/openagent",children:"\uC624\uD508\uC5D0\uC774\uC804\uD2B8 \uAD6C\uC131"})," \uBB38\uC11C\uB97C \uCC38\uACE0\uD558\uC138\uC694."]})}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"\uC624\uD508\uC5D0\uC774\uC804\uD2B8-\uBC14\uC774\uB108\uB9AC-\uC2E4\uD589-\uD30C\uC77C-\uC124\uCE58",children:"\uC624\uD508\uC5D0\uC774\uC804\uD2B8 \uBC14\uC774\uB108\uB9AC \uC2E4\uD589 \uD30C\uC77C \uC124\uCE58"}),(0,t.jsx)(n.p,{children:"\uBAA8\uB4E0 \uD30C\uC77C\uC740 \uD558\uB098\uC758 \uB514\uB809\uD1A0\uB9AC\uC5D0 \uC704\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"## \uC608\uC2DC\n/opt/whatap/openagent/\n\u251C\u2500\u2500 openagent          # \uC2E4\uD589 \uD30C\uC77C\n\u251C\u2500\u2500 whatap.conf        # \uC124\uC815 \uD30C\uC77C\n\u2514\u2500\u2500 scrape_config.yaml # \uC2A4\uD06C\uB798\uD551 \uC124\uC815 \uD30C\uC77C\n"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB514\uB809\uD1A0\uB9AC \uC774\uB3D9 \uBC0F \uC2E4\uD589 \uD30C\uC77C \uB2E4\uC6B4\uB85C\uB4DC"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir -p /opt/whatap/openagent\ncd /opt/whatap/openagent\n\n## AMD64 (Intel/AMD 64\uBE44\uD2B8 \uD504\uB85C\uC138\uC11C)\nwget https://repo.whatap.io/openagent/latest/amd/openagent\n\n## ARM64 (Linux \uD658\uACBD\uC758 ARM \uD504\uB85C\uC138\uC11C)\n## \u26A0\uFE0F macOS Apple Silicon \uBBF8\uC9C0\uC6D0\nwget https://repo.whatap.io/openagent/latest/arm/openagent\n"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uC2E4\uD589 \uAD8C\uD55C \uC124\uC815"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"chmod +x openagent\n"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uC124\uC815 \uD30C\uC77C \uC0DD\uC131(whatap.conf)"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# \uC2E4\uC81C \uAC12\uC73C\uB85C \uAD50\uCCB4\uD574\uC11C \uC785\uB825\uD558\uC138\uC694\necho "WHATAP_LICENSE=your-whatap-license" >> whatap.conf\necho "WHATAP_HOST=your-whatap-host" >> whatap.conf  \necho "WHATAP_PORT=your-whatap-port" >> whatap.conf\n\n# \uB514\uBC84\uADF8\uC2DC\n# echo "debug=true" >> whatap.conf\n# echo "log_level=debug" >> whatap.conf\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uC2A4\uD06C\uB798\uD551 \uC124\uC815 \uD30C\uC77C \uC0DD\uC131(scrape_config.yaml)"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"scrape_config.yaml"})," \uD30C\uC77C\uC744 \uC218\uC815\uD558\uBA74 OpenAgent\uAC00 \uC790\uB3D9\uC73C\uB85C \uBCC0\uACBD \uC0AC\uD56D\uC744 \uAC10\uC9C0\uD558\uACE0 \uC124\uC815\uC744 \uC7AC\uB85C\uB4DC\uD569\uB2C8\uB2E4. \uBCC4\uB3C4\uC758 \uC7AC\uC2DC\uC791\uC774 \uD544\uC694\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'#scrape_config.yaml\nfeatures:\n  openAgent:\n    enabled: true\n    targets:\n     - targetName: dcgm-exporter\n       type: StaticEndpoints\n       # Target is enabled by default (enabled: true), this can be omitted\n       enabled: true\n       endpoints:\n         - address: "192.168.49.2:30400"\n           path: "/metrics"\n           scheme: "http"\n           interval: "30s"\n           metricRelabelConfigs:\n             - source_labels: [ __name__ ]\n               regex: "DCGM.*"\n               action: keep\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uAE30\uBCF8 \uC2E4\uD589"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./openagent standalone\n"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uBC31\uADF8\uB77C\uC6B4\uB4DC \uC2E4\uD589"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"nohup ./openagent standalone > openagent.log 2>&1 &\n"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB85C\uADF8 \uD655\uC778"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"tail -f openagent.log\n"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uD504\uB85C\uC138\uC2A4 \uAD00\uB9AC"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \uD504\uB85C\uC138\uC2A4 \uD655\uC778\nps aux | grep openagent\n\n# \uD504\uB85C\uC138\uC2A4 \uC885\uB8CC\npkill openagent\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"staticendpoints-\uC124\uC815-\uC694\uC18C",children:"StaticEndpoints \uC124\uC815 \uC694\uC18C"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"targetName"}),": \uD0C0\uAC9F \uC2DD\uBCC4\uC790"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"type"}),': \uD0C0\uAC9F \uC720\uD615 ("StaticEndpoints")']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"endpoints"}),": \uC218\uC9D1 \uB300\uC0C1"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"address"}),": IP",":PORT"," \uB610\uB294 HOSTNAME",":PORT"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"path"}),": \uBA54\uD2B8\uB9AD \uACBD\uB85C (\uAE30\uBCF8\uAC12: /metrics)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"scheme"}),": \uD504\uB85C\uD1A0\uCF5C (http \uB610\uB294 https, \uAE30\uBCF8\uAC12: http)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"interval"}),": \uC218\uC9D1 \uC8FC\uAE30 (\uAE30\uBCF8\uAC12: 60s)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"metricRelabelConfigs"}),": \uBA54\uD2B8\uB9AD \uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"params-\uAE30\uB2A5-\uC124\uC815",children:"params \uAE30\uB2A5 \uC124\uC815"}),(0,t.jsx)(n.p,{children:"OpenAgent\uC5D0\xa0params\xa0\uAE30\uB2A5\uC744 \uC0AC\uC6A9\uD558\uBA74 HTTP \uC2A4\uD06C\uB798\uD551 \uC2DC URL\uC5D0 \uCFFC\uB9AC \uD30C\uB77C\uBBF8\uD130\uB97C \uCD94\uAC00\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. Azure Monitor Exporter \uB4F1 \uC678\uBD80 \uC11C\uBE44\uC2A4 \uC5F0\uB3D9 \uC2DC \uC720\uC6A9\uD569\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'endpoints:\n  - address: "192.168.49.2:30400"\n    path: "/metrics"\n    scheme: "http"\n    interval: "30s"\n    params:\n      subscription: ["50d91b57-a280-45b5-8d7c-be8005662738"]\n      resourceGroup: ["WhaTap-Data-KR-MID"]\n      target: ["/subscriptions/50d91b57-a280-45b5-8d7c-be8005662738/resourceGroups/WhaTap-Data-KR-MID/providers/Microsoft.Sql/managedInstances/openmetrics-instance-01"]\n      metric: ["avg_cpu_percent,virtual_core_count,memory_usage_percent"]\n      interval: ["PT1M"]\n      aggregation: ["average"]\n'})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uC9C0\uC6D0\uB418\uB294 \uD30C\uB77C\uBBF8\uD130 \uAC12 \uD0C0\uC785"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\uBB38\uC790\uC5F4"}),": \uB2E8\uC77C \uAC12"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\uBB38\uC790\uC5F4 \uBC30\uC5F4"}),": \uC5EC\uB7EC \uAC12\uC744 \uCF64\uB9C8\uB85C \uC5F0\uACB0"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\uAE30\uD0C0 \uD0C0\uC785"}),": \uC790\uB3D9\uC73C\uB85C \uBB38\uC790\uC5F4\uB85C \uBCC0\uD658"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC608\uC81C",children:"\uC608\uC81C"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="\uC608\uC81C. Azure Monitor \uC2A4\uD0C0\uC77C"',children:'params:\n  subscription: ["50d91b57-a280-45b5-8d7c-be8005662738"]\n  target: ["/subscriptions/50d91b57-a280-45b5-8d7c-be8005662738/resourceGroups/MyRG/providers/Microsoft.Compute/virtualMachines/vm1"]\n  metric: ["Percentage CPU,Available Memory Bytes"]\n  interval: ["PT5M"]\n  aggregation: ["average,maximum"]\n'})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="\uC608\uC81C. \uB2E8\uC21C \uD30C\uB77C\uBBF8\uD130"',children:'params:\n  format: "prometheus"\n  version: "v1"\n  debug: true\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"\uBA54\uD2B8\uB9AD-\uC7AC\uB77C\uBCA8\uB9C1-\uC124\uC815-metricrelabelconfigs",children:"\uBA54\uD2B8\uB9AD \uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815 (metricRelabelConfigs)"}),(0,t.jsxs)(n.p,{children:["OpenAgent\uB294 \uD504\uB85C\uBA54\uD14C\uC6B0\uC2A4\uC758 ",(0,t.jsx)(n.code,{children:"metric_relabel_configs"}),"\uC640 \uC720\uC0AC\uD55C \uBA54\uD2B8\uB9AD \uC7AC\uB77C\uBCA8\uB9C1 \uAE30\uB2A5\uC744 \uC81C\uACF5\uD558\uBA70, \uC2A4\uD06C\uB798\uD551 \uD6C4 \uBA54\uD2B8\uB9AD\uC744 \uD544\uD130\uB9C1\uD558\uAC70\uB098 \uB808\uC774\uBE14\uC744 \uBCC0\uACBD\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC7AC\uB77C\uBCA8\uB9C1-\uC124\uC815-\uD56D\uBAA9",children:"\uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815 \uD56D\uBAA9"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"source_labels"}),": \uC18C\uC2A4 \uB808\uC774\uBE14 \uBAA9\uB85D(\uBC30\uC5F4)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"separator"}),": \uC18C\uC2A4 \uB808\uC774\uBE14 \uAC12\uC744 \uC5F0\uACB0\uD560 \uB54C \uC0AC\uC6A9\uD560 \uAD6C\uBD84\uC790(\uAE30\uBCF8\uAC12:\xa0",(0,t.jsx)(n.code,{children:";"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"target_label"}),": \uB300\uC0C1 \uB808\uC774\uBE14(\uACB0\uACFC\uB97C \uC800\uC7A5\uD560 \uB808\uC774\uBE14)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"regex"}),": \uC18C\uC2A4 \uB808\uC774\uBE14 \uAC12\uC5D0 \uC801\uC6A9\uD560 \uC815\uADDC\uC2DD"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"replacement"}),": \uB300\uCCB4 \uAC12(\uC815\uADDC\uC2DD \uCEA1\uCC98 \uADF8\uB8F9 \uCC38\uC870 \uAC00\uB2A5, \uC608:\xa0",(0,t.jsx)(n.code,{children:"${1}"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"action"}),": \uC218\uD589\uD560 \uC791\uC5C5(keep, drop, replace)"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC9C0\uC6D0-\uC791\uC5C5-\uC720\uD615action",children:"\uC9C0\uC6D0 \uC791\uC5C5 \uC720\uD615(action)"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"keep"}),": \uC815\uADDC\uC2DD\uACFC \uC77C\uCE58\uD558\uB294 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"drop"}),": \uC815\uADDC\uC2DD\uACFC \uC77C\uCE58\uD558\uB294 \uBA54\uD2B8\uB9AD \uC81C\uAC70"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"replace"}),": \uB300\uC0C1 \uB808\uC774\uBE14\uC758 \uAC12\uC744 \uB300\uCCB4 \uAC12\uC73C\uB85C \uBCC0\uACBD"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uD2B9\uC218-\uB808\uC774\uBE14",children:"\uD2B9\uC218 \uB808\uC774\uBE14"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"name"}),": \uBA54\uD2B8\uB9AD \uC774\uB984\uC744 \uB098\uD0C0\uB0B4\uB294 \uD2B9\uC218 \uB808\uC774\uBE14"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC608\uC81C-1-\uBAA8\uB4E0-\uBA54\uD2B8\uB9AD-\uC218\uC9D1",children:"\uC608\uC81C 1. \uBAA8\uB4E0 \uBA54\uD2B8\uB9AD \uC218\uC9D1"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - source_labels: [__name__]\n    regex: ".*"\n    action: keep\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC608\uC81C-2-\uD2B9\uC815-\uBA54\uD2B8\uB9AD\uB9CC-\uC720\uC9C0",children:"\uC608\uC81C 2. \uD2B9\uC815 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0"}),(0,t.jsxs)(n.p,{children:["\uC774 \uC124\uC815\uC740\xa0",(0,t.jsx)(n.code,{children:"http_requests_total"}),"\xa0\uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uD558\uACE0 \uB098\uBA38\uC9C0\uB294 \uBAA8\uB450 \uC81C\uAC70\uD569\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - source_labels: [__name__]\n    regex: "http_requests_total"\n    action: keep\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB3D9\uC791 \uC608\uC2DC"})}),(0,t.jsx)(n.p,{children:"\uB2E4\uC74C\uACFC \uAC19\uC740 \uBA54\uD2B8\uB9AD\uC774 \uC218\uC9D1\uB418\uC5C8\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", status="200"} 100\nhttp_errors_total{method="GET", status="500"} 5\nnode_cpu_seconds_total{cpu="0", mode="idle"} 1000\n'})}),(0,t.jsxs)(n.p,{children:["\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74 ",(0,t.jsx)(n.code,{children:"http_requests_total"}),"\xa0\uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uB418\uACE0 \uB2E4\uB978 \uBA54\uD2B8\uB9AD\uB4E4\uC740 \uBAA8\uB450 \uC81C\uAC70\uB429\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", status="200"} 100\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC608\uC81C-3-\uC815\uADDC\uC2DD\uC744-\uC0AC\uC6A9\uD55C-\uBA54\uD2B8\uB9AD-\uD544\uD130\uB9C1",children:"\uC608\uC81C 3. \uC815\uADDC\uC2DD\uC744 \uC0AC\uC6A9\uD55C \uBA54\uD2B8\uB9AD \uD544\uD130\uB9C1"}),(0,t.jsxs)(n.p,{children:["\uC774 \uC124\uC815\uC740\xa0",(0,t.jsx)(n.code,{children:"node_cpu"}),"\uB098\xa0",(0,t.jsx)(n.code,{children:"node_memory"}),"\uB85C \uC2DC\uC791\uD558\uB294 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uD569\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - source_labels: [__name__]\n    regex: "node_(cpu|memory).*"\n    action: keep\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB3D9\uC791 \uC608\uC2DC"})}),(0,t.jsx)(n.p,{children:"\uB2E4\uC74C\uACFC \uAC19\uC740 \uBA54\uD2B8\uB9AD\uC774 \uC218\uC9D1\uB418\uC5C8\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'node_cpu_seconds_total{cpu="0", mode="idle"} 1000\nnode_memory_MemTotal_bytes{} 16777216\nnode_disk_io_time_seconds_total{device="sda"} 100\nhttp_requests_total{method="GET", status="200"} 100\n'})}),(0,t.jsxs)(n.p,{children:["\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74, ",(0,t.jsx)(n.code,{children:"node_cpu"}),"\uB098\xa0",(0,t.jsx)(n.code,{children:"node_memory"}),"\uB85C \uC2DC\uC791\uD558\uB294 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uB418\uACE0 \uB2E4\uB978 \uBA54\uD2B8\uB9AD\uB4E4\uC740 \uBAA8\uB450 \uC81C\uAC70\uB429\uB2C8\uB2E4.\xa0\uC815\uADDC\uC2DD\uC744 \uC0AC\uC6A9\uD558\uC5EC \uC5EC\uB7EC \uBA54\uD2B8\uB9AD \uD328\uD134\uC744 \uD55C \uBC88\uC5D0 \uD544\uD130\uB9C1\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'node_cpu_seconds_total{cpu="0", mode="idle"} 1000\nnode_memory_MemTotal_bytes{} 16777216\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC608\uC81C-4-\uB808\uC774\uBE14-\uC774\uB984-\uBCC0\uACBD",children:"\uC608\uC81C 4. \uB808\uC774\uBE14 \uC774\uB984 \uBCC0\uACBD"}),(0,t.jsxs)(n.p,{children:["\uC774 \uC124\uC815\uC740\xa0",(0,t.jsx)(n.code,{children:"method"}),"\xa0\uB808\uC774\uBE14\uC758 \uAC12\uC744\xa0",(0,t.jsx)(n.code,{children:"http_method"}),"\xa0\uB808\uC774\uBE14\uB85C \uBCF5\uC0AC\uD569\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - source_labels: [method]\n    target_label: http_method\n    replacement: "${1}"\n    action: replace\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB3D9\uC791 \uC608\uC2DC"})}),(0,t.jsx)(n.p,{children:"\uB2E4\uC74C\uACFC \uAC19\uC740 \uBA54\uD2B8\uB9AD\uC774 \uC218\uC9D1\uB418\uC5C8\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200"} 100\nhttp_requests_total{method="POST", path="/api/users", status="201"} 50\n'})}),(0,t.jsxs)(n.p,{children:["\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74, \uAC01 \uBA54\uD2B8\uB9AD\uC5D0\xa0",(0,t.jsx)(n.code,{children:"method"}),"\xa0\uB808\uC774\uBE14\uC758 \uAC12\uC744 \uBCF5\uC0AC\uD55C\xa0",(0,t.jsx)(n.code,{children:"http_method"}),"\xa0\uB808\uC774\uBE14\uC774 \uCD94\uAC00\uB429\uB2C8\uB2E4.\xa0\uC6D0\uB798 \uB808\uC774\uBE14\uC740 \uC720\uC9C0\uB418\uBA70\xa0\uC0C8 \uB808\uC774\uBE14\uC774 \uCD94\uAC00\uB429\uB2C8\uB2E4.\xa0",(0,t.jsx)(n.code,{children:"${1}"}),"\uC740 \uC18C\uC2A4 \uB808\uC774\uBE14\uC758 \uAC12\uC744 \uCC38\uC870\uD569\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200", http_method="GET"} 100\nhttp_requests_total{method="POST", path="/api/users", status="201", http_method="POST"} 50\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC608\uC81C-5-\uC5EC\uB7EC-\uC18C\uC2A4-\uB808\uC774\uBE14-\uC870\uD569",children:"\uC608\uC81C 5. \uC5EC\uB7EC \uC18C\uC2A4 \uB808\uC774\uBE14 \uC870\uD569"}),(0,t.jsxs)(n.p,{children:["\uC774 \uC124\uC815\uC740\xa0",(0,t.jsx)(n.code,{children:"http_requests_total"}),"\xa0\uBA54\uD2B8\uB9AD \uC911\xa0",(0,t.jsx)(n.code,{children:"status"}),"\xa0\uB808\uC774\uBE14\uC774\xa0",(0,t.jsx)(n.code,{children:"200"}),"\xa0\uB610\uB294\xa0",(0,t.jsx)(n.code,{children:"500"}),"\uC778 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uD569\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - source_labels: [__name__, status]\n    regex: "http_requests_total;(200|500)"\n    action: keep\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB3D9\uC791 \uC608\uC2DC"})}),(0,t.jsx)(n.p,{children:"\uB2E4\uC74C\uACFC \uAC19\uC740 \uBA54\uD2B8\uB9AD\uC774 \uC218\uC9D1\uB418\uC5C8\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200"} 100\nhttp_requests_total{method="POST", path="/api/users", status="201"} 50\nhttp_requests_total{method="GET", path="/api/error", status="500"} 10\nhttp_requests_total{method="GET", path="/api/error", status="404"} 5\n'})}),(0,t.jsxs)(n.p,{children:["\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74, ",(0,t.jsx)(n.code,{children:"http_requests_total"}),"\xa0\uBA54\uD2B8\uB9AD \uC911\uC5D0\uC11C\xa0",(0,t.jsx)(n.code,{children:"status"}),"\xa0\uB808\uC774\uBE14\uC774\xa0",(0,t.jsx)(n.code,{children:"200"}),"\xa0\uB610\uB294\xa0",(0,t.jsx)(n.code,{children:"500"}),"\uC778 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uB429\uB2C8\uB2E4.\xa0\uC5EC\uB7EC \uC18C\uC2A4 \uB808\uC774\uBE14\uC744 \uC870\uD569\uD560 \uB54C\uB294 \uAE30\uBCF8\uC801\uC73C\uB85C\xa0",(0,t.jsx)(n.code,{children:";"}),"\xa0\uAD6C\uBD84\uC790\uB85C \uC5F0\uACB0\uB418\uBA70,\xa0\uC774\uB97C\xa0",(0,t.jsx)(n.code,{children:"separator"}),"\xa0\uD544\uB4DC\uB85C \uBCC0\uACBD\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200"} 100\nhttp_requests_total{method="GET", path="/api/error", status="500"} 10\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC608\uC81C-6-\uC815\uC801-\uB808\uC774\uBE14-\uCD94\uAC00",children:"\uC608\uC81C 6. \uC815\uC801 \uB808\uC774\uBE14 \uCD94\uAC00"}),(0,t.jsxs)(n.p,{children:["\uC774 \uC124\uC815\uC740 \uBAA8\uB4E0 \uBA54\uD2B8\uB9AD\uC5D0\xa0",(0,t.jsx)(n.code,{children:'metric_src="whatap-open-agent"'}),"\xa0\uB808\uC774\uBE14\uC744 \uCD94\uAC00\uD569\uB2C8\uB2E4.\xa0\uC18C\uC2A4 \uB808\uC774\uBE14\uC744 \uC9C0\uC815\uD558\uC9C0 \uC54A\uC73C\uBA74\xa0",(0,t.jsx)(n.code,{children:"replacement"}),"\xa0\uAC12\uC774 \uC9C1\uC811 \uB808\uC774\uBE14 \uAC12\uC73C\uB85C \uC0AC\uC6A9\uB429\uB2C8\uB2E4.\xa0\uC774 \uBC29\uBC95\uC744 \uC0AC\uC6A9\uD558\uC5EC \uBAA8\uB4E0 \uBA54\uD2B8\uB9AD\uC5D0 \uD658\uACBD,\xa0\uB9AC\uC804,\xa0\uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uC774\uB984 \uB4F1\uC758 \uC815\uC801 \uB808\uC774\uBE14\uC744 \uCD94\uAC00\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - target_label: metric_src\n    replacement: "whatap-open-agent"\n    action: replace\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB3D9\uC791 \uC608\uC2DC"})}),(0,t.jsx)(n.p,{children:"\uB2E4\uC74C\uACFC \uAC19\uC740 \uBA54\uD2B8\uB9AD\uC774 \uC218\uC9D1\uB418\uC5C8\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200"} 100\nnode_cpu_seconds_total{cpu="0", mode="idle"} 1000\n'})}),(0,t.jsxs)(n.p,{children:["\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74, \uBAA8\uB4E0 \uBA54\uD2B8\uB9AD\uC5D0\xa0",(0,t.jsx)(n.code,{children:'metric_src="whatap-open-agent"'}),"\xa0\uB808\uC774\uBE14\uC774 \uCD94\uAC00\uB429\uB2C8\uB2E4.\xa0\uC774 \uBC29\uBC95\uC740 \uBA54\uD2B8\uB9AD\uC758 \uCD9C\uCC98\uB97C \uD45C\uC2DC\uD558\uAC70\uB098,\xa0\uD658\uACBD(\uC608:\xa0production,\xa0staging),\xa0\uB9AC\uC804(\uC608:\xa0us-east,\xa0eu-west), \uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uC774\uB984 \uB4F1\uC744 \uD45C\uC2DC\uD558\uB294 \uB370 \uC720\uC6A9\uD569\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200", metric_src="whatap-open-agent"} 100\nnode_cpu_seconds_total{cpu="0", mode="idle", metric_src="whatap-open-agent"} 1000\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC608\uC81C-\uC885\uD569\uC801\uC778-\uB3D9\uC791",children:"\uC608\uC81C. \uC885\uD569\uC801\uC778 \uB3D9\uC791"}),(0,t.jsx)(n.p,{children:"\uB2E4\uC74C\uACFC \uAC19\uC740 \uBA54\uD2B8\uB9AD\uC774 \uC218\uC9D1\uB418\uC5C8\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'apiserver_request_total{code="200", resource="pods", verb="GET"} 100\nsome_other_metric{label="value"} 50\n'})}),(0,t.jsx)(n.p,{children:"\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74 \uCD5C\uC885\uC801\uC73C\uB85C \uC218\uC9D1\uB418\uB294 \uBA54\uD2B8\uB9AD\uC740 \uB2E4\uC74C\uACFC \uAC19\uC2B5\uB2C8\uB2E4."}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["\uCCAB \uBC88\uC9F8 \uB8F0(",(0,t.jsx)(n.code,{children:"keep apiserver_request_total"}),") \uC801\uC6A9"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"apiserver_request_total"})," \uBA54\uD2B8\uB9AD\uC740 \uC720\uC9C0\uB429\uB2C8\uB2E4."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"some_other_metric"})," \uBA54\uD2B8\uB9AD\uC740 \uB4DC\uB86D\uB429\uB2C8\uB2E4."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["\uB450 \uBC88\uC9F8 \uB8F0(",(0,t.jsx)(n.code,{children:"replace verb"})," \u2192 ",(0,t.jsx)(n.code,{children:"http_verb"}),") \uC801\uC6A9"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\uC720\uC9C0\uB41C ",(0,t.jsx)(n.code,{children:"apiserver_request_total"})," \uBA54\uD2B8\uB9AD\uC5D0 verb \uB808\uC774\uBE14\uC774 \uC788\uC73C\uBBC0\uB85C, \uC774 \uB808\uC774\uBE14\uC758 \uAC12(GET)\uC774 ",(0,t.jsx)(n.code,{children:"http_verb"}),"\uB77C\uB294 \uC0C8\uB85C\uC6B4 \uB808\uC774\uBE14\uB85C \uBCF5\uC0AC\uB429\uB2C8\uB2E4."]}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'apiserver_request_total{code="200", resource="pods", verb="GET", http_verb="GET"} 100\n'})})]})]})}function h(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},50065:function(e,n,s){s.d(n,{Z:function(){return l},a:function(){return i}});var r=s(67294);let t={},c=r.createContext(t);function i(e){let n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);