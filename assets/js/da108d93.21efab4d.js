"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["7830"],{7472:function(e,n,i){i.r(n),i.d(n,{metadata:()=>s,default:()=>w,frontMatter:()=>u,contentTitle:()=>P,toc:()=>f,assets:()=>g});var s=JSON.parse('{"id":"php/agent-troubleshooting","title":"Troubleshooting","description":"You can check the problems that may occur during PHP agent installation.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/php/agent-troubleshooting.mdx","sourceDirName":"php","slug":"/php/agent-troubleshooting","permalink":"/whatap-docs/php/agent-troubleshooting","draft":false,"unlisted":false,"editUrl":"undefined/docs/php/agent-troubleshooting.mdx","tags":[],"version":"current","frontMatter":{"id":"agent-troubleshooting","title":"Troubleshooting","description":"You can check the problems that may occur during PHP agent installation.","toc_max_heading_level":2,"keywords":["PHP","PHP Monitoring","Application","Application Monitoring","Troubleshooting"],"isTranslationMissing":false},"sidebar":"phpSidebar","previous":{"title":"\uC124\uCE58 \uC810\uAC80","permalink":"/whatap-docs/php/install-check"},"next":{"title":"PHP agent configuration","permalink":"/whatap-docs/php/set-agent"}}'),t=i(74848),r=i(84429);function a(e){let n={code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"extension-modul-manual-setting",children:"Manual configuration of PHP extension module and whatap-php service"}),(0,t.jsxs)(n.p,{children:["If installation of the PHP extension module and whatap-php service (",(0,t.jsx)(n.em,{children:"install.sh"}),") has not been successful, you can install them manually. Use this method when environment information cannot be checked for any reasons such as PHP compile installation."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"creation-of-whatapini",children:"Creation of whatap.ini"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ cp /usr/whatap/php/template.ini /usr/whatap/php/whatap.ini\n$ vi /usr/whatap/php/whatap.ini\n\n# Add this content at the top\n; Enable whatap extension module\nextension=whatap.so\nwhatap.license=            # Issued access key\nwhatap.server.host=        # Issued server IP\nwhatap.app_name=           # Web server classification: APHP, FPHP (apache: APHP, php-fpm : FPHP)\nwhatap.app_process_name=   # Process name of apache and php-fpm (httpd,php-fpm)\n"})}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Configuration"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"whatap.license"}),(0,t.jsxs)(n.td,{children:["The access key issued from ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Project Menu"})})," > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Management"})})," > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Agent Installation"})})," can be checked."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"whatap.server.host"}),(0,t.jsxs)(n.td,{children:["You can see the server IP issued from ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Project Menu"})})," > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Management"})})," > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Agent Installation"})}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"whatap.app_name"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"APHP"})," is used for the Apache server and ",(0,t.jsx)(n.code,{children:"FPHP"})," is used for php-fpm."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"whatap.app_process_name"}),(0,t.jsxs)(n.td,{children:["If you enter the exact value as the execution process name of Apache or php-fpm, the memory usage for the process is collected. For example, they are ",(0,t.jsx)(n.code,{children:"httpd"}),", ",(0,t.jsx)(n.code,{children:"apache2"}),", ",(0,t.jsx)(n.code,{children:"php-fpm"}),", and such."]})]})]})]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"check-php-cli-path",children:"Checking the PHP command (CLI)"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ which php\n\n/usr/bin/php\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"configuring-the-environment-variables-for-the-whatap-php-service",children:"Configuring the environment variables for the whatap-php service"}),(0,t.jsxs)(n.p,{children:["Set the PHP CLI command's path in the ",(0,t.jsx)(n.code,{children:"$WHATAP_PHP_BIN"})," environment variable."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo vi /etc/init.d/whatap-php\n\nexport WHATAP_PHP_BIN=    # PHP command's location (/usr/bin/php)\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"checking-the-php-api-version",children:"Checking the PHP API version"}),(0,t.jsxs)(n.p,{children:["Set the PHP CLI command's path in the ",(0,t.jsx)(n.code,{children:"$WHATAP_PHP_BIN"})," environment variable."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo php -i | grep 'PHP API'\n\nPHP API => 20100412\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"checking-whether-php-zts-zend-thread-safe-is-available",children:"Checking whether PHP ZTS (Zend Thread Safe) is available"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:"title=apache",children:"$ sudo apachectl -V | grep MPM\n\nServer MPM: Prefork      # ZTS unavailable\nServer MPM: Worker       # ZTS available\n"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:"title=PHP-FPM",children:"$ sudo php-fpm -i | grep Thread\n\nThread Safety => disabled       # ZTS unavailable\nThread Safety => enabled       	# ZTS available\n"})})]}),"\n",(0,t.jsx)(n.section,{className:"remark-sectionize-h3",children:(0,t.jsx)(n.h3,{id:"checking-and-configuring-the-php-extension-modules-path",children:"Checking and configuring the PHP extension module's path"})}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"check-php-extension-module",children:"Checking the PHP extension module's path"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo php -i | grep extension_dir\n\nextension_dir => /usr/lib64/php/modules => /usr/lib64/php/modules\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"configuring-the-php-extension-module",children:"Configuring the PHP extension module"}),(0,t.jsxs)(n.p,{children:["After checking the PHP API version and PHP ZTS's availability, select a library that meets the environment. In the PHP extension module's path, copy the ",(0,t.jsx)(n.em,{children:"whatap.so"})," file name."]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["In case PHP ZTS is available - ",(0,t.jsx)(n.em,{children:"whatap_zts_[PHP API version].so"})]}),"\n",(0,t.jsxs)(n.li,{children:["In case PHP ZTS is unavailable - ",(0,t.jsx)(n.em,{children:"whatap_[PHP API version].so"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Example in case the PHP ZTS is not supported\n$ sudo cp /usr/whatap/php/modules/x64/whatap_20100412.so /usr/lib64/php/modules/whatap.so\n"})}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"configuring-the-environment-variables-for-the-whatap-php-service-1",children:"Configuring the environment variables for the whatap-php service"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo vi /etc/init.d/whatap-php\n\nexport WHATAP_PHP_EXT_HOME=   # PHP extension path (/usr/lib64/php/modules)\nexport WHATAP_PHP_EXT_SRC=    # whatap library path and file name\n                              # (/usr/whatap/php/modules/x64/whatap_20100412.so)]\n"})}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.code,{children:"$WHATAP_PHP_EXT_HOME"})," environment variable, set the PHP extension module's path."]}),"\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.code,{children:"$WHATAP_PHP_EXT_SRC"})," environment variable, set the whatap library's full file path."]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"php-ini-path",children:"whatap.ini configuration"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Check the PHP ini file's path that has been added."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo php -i | grep '.ini files'\n\nScan this dir for additional .ini files => /etc/php.d\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Copy ",(0,t.jsx)(n.em,{children:"whatap.ini"})," and paste it to the path."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo cp /usr/whatap/php/whatap.ini /etc/php.d/whtap/ini\n"})}),"\n"]}),"\n"]})]})]})}function l(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}function h(e){let n={a:"a",br:"br",code:"code",em:"em",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"unable-to-detect-additional-php-ini-scan-directory",children:"Unable to Detect Additional PHP ini Scan Directory"}),(0,t.jsxs)(n.p,{children:["If PHP was compiled without the ",(0,t.jsx)(n.code,{children:"--with-config-file-scan-dir=PATH"})," option, the additional ini scan directory will not be detected, resulting in missing configuration loading."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"how-to-check",children:"How to Check"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Linux/FreeBSD"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo php -i | grep '.ini files'\n\nScan this dir for additional .ini files => (none)\n"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Windows"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:"php --ini\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"how-to-fix",children:"How to Fix"}),(0,t.jsxs)(n.p,{children:["Append the contents of ",(0,t.jsx)(n.em,{children:"whatap.ini"})," to the end of the ",(0,t.jsx)(n.em,{children:"php.ini"})," file."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,t.jsx)(n.h5,{id:"linux",children:"Linux"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ php -i | grep 'php.ini'\n\nLoaded Configuration File => /etc/php.ini\n\n$ sudo vi php.ini\n\n# Add at the end of the file\n[whatap]\n;Enable whatap extension module\nextension=whatap.so\nwhatap.ext.error_enabled=true\nwhatap.ext.exception_enabled=true\nwhatap.trace_user_enabled=true\nwhatap.trace_user_using_ip=false\n"})}),(0,t.jsxs)(n.p,{children:["For all other options, refer to ",(0,t.jsx)(n.em,{children:"/usr/whatap/php/whatap.ini"}),"."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,t.jsx)(n.h5,{id:"windows",children:"Windows"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Append whatap.ini content to php.ini\ntype "C:\\Program Files\\WhaTap\\PHP\\template.ini" >> C:\\PHP\\php.ini\n\nREM Or edit manually\nnotepad C:\\PHP\\php.ini\n'})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Content to append to php.ini (Windows example)"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[whatap]\nextension=php_whatap.dll\n\n# For additional whatap.ini settings, see C:\\Program Files\\WhaTap\\PHP\\whatap.ini\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"setting-environment-variable-for-whatap-php-service",children:"Setting Environment Variable for whatap-php Service"}),(0,t.jsxs)(n.p,{children:["Set the ",(0,t.jsx)(n.em,{children:"whatap.ini"})," directory path to the ",(0,t.jsx)(n.code,{children:"$WHATAP_CONFIG_HOME"})," environment variable."]}),(0,t.jsxs)(n.p,{children:["If PHP cannot detect the additional ini scan directory, set the path where you created ",(0,t.jsx)(n.em,{children:"whatap.ini"})," (e.g., ",(0,t.jsx)(n.em,{children:"/usr/whatap/php"}),")."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo vi /etc/init.d/whatap-php\n\nexport WHATAP_CONFIG_HOME=      # Path to whatap.ini (/etc/php.d)\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"restart-services",children:"Restart Services"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Restart Apache and PHP-FPM services"}),"\n",(0,t.jsx)(n.li,{children:"Restart whatap-php service"}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"error-not-found-php-api",children:"Error: Not found PHP API"}),(0,t.jsx)(n.p,{children:"This occurs when the PHP CLI command cannot be located."}),(0,t.jsxs)(n.p,{children:["Verify the correct ",(0,t.jsx)(n.a,{href:"#check-php-cli-path",children:"location of the PHP CLI"}),", then complete the steps in",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"#extension-modul-manual-setting",children:"Manual Installation of PHP Extension Module and whatap-php Service"}),"."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,t.jsx)(n.h5,{id:"linux-1",children:"Linux"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:"title='Check PHP API version'",children:"$ sudo php -i | grep 'PHP API'\n\nPHP API => 20100412\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,t.jsx)(n.h5,{id:"windows-1",children:"Windows"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Check PHP path\nwhere php\n\nREM Add PHP path to environment PATH\nsetx PATH "%PATH%;C:\\PHP"\n\nREM Or add manually via system environment variables\nsysdm.cpl \u2192 Advanced \u2192 Environment Variables \u2192 Edit PATH\n'})})]})]})}function c(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}function d(e){let n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h3:"h3",h4:"h4",h5:"h5",p:"p",pre:"pre",section:"section",strong:"strong",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"php-ini-directory-not-found",children:"PHP ini Directory Not Found"}),(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Error: Not found PHP ini directory"}),"\n"]}),(0,t.jsxs)(n.p,{children:["This issue occurs when PHP cannot detect the value of the ",(0,t.jsx)(n.code,{children:"Scan this dir for additional .ini files"})," field.",(0,t.jsx)(n.br,{}),"\n","If PHP was compiled without the ",(0,t.jsx)(n.code,{children:"--with-config-file-scan-dir=PATH"})," option, this information will not appear."]}),(0,t.jsxs)(n.p,{children:["Check the correct ",(0,t.jsx)(n.a,{href:"#check-php-cli-path",children:"location of the PHP CLI"}),", then proceed with",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"#extension-modul-manual-setting",children:"Manual setup of PHP extension module and whatap-php service"}),"."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"how-to-check",children:"How to Check"}),(0,t.jsx)(n.p,{children:"Use the following commands to verify whether PHP recognizes an additional ini directory."})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,t.jsx)(n.h5,{id:"linuxfreebsd",children:"Linux/FreeBSD"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo php -i | grep '.ini files'\n\nScan this dir for additional .ini files => (none)\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,t.jsx)(n.h5,{id:"windows",children:"Windows"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:"php --ini\n\nConfiguration File (php.ini) Path: /etc/php\nLoaded Configuration File:         /etc/php/php.ini\nScan for additional .ini files in: (none)\nAdditional .ini files parsed:      (none)\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"how-to-fix",children:"How to Fix"}),(0,t.jsxs)(n.p,{children:["If no additional ini directory is configured, merge the ",(0,t.jsx)(n.em,{children:"whatap.ini"})," content directly into ",(0,t.jsx)(n.em,{children:"php.ini"}),"."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,t.jsx)(n.h5,{id:"windows-1",children:"Windows"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Append whatap.ini content to php.ini\ntype "C:\\Program Files\\WhaTap\\PHP\\template.ini" >> C:\\PHP\\php.ini\n\nREM Or edit manually\nnotepad C:\\PHP\\php.ini\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Content to add into php.ini"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[whatap]\nextension=php_whatap.dll\n\n; Refer to C:\\Program Files\\WhaTap\\PHP\\whatap.ini for additional settings\n"})})]})]})}function o(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}function p(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"response-time-heatmap-not-displayed",children:"Response Time Heatmap Not Displayed"}),(0,t.jsxs)(n.p,{children:["You may see CPU and memory graphs, but the response time distribution (heatmap) does not appear.",(0,t.jsx)(n.br,{}),"\n","This occurs in the following cases:"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The agent is connected to the collector, but the tracer is not properly applied to the PHP extension module."}),"\n",(0,t.jsx)(n.li,{children:"Apache or PHP-FPM was not restarted after configuration changes."}),"\n"]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Check whether the PHP module is loaded."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Linux/FreeBSD"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo php -m\n\n[PHP Modules]\nbz2\ncalendar\nCore\nctype\ncurl\ndate\n\u2026\nwhatap               # Verify that the WhaTap module is loaded\n\u2026\n[Zend Modules]\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Windows"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:"php -m | findstr whatap\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example (normal output)"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"whatap\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Restart the web service."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Windows"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:"REM Apache\nnet stop Apache2.4 && net start Apache2.4\n\nREM IIS\niisreset\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Check the extension directory."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Windows"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Check PHP extension directory\nphp -i | findstr extension_dir\nREM Example output: extension_dir => C:\\PHP\\ext\n\nREM Verify php_whatap.dll exists (use the directory confirmed above)\ndir "C:\\PHP\\ext\\php_whatap.dll"\n'})}),"\n",(0,t.jsx)(n.p,{children:"If the file does not exist, copy it manually (use the directory confirmed above)."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Check PHP API version\nphp -i | findstr "PHP API"\nREM Example: PHP API => 20230831\n\nREM Check Thread Safety\nphp -i | findstr "Thread Safety"\nREM Example: Thread Safety => disabled\n\nREM Copy the appropriate DLL (use the correct extension_dir path)\ncopy "C:\\Program Files\\WhaTap\\PHP\\modules\\x64\\php_whatap_20230831.dll" "C:\\PHP\\ext\\php_whatap.dll"\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Check the PHP configuration file.",(0,t.jsx)(n.br,{}),"\n","Make sure the path of ",(0,t.jsx)(n.em,{children:"whatap.so"})," or ",(0,t.jsx)(n.em,{children:"whatap.ini"})," matches your PHP environment."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Windows"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:"php --ini\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Check the logs."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Windows"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Installation log\ntype "C:\\Program Files\\WhaTap\\PHP\\logs\\whatap-install.log"\n\nREM Latest boot log\ndir "C:\\Program Files\\WhaTap\\PHP\\logs\\whatap-boot-*.log" /O-D\n'})}),"\n"]}),"\n"]}),(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Check the following items:",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"#check-php-cli-path",children:"PHP CLI Path"}),",",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"#check-php-extension-module",children:"PHP Extension Module Path"}),",",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"#php-ini-path",children:"PHP Additional ini Path"}),"."]})})]})}function x(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}function j(e){let n={br:"br",code:"code",em:"em",h3:"h3",h4:"h4",h5:"h5",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"segmentation-fault-sig-bus-error",children:"Segmentation fault, Sig bus Error"}),(0,t.jsx)(n.p,{children:"If an error occurs after applying PHP monitoring, check the Apache or PHP-FPM error log."}),(0,t.jsxs)(n.p,{children:["Check whether the error log contains messages such as ",(0,t.jsx)(n.code,{children:"segmentation fault"})," or ",(0,t.jsx)(n.code,{children:"sig bus"}),".",(0,t.jsx)(n.br,{}),"\n","These errors often appear together with messages like ",(0,t.jsx)(n.code,{children:"kill child process"}),", ",(0,t.jsx)(n.code,{children:"exit child"}),", or ",(0,t.jsx)(n.code,{children:"exit process"}),"."]}),(0,t.jsxs)(n.p,{children:["If these errors occur, it indicates a conflict with the PHP extension module ",(0,t.jsx)(n.em,{children:"whatap.so"}),".",(0,t.jsx)(n.br,{}),"\n","Disable the PHP extension module ",(0,t.jsx)(n.em,{children:"whatap.so"})," and restart Apache or PHP-FPM."]}),(0,t.jsxs)(n.p,{children:["In an environment that does not affect the service, enable the ",(0,t.jsx)(n.code,{children:"Core dump"})," configuration for Apache and PHP-FPM, then reload ",(0,t.jsx)(n.em,{children:"whatap.so"}),".",(0,t.jsx)(n.br,{}),"\n","If an error occurs afterward, a ",(0,t.jsx)(n.em,{children:"dump"})," file will be generated.",(0,t.jsx)(n.br,{}),"\n","Analyze the ",(0,t.jsx)(n.em,{children:"dump"})," file using gdb to identify the cause."]}),(0,t.jsx)(n.hr,{})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"disable-module--check-logs",children:"Disable Module & Check Logs"}),(0,t.jsx)(n.p,{children:"Disable the module first and check the logs to identify the issue."}),(0,t.jsx)(n.hr,{})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,t.jsx)(n.h5,{id:"windows",children:"Windows"}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Disable Test"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Temporarily disable php_whatap.dll\nren "C:\\PHP\\conf.d\\whatap.ini" "whatap.ini.disabled"\n\nREM Restart web server\nnet stop Apache2.4 && net start Apache2.4\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Check error logs"})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Apache"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'type "C:\\Apache24\\logs\\error.log"\n'})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"IIS"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:"REM Check Event Viewer\neventvwr.msc\n\u2192 Windows Logs \u2192 Application\n"})}),(0,t.jsx)(n.hr,{})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"core-dump-configuration",children:"Core Dump Configuration"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Grant permissions to the directory where the ",(0,t.jsx)(n.em,{children:"dump"})," file will be stored:"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"chmod 0777 /home/httpd-core\n"})}),(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"Apply system settings:"}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ulimit -c unlimited\nsysctl fs.suid_dumpable=2\nsysctl kernel.core_uses_pid=0\nsysctl kernel.core_pattern='| /home/httpd-core/core-%e.%p'\n"})}),(0,t.jsx)(n.hr,{})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"apache",children:"Apache"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Add CoreDumpDirectory to Apache configuration:"}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"vi /etc/httpd/conf/httpd.conf\n\nCoreDumpDirectory /home/httpd-core\n"})}),(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Restart Apache to apply the setting."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["When an error occurs, a ",(0,t.jsx)(n.em,{children:"dump"})," file is generated.",(0,t.jsx)(n.br,{}),"\n","Analyze the file using gdb and use ",(0,t.jsx)(n.code,{children:"bt full"})," to print the full stack trace:"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# gdb /usr/sbin/httpd /home/httpd-core/core-httpd.31832\n...\n\n> bt full\n"})}),(0,t.jsx)(n.hr,{})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"php-fpm",children:"PHP-FPM"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Configure ",(0,t.jsx)(n.code,{children:"rlimit_core"})," in the FPM configuration file:"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"rlimit_core = unlimited\n"})}),(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Restart PHP-FPM."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["When an error occurs, a ",(0,t.jsx)(n.em,{children:"dump"})," file will be created.",(0,t.jsx)(n.br,{}),"\n","Analyze it using gdb with ",(0,t.jsx)(n.code,{children:"bt full"}),":"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# gdb /usr/sbin/php-fpm /home/httpd-core/core-php-fpm.31832\n...\n\n> bt full\n"})})]})]})}function m(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(j,{...e})}):j(e)}let u={id:"agent-troubleshooting",title:"Troubleshooting",description:"You can check the problems that may occur during PHP agent installation.",toc_max_heading_level:2,keywords:["PHP","PHP Monitoring","Application","Application Monitoring","Troubleshooting"],isTranslationMissing:!1},P,g={},f=[{value:"Troubleshooting Installation and Configuration Issues",id:"troubleshooting-installation-and-configuration-issues",level:2},{value:"Linux/FreeBSD",id:"linuxfreebsd",level:2},{value:"Manual configuration of PHP extension module and whatap-php service",id:"extension-modul-manual-setting",level:2},{value:"Creation of whatap.ini",id:"creation-of-whatapini",level:3},{value:"Checking the PHP command (CLI)",id:"check-php-cli-path",level:3},{value:"Configuring the environment variables for the whatap-php service",id:"configuring-the-environment-variables-for-the-whatap-php-service",level:3},{value:"Checking the PHP API version",id:"checking-the-php-api-version",level:3},{value:"Checking whether PHP ZTS (Zend Thread Safe) is available",id:"checking-whether-php-zts-zend-thread-safe-is-available",level:3},{value:"Checking and configuring the PHP extension module&#39;s path",id:"checking-and-configuring-the-php-extension-modules-path",level:3},{value:"Checking the PHP extension module&#39;s path",id:"check-php-extension-module",level:4},{value:"Configuring the PHP extension module",id:"configuring-the-php-extension-module",level:4},{value:"Configuring the environment variables for the whatap-php service",id:"configuring-the-environment-variables-for-the-whatap-php-service-1",level:4},{value:"whatap.ini configuration",id:"php-ini-path",level:3},{value:"Windows",id:"windows",level:2},{value:"Manual Configuration of PHP Extension Module and WhaTap PHP Service",id:"manual-configuration-of-php-extension-module-and-whatap-php-service",level:3},{value:"Checking PHP Environment Information",id:"checking-php-environment-information",level:4},{value:"Copying php_whatap.dll",id:"copying-php_whatapdll",level:4},{value:"Creating whatap.ini or Editing php.ini",id:"creating-whatapini-or-editing-phpini",level:4},{value:"When Scan Directory Exists",id:"when-scan-directory-exists",level:5},{value:"When Scan Directory Does Not Exist",id:"when-scan-directory-does-not-exist",level:5},{value:"Editing whatap.ini",id:"editing-whatapini",level:4},{value:"Setting Environment Variables",id:"setting-environment-variables",level:4},{value:"Registering and Starting the Service",id:"registering-and-starting-the-service",level:4},{value:"Checking Runtime Environment",id:"checking-runtime-environment",level:2},{value:"Collecting PHP Environment Information",id:"collecting-php-environment-information",level:3},{value:"Network Connectivity Test",id:"network-connectivity-test",level:3},{value:"Checking Processes",id:"checking-processes",level:3},{value:"Additional Troubleshooting",id:"additional-troubleshooting",level:2},{value:"Unable to Detect Additional PHP ini Scan Directory",id:"unable-to-detect-additional-php-ini-scan-directory",level:3},{value:"How to Check",id:"how-to-check",level:4},{value:"How to Fix",id:"how-to-fix",level:4},{value:"Linux",id:"linux",level:5},{value:"Windows",id:"windows",level:5},{value:"Setting Environment Variable for whatap-php Service",id:"setting-environment-variable-for-whatap-php-service",level:4},{value:"Restart Services",id:"restart-services",level:4},{value:"Error: Not found PHP API",id:"error-not-found-php-api",level:4},{value:"Linux",id:"linux-1",level:5},{value:"Windows",id:"windows-1",level:5},{value:"PHP ini Directory Not Found",id:"php-ini-directory-not-found",level:3},{value:"How to Check",id:"how-to-check",level:4},{value:"Linux/FreeBSD",id:"linuxfreebsd",level:5},{value:"Windows",id:"windows",level:5},{value:"How to Fix",id:"how-to-fix",level:4},{value:"Windows",id:"windows-1",level:5},{value:"Response Time Heatmap Not Displayed",id:"response-time-heatmap-not-displayed",level:3},{value:"Segmentation fault, Sig bus Error",id:"segmentation-fault-sig-bus-error",level:3},{value:"Disable Module &amp; Check Logs",id:"disable-module--check-logs",level:4},{value:"Windows",id:"windows",level:5},{value:"Core Dump Configuration",id:"core-dump-configuration",level:4},{value:"Apache",id:"apache",level:4},{value:"PHP-FPM",id:"php-fpm",level:4}];function v(e){let n={admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",p:"p",pre:"pre",section:"section",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"troubleshooting-installation-and-configuration-issues",children:"Troubleshooting Installation and Configuration Issues"}),(0,t.jsx)(n.p,{children:"This guide explains how to diagnose and resolve errors that may occur during installation and configuration of the WhaTap PHP Agent."})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"linuxfreebsd",children:"Linux/FreeBSD"}),(0,t.jsx)(l,{})]}),"\n",(0,t.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,t.jsx)(n.h2,{id:"windows",children:"Windows"})}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"manual-configuration-of-php-extension-module-and-whatap-php-service",children:"Manual Configuration of PHP Extension Module and WhaTap PHP Service"}),(0,t.jsxs)(n.p,{children:["If the PHP extension module or the whatap-php service was not installed correctly, or the optional installation (",(0,t.jsx)(n.em,{children:"install.sh"}),") did not complete properly, follow the manual configuration steps below."]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"checking-php-environment-information",children:"Checking PHP Environment Information"}),(0,t.jsx)(n.p,{children:"Check your PHP environment:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Check PHP API version\nphp -i | findstr "PHP API"\n\nREM Check Thread Safety\nphp -i | findstr "Thread Safety"\n\nREM Check extension directory\nphp -i | findstr extension_dir\n\nREM Check PHP configuration file location\nphp --ini\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Example Output"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"PHP API => 20230831\nThread Safety => disabled\nextension_dir => C:\\PHP\\ext\n\nConfiguration File (php.ini) Path: C:\\Windows\nLoaded Configuration File:         C:\\PHP\\php.ini\nScan for additional .ini files in: C:\\PHP\\conf.d\nAdditional .ini files parsed:      (none)\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"copying-php_whatapdll",children:"Copying php_whatap.dll"}),(0,t.jsx)(n.p,{children:"Copy the correct DLL to the extension_dir path you confirmed:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Example: extension_dir => C:\\PHP\\ext\n\nREM Non-ZTS version\ncopy "C:\\Program Files\\WhaTap\\PHP\\modules\\x64\\php_whatap_[API_VERSION].dll" "C:\\PHP\\ext\\php_whatap.dll"\n\nREM ZTS version\ncopy "C:\\Program Files\\WhaTap\\PHP\\modules\\x64\\php_whatap_zts_[API_VERSION].dll" "C:\\PHP\\ext\\php_whatap.dll"\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Examples"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM PHP 8.3 (API 20230831) NTS\ncopy "C:\\Program Files\\WhaTap\\PHP\\modules\\x64\\php_whatap_20230831.dll" "C:\\PHP\\ext\\php_whatap.dll"\n\nREM PHP 8.3 (API 20230831) ZTS\ncopy "C:\\Program Files\\WhaTap\\PHP\\modules\\x64\\php_whatap_zts_20230831.dll" "C:\\Program Files\\PHP\\v8.3\\ext\\php_whatap.dll"\n'})})]}),"\n",(0,t.jsx)(n.section,{className:"remark-sectionize-h4",children:(0,t.jsx)(n.h4,{id:"creating-whatapini-or-editing-phpini",children:"Creating whatap.ini or Editing php.ini"})}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,t.jsx)(n.h5,{id:"when-scan-directory-exists",children:"When Scan Directory Exists"}),(0,t.jsxs)(n.p,{children:["Create ",(0,t.jsx)(n.em,{children:"whatap.ini"})," in the Scan Directory detected by ",(0,t.jsx)(n.code,{children:"php --ini"}),"."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Example: Scan for additional .ini files in: C:\\PHP\\conf.d\nnotepad "C:\\PHP\\conf.d\\whatap.ini"\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"whatap.ini"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"extension=php_whatap.dll\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,t.jsx)(n.h5,{id:"when-scan-directory-does-not-exist",children:"When Scan Directory Does Not Exist"}),(0,t.jsx)(n.p,{children:"Add configuration directly to php.ini:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Example: Loaded Configuration File: C:\\PHP\\php.ini\nnotepad "C:\\PHP\\php.ini"\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Add to php.ini"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[whatap]\nextension=php_whatap.dll\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"editing-whatapini",children:"Editing whatap.ini"}),(0,t.jsxs)(n.p,{children:["Edit the configuration file located at ",(0,t.jsx)(n.em,{children:"C:\\Program Files\\WhaTap\\PHP\\whatap.ini"}),":"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"whatap.license=your_access_key\nwhatap.server.host=13.124.11.223\nwhatap.app_name=APHP\nwhatap.app_process_name=httpd.exe\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"setting-environment-variables",children:"Setting Environment Variables"}),(0,t.jsx)(n.p,{children:"Configure the environment variables required by the WhaTap PHP Agent:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'REM Required: Installation directory\nsetx WHATAP_PHP_HOME "C:\\Program Files\\WhaTap\\PHP"\n\nREM Required: Configuration file name\nsetx WHATAP_PHP_CONFIG "whatap.ini"\n\nREM Optional: License key\nREM setx WHATAP_LICENSE "your_access_key"\n\nREM Optional: Server host\nREM setx WHATAP_SERVER_HOST "13.124.11.223"\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Environment variables automatically set by the installer"})}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Variable"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"When Set"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_PHP_HOME"}),(0,t.jsx)(n.td,{children:"Installation directory"}),(0,t.jsx)(n.td,{children:"Always"}),(0,t.jsx)(n.td,{children:"C:\\Program Files\\WhaTap\\PHP"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_PHP_CONFIG_HOME"}),(0,t.jsx)(n.td,{children:"Directory of whatap.ini"}),(0,t.jsx)(n.td,{children:"Always"}),(0,t.jsx)(n.td,{children:"C:\\Program Files\\WhaTap\\PHP"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_PHP_CONFIG"}),(0,t.jsx)(n.td,{children:"whatap.ini file name"}),(0,t.jsx)(n.td,{children:"Always"}),(0,t.jsx)(n.td,{children:"whatap.ini"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_DATETIME_MODE"}),(0,t.jsx)(n.td,{children:"Time mode (Windows only)"}),(0,t.jsx)(n.td,{children:"Always"}),(0,t.jsx)(n.td,{children:"WINDOWS"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_PHP_BIN"}),(0,t.jsx)(n.td,{children:"Path to php.exe"}),(0,t.jsx)(n.td,{children:"When PHP is detected"}),(0,t.jsx)(n.td,{children:"(detected)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_PHP_DIR"}),(0,t.jsx)(n.td,{children:"PHP installation directory"}),(0,t.jsx)(n.td,{children:"When PHP is detected"}),(0,t.jsx)(n.td,{children:"(detected)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_PHP_API_VERSION"}),(0,t.jsx)(n.td,{children:"PHP API version"}),(0,t.jsx)(n.td,{children:"When PHP is detected"}),(0,t.jsx)(n.td,{children:"(detected)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_PHP_EXTENSION_DIR"}),(0,t.jsx)(n.td,{children:"PHP extension directory"}),(0,t.jsx)(n.td,{children:"When PHP is detected"}),(0,t.jsx)(n.td,{children:"(detected)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_PHP_INI_FILE"}),(0,t.jsx)(n.td,{children:"php.ini path"}),(0,t.jsx)(n.td,{children:"When PHP is detected"}),(0,t.jsx)(n.td,{children:"(detected)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_PHP_THREAD_SAFETY"}),(0,t.jsx)(n.td,{children:"enabled/disabled"}),(0,t.jsx)(n.td,{children:"When PHP is detected"}),(0,t.jsx)(n.td,{children:"(detected)"})]})]})]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Optional user-set environment variables"})}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Variable"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Priority"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_LICENSE"}),(0,t.jsx)(n.td,{children:"License key"}),(0,t.jsx)(n.td,{children:"Env > INI"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"WHATAP_SERVER_HOST"}),(0,t.jsx)(n.td,{children:"Server host"}),(0,t.jsx)(n.td,{children:"Env > INI"}),(0,t.jsx)(n.td,{children:"-"})]})]})]}),(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"setx"})," writes permanent environment variables.",(0,t.jsx)(n.br,{}),"\n","Reload your terminal or restart services for changes to apply.",(0,t.jsx)(n.br,{}),"\n","For system-wide variables:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'setx WHATAP_PHP_HOME "C:\\Program Files\\WhaTap\\PHP" /M\n'})})]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"registering-and-starting-the-service",children:"Registering and Starting the Service"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:'sc create "WhaTap PHP" binPath="C:\\Program Files\\WhaTap\\PHP\\whatap_php.exe" start=auto\nnet start "WhaTap PHP"\n\nREM Restart web server\nnet stop Apache2.4 && net start Apache2.4\nREM or\niisreset\n'})})]}),"\n",(0,t.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,t.jsx)(n.h2,{id:"checking-runtime-environment",children:"Checking Runtime Environment"})}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"collecting-php-environment-information",children:"Collecting PHP Environment Information"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:"php -v > php_version.txt\nphp -i > phpinfo.txt\nphp -m > modules.txt\nphp --ini > ini.txt\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"network-connectivity-test",children:"Network Connectivity Test"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-powershell",children:"Test-NetConnection -ComputerName 13.124.11.223 -Port 6600\n"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:"telnet 13.124.11.223 6600\ntracert 13.124.11.223\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"checking-processes",children:"Checking Processes"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:"tasklist | findstr whatap\ntasklist | findstr php\nnetstat -ano | findstr 6600\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"additional-troubleshooting",children:"Additional Troubleshooting"}),(0,t.jsx)(c,{}),(0,t.jsx)(o,{}),(0,t.jsx)(x,{}),(0,t.jsx)(m,{})]})]})}function w(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(v,{...e})}):v(e)}},84429:function(e,n,i){i.d(n,{R:()=>a,x:()=>l});var s=i(96540);let t={},r=s.createContext(t);function a(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);