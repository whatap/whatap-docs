"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["65364"],{98251:function(e,n,t){t.d(n,{Ay:()=>o,RM:()=>a});var s=t(74848),i=t(84429);let a=[];function r(e){let n={admonition:"admonition",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Cmdname:t}=n;return t||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Cmdname",!0),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"whatap.okind"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:'You can configure monitoring units by grouping multiple agents into "type-based" groups. This option allows you to monitor and manage multiple agents in groups, analyze performance metrics, and set the alerts.'}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["You can check it as a group option classified as ",(0,s.jsx)(t,{sid:"ITM06006",className:"uitext"})," in the ",(0,s.jsx)(t,{sid:"side_dashboard",className:"uitext"})," and ",(0,s.jsx)(t,{sid:"side_analysis",className:"uitext"}),", ",(0,s.jsx)(t,{sid:"side_statistics",className:"uitext"})," menus."]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"whatap.onode"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:'You can configure monitoring units by grouping multiple agents into "node-based" groups. This option allows you to monitor and manage multiple agents in groups, analyze performance metrics, and set the alerts.'}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["You can check it as a group option classified for nodes in the ",(0,s.jsx)(t,{sid:"side_dashboard",className:"uitext"})," and ",(0,s.jsx)(t,{sid:"side_analysis",className:"uitext"}),", ",(0,s.jsx)(t,{sid:"side_statistics",className:"uitext"})," menus."]})}),"\n"]}),"\n"]})}function o(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},19036:function(e,n,t){t.d(n,{Ay:()=>o,RM:()=>a});var s=t(74848),i=t(84429);let a=[];function r(e){let n={admonition:"admonition",li:"li",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The agent names must be unique on a project basis."}),"\n",(0,s.jsx)(n.li,{children:"If the agent ID and name have been changed, previous data is not connected."}),"\n"]})})}function o(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},26059:function(e,n,t){t.d(n,{Ay:()=>o,RM:()=>a});var s=t(74848),i=t(84429);let a=[];function r(e){let n={p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"WhaTap basically uses the data collected from application servers to identify each server while collecting monitoring data. Basic information uses the application server as a unique identifier by a combination of application server's type, IP address, and such. If necessary, use the name set by the user or change the pattern to a unique value. The agent name must be unique."}),"\n",(0,s.jsx)(n.p,{children:"The reason why the data extracted from the application server is used, is like the following. When a communication loss caused by the stop of the application server, network disconnection, or agent problem between the collection server and the agent, is restored, the continuity of the data from the reconnected agent is maintained."})]})}function o(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},16325:function(e,n,t){t.r(n),t.d(n,{metadata:()=>s,default:()=>u,frontMatter:()=>l,contentTitle:()=>c,toc:()=>p,assets:()=>h});var s=JSON.parse('{"id":"nodejs/agent-name","title":"Agent name identification","description":"The following explains how to set the agent name in order to identify the monitoring target.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/nodejs/agent-name.mdx","sourceDirName":"nodejs","slug":"/nodejs/agent-name","permalink":"/whatap-docs/nodejs/agent-name","draft":false,"unlisted":false,"editUrl":"undefined/docs/nodejs/agent-name.mdx","tags":[],"version":"current","frontMatter":{"id":"agent-name","title":"Agent name identification","description":"The following explains how to set the agent name in order to identify the monitoring target.","keywords":["Node.js","Agent name"],"isTranslationMissing":false},"sidebar":"nodejsSidebar","previous":{"title":"Node.js environment configuration","permalink":"/whatap-docs/nodejs/set-agent"},"next":{"title":"Control of agent functions","permalink":"/whatap-docs/nodejs/agent-control-function"}}'),i=t(74848),a=t(84429),r=t(98251),o=t(26059),d=t(19036);let l={id:"agent-name",title:"Agent name identification",description:"The following explains how to set the agent name in order to identify the monitoring target.",keywords:["Node.js","Agent name"],isTranslationMissing:!1},c,h={},p=[{value:"Identifying the agent name",id:"agentname",level:2},...o.RM,...d.RM,{value:"Variable of the agent name",id:"variable-of-the-agent-name",level:3},{value:"Changing the agent name pattern",id:"changing-the-agent-name-pattern",level:3},{value:"Agent nameing on the server",id:"agent-nameing-on-the-server",level:3},{value:"Agent name setting options",id:"agent-name-setting-options",level:2},...r.RM];function m(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,i.jsx)(n.h2,{id:"agentname",children:"Identifying the agent name"}),(0,i.jsx)(o.Ay,{}),(0,i.jsx)(d.Ay,{}),(0,i.jsx)(n.p,{children:"The default patterns used to identify the application server are as follows:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",metastring:"title='Default pattern'",children:"NODE-{ip2}-{ip3}\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",metastring:"title='Cluster environment'",children:"NODE{cluster}-{ip2}-{ip3}\n"})})]}),"\n",(0,i.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,i.jsx)(n.h3,{id:"variable-of-the-agent-name",children:"Variable of the agent name"}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{type}"})}),(0,i.jsx)(n.td,{children:"Name of the application type (Node)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ip0}"})}),(0,i.jsxs)(n.td,{children:["The first byte of the IPv4 address is used. (e.g. ",(0,i.jsx)(n.strong,{children:"10"})," in ",(0,i.jsx)(n.strong,{children:"10"}),".11.12.13)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ip1}"})}),(0,i.jsxs)(n.td,{children:["The second byte of the IPv4 address is used. (e.g. ",(0,i.jsx)(n.strong,{children:"11"})," in 10.",(0,i.jsx)(n.strong,{children:"11"}),".12.13)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ip2}"})}),(0,i.jsxs)(n.td,{children:["The third byte of the IPv4 address is used. (e.g. ",(0,i.jsx)(n.strong,{children:"12"})," in 10.11.",(0,i.jsx)(n.strong,{children:"12"}),".13)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ip3}"})}),(0,i.jsxs)(n.td,{children:["The fourth byte of the IPv4 address is used. (e.g. ",(0,i.jsx)(n.strong,{children:"13"})," in 10.11.12.",(0,i.jsx)(n.strong,{children:"13"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{pid}"})}),(0,i.jsx)(n.td,{children:"Application process ID"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{hostname}"})}),(0,i.jsx)(n.td,{children:"Host name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{cluster}"})}),(0,i.jsx)(n.td,{children:"Cluster ID when multiple Node.js files are running on a server"})]})]})]})]}),"\n",(0,i.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,i.jsx)(n.h3,{id:"changing-the-agent-name-pattern",children:"Changing the agent name pattern"}),(0,i.jsx)(n.p,{children:"You can change the WhaTap agent name through an environment variable. Add the following code to the first line of the application's main module."}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:"{1} showLineNumbers",children:"process.env.WHATAP_NAME = \"NODE-{ip2}-{ip3}\";\nvar whatap=require('whatap').NodeAgent;\n...\n"})})]}),"\n",(0,i.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,i.jsx)(n.h3,{id:"agent-nameing-on-the-server",children:"Agent nameing on the server"}),(0,i.jsx)(n.p,{children:"Names are automatically assigned by the server rather than determining them based on the agent environment. It is used when a Node.js server operates in the container or PaaS environment."}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf' showLineNumbers",children:"auto_oname_enabled=true\nauto_oname_prefix=nodejs\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:"title='Set the .env(app.js)' {4,5} showLineNumbers",children:"process.env.WHATAP_LICENSE='x46n3226be1ah-z2rsecfcvlq2ph-z11bc81gfhqpgg';\nprocess.env.WHATAP_SERVER_HOST='52.78.209.94/52.78.224.235';\n\nprocess.env.auto_oname_enabled=true;\nprocess.env.auto_oname_prefix='mynode';\n\nvar whatap=require('whatap').NodeAgent;\n...\n"})}),(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["To set in the env, it must be declared before ",(0,i.jsx)(n.code,{children:"require('whatap')"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Because the ",(0,i.jsx)(n.strong,{children:"Heroku"})," environment changes the IP address each time the server is restarted, it is changed to a new name."]}),"\n"]})}),(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"auto_oname_prefix"})," option is the prefix of the agent name. The WhaTap server gives an agent name by combining the name and serial number set in the ",(0,i.jsx)(n.code,{children:"auto_oname_prefix"})," option."]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Assigned agent name example, mynode1"}),"\n"]})]}),"\n",(0,i.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,i.jsx)(n.h2,{id:"agent-name-setting-options",children:"Agent name setting options"}),(0,i.jsxs)(n.p,{children:["For more information about the agent name setting in Node.js, see ",(0,i.jsx)(n.a,{href:"#agentname",children:"the following"}),"."]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"auto_oname_enabled"})," ",(0,i.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"It enables the function to automatically obtain the agent name to register from the server."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"auto_oname_prefix"})," ",(0,i.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"agent"})]}),"\n",(0,i.jsx)(n.p,{children:"When an agent name is automatically granted from the server, the prefix of the agent name (business name as usual) is used. The prefix + serial number (from 1) is assigned."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"auto_oname_reset"})," ",(0,i.jsx)("span",{class:"type",children:"Int"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"0"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modify it to obtain a new agent name from the server. Once set, the agent name is maintained until Node.js is restarted. For a reset, modify the value of ",(0,i.jsx)(n.code,{children:"auto_oname_reset"}),". If a different value is assigned, the setting is applied."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"oname_port_postfix_enabled"})," ",(0,i.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"You can create an agent name (ONAME) by adding a port number."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"e.g. NODE-14-103-3000"}),"\n"]}),"\n"]}),"\n"]}),(0,i.jsx)(r.Ay,{})]})]})}function u(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},84429:function(e,n,t){t.d(n,{R:()=>r,x:()=>o});var s=t(96540);let i={},a=s.createContext(i);function r(e){let n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);