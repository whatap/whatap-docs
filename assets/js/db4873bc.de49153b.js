"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["94199"],{82098:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>d,metadata:()=>t,assets:()=>l,toc:()=>a,contentTitle:()=>i});var t=JSON.parse('{"id":"kubernetes/etcd-dashboard","title":"etcd \uB300\uC2DC\uBCF4\uB4DC","description":"etcd \uB300\uC2DC\uBCF4\uB4DC\uB97C \uC548\uB0B4\uD569\uB2C8\uB2E4.","source":"@site/docs/kubernetes/etcd-dashboard.mdx","sourceDirName":"kubernetes","slug":"/kubernetes/etcd-dashboard","permalink":"/whatap-docs/kubernetes/etcd-dashboard","draft":false,"unlisted":false,"editUrl":"undefined/docs/kubernetes/etcd-dashboard.mdx","tags":[],"version":"current","frontMatter":{"id":"etcd-dashboard","title":"etcd \uB300\uC2DC\uBCF4\uB4DC","description":"etcd \uB300\uC2DC\uBCF4\uB4DC\uB97C \uC548\uB0B4\uD569\uB2C8\uB2E4.","keywords":["\uCFE0\uBC84\uB124\uD2F0\uC2A4","\uCFE0\uBC84\uB124\uD2F0\uC2A4 \uBAA8\uB2C8\uD130\uB9C1","etcd","\uCEE8\uD2B8\uB864 \uD50C\uB808\uC778"],"toc_max_heading_level":3,"isTranslationMissing":false},"sidebar":"kubeSidebar","previous":{"title":"kube-apiserver \uBA54\uD2B8\uB9AD\uC2A4 \uC870\uD68C","permalink":"/whatap-docs/kubernetes/kube-apiserver-metrics-search"},"next":{"title":"kube-scheduler \uB300\uC2DC\uBCF4\uB4DC","permalink":"/whatap-docs/kubernetes/kube-scheduler-dashboard"}}'),c=s("85893"),r=s("50065");let d={id:"etcd-dashboard",title:"etcd \uB300\uC2DC\uBCF4\uB4DC",description:"etcd \uB300\uC2DC\uBCF4\uB4DC\uB97C \uC548\uB0B4\uD569\uB2C8\uB2E4.",keywords:["\uCFE0\uBC84\uB124\uD2F0\uC2A4","\uCFE0\uBC84\uB124\uD2F0\uC2A4 \uBAA8\uB2C8\uD130\uB9C1","etcd","\uCEE8\uD2B8\uB864 \uD50C\uB808\uC778"],toc_max_heading_level:3,isTranslationMissing:!1},i=void 0,l={},a=[{value:"\uAE30\uBCF8 \uD654\uBA74 \uC548\uB0B4",id:"\uAE30\uBCF8-\uD654\uBA74-\uC548\uB0B4",level:2},{value:"etcd \uBAA8\uB2C8\uD130\uB9C1 \uD65C\uC131\uD654",id:"etcd-\uBAA8\uB2C8\uD130\uB9C1-\uD65C\uC131\uD654",level:2},{value:"\uC778\uC99D\uC11C \uD655\uC778 \uBC0F Secret \uC0DD\uC131",id:"\uC778\uC99D\uC11C-\uD655\uC778-\uBC0F-secret-\uC0DD\uC131",level:3},{value:"etcd \uC778\uC99D\uC11C \uD655\uC778",id:"etcd-\uC778\uC99D\uC11C-\uD655\uC778",level:4},{value:"Secret \uC0DD\uC131",id:"secret-\uC0DD\uC131",level:4},{value:"root \uACC4\uC815\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uB294 \uACBD\uC6B0",id:"root-\uACC4\uC815\uC744-\uC0AC\uC6A9\uD560-\uC218-\uC5C6\uB294-\uACBD\uC6B0",level:5},{value:"\uB124\uC784\uC2A4\uD398\uC774\uC2A4\uAC00 \uC5C6\uC744 \uACBD\uC6B0",id:"\uB124\uC784\uC2A4\uD398\uC774\uC2A4\uAC00-\uC5C6\uC744-\uACBD\uC6B0",level:5},{value:"\uC640\uD0ED \uCFE0\uBC84\uB124\uD2F0\uC2A4 \uC5D0\uC774\uC804\uD2B8 <em>YAML</em> \uC218\uC815",id:"\uC640\uD0ED-\uCFE0\uBC84\uB124\uD2F0\uC2A4-\uC5D0\uC774\uC804\uD2B8-yaml-\uC218\uC815",level:3},{value:"\uCEE8\uD14C\uC774\uB108 \uC124\uC815",id:"\uCEE8\uD14C\uC774\uB108-\uC124\uC815",level:4},{value:"Secret \uC5F0\uACB0",id:"secret-\uC5F0\uACB0",level:4},{value:"\uC804\uCCB4 <em>YAML</em> \uC608\uC2DC",id:"\uC804\uCCB4-yaml-\uC608\uC2DC",level:4},{value:"etcd \uBA54\uD2B8\uB9AD",id:"etcd-metrics",level:2}];function o(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components},{Cmdname:s,ImgLang:t}=n;return s||m("Cmdname",!0),t||m("ImgLang",!0),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.p,{children:["\uD648 \uD654\uBA74 > \uD074\uB7EC\uC2A4\uD130 \uD504\uB85C\uC81D\uD2B8(",(0,c.jsx)("code",{class:"my",children:"CP"}),") \uC120\uD0DD > ",(0,c.jsx)(s,{sid:"side_controlPlane",className:"uitext"})," > ",(0,c.jsx)(s,{sid:"side_etcdDashboard",className:"uitext"})]}),"\n",(0,c.jsxs)(n.admonition,{type:"note",children:[(0,c.jsx)(n.mdxAdmonitionTitle,{}),(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"\uC694\uAD6C \uC0AC\uD56D"})}),(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\uC640\uD0ED \uCFE0\uBC84\uB124\uD2F0\uC2A4 \uC5D0\uC774\uC804\uD2B8 1.7.16 \uBC84\uC804 \uC774\uC0C1\uC774 \uD544\uC694\uD569\uB2C8\uB2E4."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["\uCFE0\uBC84\uB124\uD2F0\uC2A4 \uD074\uB7EC\uC2A4\uD130 \uD504\uB85C\uC81D\uD2B8(",(0,c.jsx)("code",{class:"my",children:"CP"}),")\uC77C \uACBD\uC6B0 \uD574\uB2F9 \uBA54\uB274\uB97C \uC870\uD68C\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]}),"\n"]}),"\n"]})]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"etcd"}),"\uB294 \uCFE0\uBC84\uB124\uD2F0\uC2A4 \uD658\uACBD\uC5D0\uC11C \uD074\uB7EC\uC2A4\uD130 \uC0C1\uD0DC\uC640 \uAD00\uB828\uB41C \uB370\uC774\uD130\uB97C \uC800\uC7A5\uD558\uB294 \uD575\uC2EC \uCEF4\uD3EC\uB10C\uD2B8\uC785\uB2C8\uB2E4. \uC640\uD0ED\uC740 etcd\uC758 \uC131\uB2A5\uACFC \uC0C1\uD0DC\uB97C \uBAA8\uB2C8\uD130\uB9C1\uD560 \uC218 \uC788\uB294 ",(0,c.jsx)(s,{sid:"side_etcdDashboard",className:"uitext"}),"\uB97C \uC81C\uACF5\uD569\uB2C8\uB2E4. \uC774\uB97C \uD1B5\uD574 \uD074\uB7EC\uC2A4\uD130\uC758 \uC548\uC815\uC131\uC744 \uB192\uC774\uACE0 \uBB38\uC81C \uBC1C\uC0DD \uC2DC \uC2E0\uC18D\uD55C \uB300\uC751\uC774 \uAC00\uB2A5\uD569\uB2C8\uB2E4."]}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,c.jsx)(n.h2,{id:"\uAE30\uBCF8-\uD654\uBA74-\uC548\uB0B4",children:"\uAE30\uBCF8 \uD654\uBA74 \uC548\uB0B4"}),(0,c.jsx)(t,{img:"k8s-etcd-dashboard.png",desc:"etcd \uB300\uC2DC\uBCF4\uB4DC"}),(0,c.jsxs)(n.p,{children:[(0,c.jsx)(s,{sid:"side_etcdDashboard",className:"uitext"}),"\uB294 \uCD5C\uADFC 1\uC2DC\uAC04 \uB3D9\uC548 \uC218\uC9D1\uB41C \uC8FC\uC694 etcd \uC9C0\uD45C\uB97C 1\uBD84 \uC8FC\uAE30\uB85C \uC81C\uACF5\uD569\uB2C8\uB2E4. \uB300\uC2DC\uBCF4\uB4DC\uC5D0\uC11C \uD655\uC778\uD560 \uC218 \uC788\uB294 \uC8FC\uC694 \uC9C0\uD45C\uB294 \uB2E4\uC74C\uACFC \uAC19\uC2B5\uB2C8\uB2E4. \uC9C0\uD45C \uC0C1\uC138\uB294 \uD558\uB2E8 ",(0,c.jsx)(n.a,{href:"#etcd-metrics",children:"\uBA54\uD2B8\uB9AD \uC548\uB0B4"}),"\uB97C \uCC38\uC870\uD558\uC138\uC694."]}),(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"etcd\uAC00 \uC0AC\uC6A9\uD558\uB294 \uB9AC\uC18C\uC2A4, Pod \uC7AC\uAE30\uB3D9 \uC218, \uC0C1\uC138 \uB85C\uADF8\uB97C \uC81C\uACF5\uD569\uB2C8\uB2E4."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"etcd \uB0B4\uBD80\uC758 commit \uBC0F apply \uD69F\uC218\uB97C \uC81C\uACF5\uD569\uB2C8\uB2E4."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"etcd \uB9AC\uB354\uC758 \uC874\uC7AC \uC5EC\uBD80 \uBC0F \uB9AC\uB354\uC758 \uBCC0\uACBD \uC774\uB825\uC744 \uC81C\uACF5\uD569\uB2C8\uB2E4."}),"\n"]}),"\n"]})]}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,c.jsx)(n.h2,{id:"etcd-\uBAA8\uB2C8\uD130\uB9C1-\uD65C\uC131\uD654",children:"etcd \uBAA8\uB2C8\uD130\uB9C1 \uD65C\uC131\uD654"}),(0,c.jsxs)(n.p,{children:["\uC640\uD0ED \uCFE0\uBC84\uB124\uD2F0\uC2A4 \uC5D0\uC774\uC804\uD2B8 \uC124\uCE58 \uC2DC \uB2E4\uC6B4\uB85C\uB4DC\uD55C ",(0,c.jsx)(n.em,{children:"YAML"})," \uD30C\uC77C \uC218\uC815 \uBC0F mTLS \uC778\uC99D\uC11C\uB97C \uB4F1\uB85D\uD558\uC5EC \uC5D0\uC774\uC804\uD2B8\uB97C \uD65C\uC131\uD654\uD558\uC138\uC694."]})]}),"\n",(0,c.jsx)(n.section,{className:"remark-sectionize-h3",children:(0,c.jsx)(n.h3,{id:"\uC778\uC99D\uC11C-\uD655\uC778-\uBC0F-secret-\uC0DD\uC131",children:"\uC778\uC99D\uC11C \uD655\uC778 \uBC0F Secret \uC0DD\uC131"})}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,c.jsx)(n.h4,{id:"etcd-\uC778\uC99D\uC11C-\uD655\uC778",children:"etcd \uC778\uC99D\uC11C \uD655\uC778"}),(0,c.jsxs)(n.p,{children:["etcd\uC758 mTLS \uC778\uC99D\uC11C\uAC00 \uD544\uC694\uD569\uB2C8\uB2E4. etcd \uC778\uC99D\uC11C\uB294 \uC77C\uBC18\uC801\uC73C\uB85C Control Plane \uB178\uB4DC\uC758 ",(0,c.jsx)(n.em,{children:"/etc/kubernetes/pki/etcd"})," \uACBD\uB85C\uC5D0 \uC800\uC7A5\uB429\uB2C8\uB2E4. \uD30C\uC77C \uC18C\uC720\uC790\uB294 root \uACC4\uC815\uC774\uBA70 \uD544\uC694\uD55C \uC778\uC99D\uC11C\uB294 \uB2E4\uC74C\uACFC \uAC19\uC2B5\uB2C8\uB2E4."]}),(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.em,{children:"ca.crt"})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.em,{children:"server.crt"})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.em,{children:"server.key"})}),"\n"]}),"\n"]}),(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"kubectl"})," \uBA85\uB839\uC744 \uC2E4\uD589\uD560 \uBA38\uC2E0\uC5D0\uC11C \uB2E4\uC74C \uBA85\uB839\uC5B4\uB97C \uD1B5\uD574 \uC778\uC99D\uC11C\uAC00 \uC874\uC7AC\uD558\uB294\uC9C0 \uD655\uC778\uD558\uC138\uC694."]}),(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"sudo ls /etc/kubernetes/pki/etcd\n"})})]}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,c.jsx)(n.h4,{id:"secret-\uC0DD\uC131",children:"Secret \uC0DD\uC131"}),(0,c.jsx)(n.p,{children:"\uC778\uC99D\uC11C\uAC00 \uC874\uC7AC\uD558\uBA74 \uB2E4\uC74C \uBA85\uB839\uC5B4\uB97C \uD1B5\uD574 Secret\uC744 \uC0DD\uC131\uD558\uC138\uC694."}),(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"sudo kubectl create secret generic whatap-etcd-cert -n whatap-monitoring --from-file=ca.crt=/etc/kubernetes/pki/etcd/ca.crt --from-file=server.crt=/etc/kubernetes/pki/etcd/server.crt --from-file=server.key=/etc/kubernetes/pki/etcd/server.key\n"})}),(0,c.jsx)(n.p,{children:"\uC815\uC0C1\uC801\uC73C\uB85C Secret \uC0DD\uC131 \uC2DC \uB2E4\uC74C\uACFC \uAC19\uC740 \uBA54\uC2DC\uC9C0\uAC00 \uCD9C\uB825\uB429\uB2C8\uB2E4."}),(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:"secret/whatap-etcd-cert created\n"})})]}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,c.jsx)(n.h5,{id:"root-\uACC4\uC815\uC744-\uC0AC\uC6A9\uD560-\uC218-\uC5C6\uB294-\uACBD\uC6B0",children:"root \uACC4\uC815\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uB294 \uACBD\uC6B0"}),(0,c.jsxs)(n.p,{children:["root \uACC4\uC815\uC5D0\uC11C ",(0,c.jsx)(n.code,{children:"kubectl"})," \uBA85\uB839\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uB294 \uACBD\uC6B0 \uB2E4\uC74C \uC548\uB0B4\uB97C \uCC38\uC870\uD558\uC138\uC694."]}),(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\uC778\uC99D\uC11C \uBCF5\uC81C \uD6C4 \uC811\uADFC \uAC00\uB2A5\uD55C \uACBD\uB85C\uB85C \uC774\uB3D9\uD558\uC138\uC694."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\uBCF5\uC81C\uB41C \uC778\uC99D\uC11C \uD30C\uC77C\uC758 \uC18C\uC720\uC790\uB97C \uD604\uC7AC \uC18C\uC720\uC790\uB85C \uBCC0\uACBD\uD558\uC138\uC694."}),"\n"]}),"\n"]})]}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h5",children:[(0,c.jsx)(n.h5,{id:"\uB124\uC784\uC2A4\uD398\uC774\uC2A4\uAC00-\uC5C6\uC744-\uACBD\uC6B0",children:"\uB124\uC784\uC2A4\uD398\uC774\uC2A4\uAC00 \uC5C6\uC744 \uACBD\uC6B0"}),(0,c.jsxs)(n.p,{children:["\uCFE0\uBC84\uB124\uD2F0\uC2A4 \uC5D0\uC774\uC804\uD2B8 YAML \uC801\uC6A9 \uC804\uC5D0 Secret\uC744 \uB9CC\uB4DC\uB294 \uACBD\uC6B0 ",(0,c.jsx)(n.code,{children:"whatap-monitoring"})," \uB124\uC784\uC2A4\uD398\uC774\uC2A4\uAC00 \uC874\uC7AC\uD558\uC9C0 \uC54A\uC544 Secret \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uB2E4\uC74C \uBA85\uB839\uC5B4\uB97C \uD1B5\uD574 \uB124\uC784\uC2A4\uD398\uC774\uC2A4\uB97C \uC0DD\uC131\uD55C \uD6C4 \uB2E4\uC2DC Secret\uC744 \uC0DD\uC131\uD558\uC138\uC694."]}),(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"kubectl create namespace whatap-monitoring\n"})})]}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,c.jsxs)(n.h3,{id:"\uC640\uD0ED-\uCFE0\uBC84\uB124\uD2F0\uC2A4-\uC5D0\uC774\uC804\uD2B8-yaml-\uC218\uC815",children:["\uC640\uD0ED \uCFE0\uBC84\uB124\uD2F0\uC2A4 \uC5D0\uC774\uC804\uD2B8 ",(0,c.jsx)(n.em,{children:"YAML"})," \uC218\uC815"]}),(0,c.jsxs)(n.p,{children:["\uC640\uD0ED \uCFE0\uBC84\uB124\uD2F0\uC2A4 \uC5D0\uC774\uC804\uD2B8 ",(0,c.jsx)(n.em,{children:"YAML"})," \uD30C\uC77C\uC744 \uC218\uC815\uD558\uC5EC \uCEE8\uD14C\uC774\uB108 \uC124\uC815\uC744 \uCD94\uAC00 \uD6C4 Secret\uC744 \uC5F0\uACB0\uD558\uC138\uC694."]})]}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,c.jsx)(n.h4,{id:"\uCEE8\uD14C\uC774\uB108-\uC124\uC815",children:"\uCEE8\uD14C\uC774\uB108 \uC124\uC815"}),(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["Deployment\uC758 ",(0,c.jsx)(n.code,{children:"whatap-control-plane-helper"})," \uCEE8\uD14C\uC774\uB108 \uB0B4 args \uC139\uC158\uC5D0 etcd \uAD00\uB828 \uC124\uC815\uC744 \uCD94\uAC00\uD558\uC138\uC694."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:"-collect_etcd_monitoring_enabled=true\n-etcd_hosts=\uC0AC\uC6A9\uC790\uC758_etcd_ip,\uC0AC\uC6A9\uC790\uC758_etcd_ip\n"})}),"\n",(0,c.jsx)(n.p,{children:"\uB2E4\uC74C \uC608\uC2DC\uB97C \uCC38\uC870\uD558\uC138\uC694."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",metastring:"title='Example'",children:"-etcd_hosts=192.168.1.45,192.168.1.46,192.168.1.47\n"})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["Deployment\uC758 ",(0,c.jsx)(n.code,{children:"whatap-master-agent"})," \uCEE8\uD14C\uC774\uB108\uC758 \uD658\uACBD \uBCC0\uC218(env)\uC5D0 \uB2E4\uC74C \uB0B4\uC6A9\uC744 \uCD94\uAC00\uD558\uC138\uC694."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:'- name: "collect_etcd_monitoring_enabled"\n  value: "true"\n'})}),"\n"]}),"\n"]})]}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,c.jsx)(n.h4,{id:"secret-\uC5F0\uACB0",children:"Secret \uC5F0\uACB0"}),(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["Deployment\uC758 ",(0,c.jsx)(n.code,{children:"whatap-master-agent"})," \uB0B4 volumes \uC139\uC158\uC5D0 Secret\uC744 \uCD94\uAC00\uD558\uC138\uC694."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",metastring:"{3}",children:'- name: "whatap-etcd-cert"\n  secret:\n    secretName: "whatap-etcd-cert"\n'})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"whatap-control-plane-helper"})," \uCEE8\uD14C\uC774\uB108\uC5D0 \uD574\uB2F9 Secret\uC744 \uB9C8\uC6B4\uD2B8\uD558\uC138\uC694."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",metastring:"{2}",children:'volumeMounts:\n  - name: "whatap-etcd-cert"\n    readOnly: true\n    mountPath: "/etc/kubernetes/pki/etcd"\n'})}),"\n"]}),"\n"]})]}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,c.jsxs)(n.h4,{id:"\uC804\uCCB4-yaml-\uC608\uC2DC",children:["\uC804\uCCB4 ",(0,c.jsx)(n.em,{children:"YAML"})," \uC608\uC2DC"]}),(0,c.jsxs)(n.p,{children:["\uB2E4\uC74C\uC740 \uBAA8\uB4E0 \uC124\uC815\uC774 \uC801\uC6A9\uB41C ",(0,c.jsx)(n.em,{children:"YAML"})," \uD30C\uC77C \uC608\uC2DC\uC785\uB2C8\uB2E4. \uD558\uC774\uB77C\uC774\uD305\uB41C \uBD80\uBD84\uC744 \uCC38\uC870\uD558\uC138\uC694."]}),(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",metastring:"{31-34,55-56,64-67,76-78} ",children:'apiVersion: "apps/v1"\nkind: "Deployment"\nmetadata:\n  name: "whatap-master-agent"\n  namespace: "whatap-monitoring"\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      name: "whatap-master-agent"\n  template:\n    metadata:\n      labels:\n        name: "whatap-master-agent"\n    spec:\n      containers:\n      - command:\n        - "/bin/entrypoint.sh"\n        env:\n        - name: "WHATAP_LICENSE"\n          value: "x208gnc8i1kko-z2p19shk7npc4t-z788sgbj3n123a"\n        - name: "WHATAP_HOST"\n          value: "59.13.101.109"\n        - name: "WHATAP_PORT"\n          value: "61574"\n        - name: "WHATP_MEM_LIMIT"\n          valueFrom:\n            resourceFieldRef:\n              containerName: "whatap-master-agent"\n              resource: "limits.memory"\n        - name: "collect_control_plane_monitoring_enabled"\n          value: "true"\n        - name: "collect_etcd_monitoring_enabled"\n          value: "true"\n        image: "whatap/kube_mon"\n        name: "whatap-master-agent"\n        ports:\n        - containerPort: 6600\n        resources:\n          limits:\n            cpu: "200m"\n            memory: "350Mi"\n          requests:\n            cpu: "100m"\n            memory: "300Mi"\n        volumeMounts:\n        - mountPath: "/bin/entrypoint.sh"\n          name: "start-script-volume"\n          readOnly: true\n          subPath: "entrypoint.sh"\n        - mountPath: "/whatap_conf"\n          name: "whatap-config-volume"\n      - args:\n        - "-collect_control_plane_monitoring_enabled=true"\n        - "-collect_etcd_monitoring_enabled=true"\n        - "-etcd_hosts=192.168.1.45,192.168.1.46,192.168.1.47"\n        command:\n        - "/data/agent/master/whatap_control_plane_helper"\n        image: "whatap/kube_mon"\n        imagePullPolicy: "Always"\n        name: "whatap-control-plane-helper"\n        ports:\n        - containerPort: 9496\n        volumeMounts:\n          - name: "whatap-etcd-cert"\n            readOnly: true\n            mountPath: "/etc/kubernetes/pki/etcd"\n      serviceAccount: "whatap"\n      volumes:\n      - configMap:\n          defaultMode: 448\n          name: "master-start-script"\n        name: "start-script-volume"\n      - emptyDir: {}\n        name: "whatap-config-volume"\n      - name: "whatap-etcd-cert"\n        secret:\n          secretName: "whatap-etcd-cert" \n'})})]}),"\n",(0,c.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,c.jsx)(n.h2,{id:"etcd-metrics",children:"etcd \uBA54\uD2B8\uB9AD"}),(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"\uAD6C\uBD84"}),(0,c.jsx)(n.th,{children:"\uC124\uBA85"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Pod \uC218"})}),(0,c.jsx)(n.td,{children:"\uD604\uC7AC \uC874\uC7AC\uD558\uB294 etcd \uD30C\uB4DC\uC758 \uC218"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"etcd \uC7AC\uAE30\uB3D9 \uC218 \uCD94\uC774"})}),(0,c.jsx)(n.td,{children:"etcd \uD30C\uB4DC \uC7AC\uAE30\uB3D9 \uD69F\uC218 \uD569\uACC4 \uCD94\uC774"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"\uB9AC\uB354 \uBCC0\uACBD \uCD94\uC774"})}),(0,c.jsx)(n.td,{children:"etcd \uD30C\uB4DC \uB9AC\uB354 \uBCC0\uACBD \uD69F\uC218 \uCD94\uC774"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"\uB9AC\uB354 \uC874\uC7AC \uC720/\uBB34"})}),(0,c.jsx)(n.td,{children:"\uB9AC\uB354 \uC5ED\uD560\uC744 \uD558\uB294 etcd \uD30C\uB4DC\uC758 \uC874\uC7AC \uC5EC\uBD80"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"CPU \uC0AC\uC6A9\uB7C9 \uD569\uACC4"})}),(0,c.jsx)(n.td,{children:"etcd \uD30C\uB4DC CPU \uC0AC\uC6A9\uB7C9 \uD569\uACC4"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"CPU \uC0AC\uC6A9\uB7C9"})}),(0,c.jsx)(n.td,{children:"etcd \uD30C\uB4DC CPU \uC0AC\uC6A9\uB7C9 \uCD94\uC774"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Memory \uC0AC\uC6A9\uB7C9 \uD569\uACC4"})}),(0,c.jsx)(n.td,{children:"etcd \uD30C\uB4DC \uBA54\uBAA8\uB9AC \uC0AC\uC6A9\uB7C9 \uD569\uACC4"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Memory \uC0AC\uC6A9\uB7C9"})}),(0,c.jsx)(n.td,{children:"etcd \uD30C\uB4DC \uBA54\uBAA8\uB9AC \uC0AC\uC6A9\uB7C9 \uCD94\uC774"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Commit \uCD94\uC774"})}),(0,c.jsx)(n.td,{children:"etcd \uBCC0\uACBD \uC0AC\uD56D commit \uD69F\uC218"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Apply \uCD94\uC774"})}),(0,c.jsx)(n.td,{children:"commit \uC774\uD6C4 apply \uB41C \uD69F\uC218"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"etcd \uB85C\uADF8"})}),(0,c.jsx)(n.td,{children:"etcd \uD30C\uB4DC\uC5D0\uC11C \uBC1C\uC0DD\uD55C \uB85C\uADF8"})]})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}function m(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},50065:function(e,n,s){s.d(n,{Z:function(){return i},a:function(){return d}});var t=s(67294);let c={},r=t.createContext(c);function d(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);