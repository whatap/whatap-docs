"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["69689"],{27854:function(e,n,t){t.d(n,{Ay:()=>a,RM:()=>r});var s=t(74848),i=t(84429);let r=[];function o(e){let n={admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{InDoc:t,ScrollToLink:r}=n;return t||c("InDoc",!0),r||c("ScrollToLink",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t,{product:"java",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_user_cookie_limit"})," / ",(0,s.jsx)(n.strong,{children:"wclient_cookie_limit"})," ",(0,s.jsx)("span",{class:"type",children:"Int"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"2048"})]}),"\n",(0,s.jsx)(n.p,{children:"If cookies are issued for counting users, a cookie overflow may occur if there are too many cookies. To prevent this from happening, set the limit."}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["In case of Java Agent or later, use the ",(0,s.jsx)(n.code,{children:"wclient_cookie_limit"})," option."]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_user_using_ip"})," / ",(0,s.jsx)(n.strong,{children:"wclient_using_ip"})," ",(0,s.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"true"})]}),"\n",(0,s.jsxs)(n.p,{children:["It aggregates real-time users based on the IP address. If you want to distinguish users based on the cookie rather than IP addresses, change the value to ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["In case of Java Agent 2.2.0 or later, use the ",(0,s.jsx)(n.code,{children:"wclient_using_ip"})," option."]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"user_header_ticket"})," / ",(0,s.jsx)(n.strong,{children:"wclient_header_ticket"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:"To aggregate the numbers of users with a specific value in the HTTP header, set the key value. If headers are used to distinguish users in case of mobile clients, the following options are available."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"user_header_ticket=login\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["In case of Java Agent 2.2.0 or later, use the ",(0,s.jsx)(n.code,{children:"wclient_header_ticket"})," option."]})}),"\n"]}),"\n"]})}),"\n",(0,s.jsx)(t,{product:"nodejs",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_user_cookie_limit"})," ",(0,s.jsx)("span",{class:"type",children:"Int"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"2048"})]}),"\n",(0,s.jsx)(n.p,{children:"If cookies are issued for counting users, a cookie overflow may occur if there are too many cookies. To prevent this from happening, set the limit."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_user_using_ip"})," ",(0,s.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"true"})]}),"\n",(0,s.jsxs)(n.p,{children:["It aggregates real-time users based on the IP address. If you want to distinguish users based on the cookie rather than IP addresses, change the value to ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"user_header_ticket"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:"To aggregate the numbers of users with a specific value in the HTTP header, set the key value. If headers are used to distinguish users in case of mobile clients, the following options are available."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"user_header_ticket=login\n"})}),"\n"]}),"\n"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_http_client_ip_header_key"})," ",(0,s.jsx)("span",{class:"type",children:"String"})," ",(0,s.jsx)(r,{anchor:"trace_http_client_ip_header_key"})]}),"\n",(0,s.jsxs)(n.p,{children:["This function sets the client IP (remote IP) with a specific HTTP header value. In the proxy environment, the ",(0,s.jsx)(n.code,{children:"X-Forwarded-For"})," header can be set with the client IP."]}),"\n",(0,s.jsx)(n.p,{children:"If the load balancer like L4 is located before WEB/WAS, in some cases, the IP address of L4 becomes the remote address instead of the IP address of the client. In this situation, if the actual client IP is recorded as a specific key value in the HTTP header, it can be replaced with the corresponding key value."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_user_using_jsession"})," ",(0,s.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"false"})]}),"\n",(0,s.jsx)(n.p,{children:"It aggregates real-time users based on SESSIONID."}),"\n"]}),"\n"]})]})}function a(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}function c(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},88112:function(e,n,t){t.r(n),t.d(n,{metadata:()=>s,default:()=>u,frontMatter:()=>a,contentTitle:()=>c,toc:()=>d,assets:()=>l});var s=JSON.parse('{"id":"java/agent-number-of-user","title":"User count","description":"The following explains how to count the number of users connected to the Java web application server through agent settings. It includes the setting whether to enable real-time user counting, setting of the cookie limit to count users, the method how to count users based on the IP address or specific HTTP header values, and setting of HTTP headers to trace client IPs.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/java/agent-number-of-user.mdx","sourceDirName":"java","slug":"/java/agent-number-of-user","permalink":"/whatap-docs/java/agent-number-of-user","draft":false,"unlisted":false,"editUrl":"undefined/docs/java/agent-number-of-user.mdx","tags":[],"version":"current","frontMatter":{"id":"agent-number-of-user","title":"User count","description":"The following explains how to count the number of users connected to the Java web application server through agent settings. It includes the setting whether to enable real-time user counting, setting of the cookie limit to count users, the method how to count users based on the IP address or specific HTTP header values, and setting of HTTP headers to trace client IPs.","keywords":["Java","Application","Agent"],"isTranslationMissing":false},"sidebar":"javaSidebar","previous":{"title":"Script plug-in","permalink":"/whatap-docs/java/script-plugin"},"next":{"title":"Load balancing","permalink":"/whatap-docs/java/agent-load-amount"}}'),i=t(74848),r=t(84429),o=t(27854);let a={id:"agent-number-of-user",title:"User count",description:"The following explains how to count the number of users connected to the Java web application server through agent settings. It includes the setting whether to enable real-time user counting, setting of the cookie limit to count users, the method how to count users based on the IP address or specific HTTP header values, and setting of HTTP headers to trace client IPs.",keywords:["Java","Application","Agent"],isTranslationMissing:!1},c,l={},d=[...o.RM];function h(e){let n={admonition:"admonition",blockquote:"blockquote",code:"code",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The following explains how to count the number of users connected to the Java web application server through agent settings. It includes the setting whether to enable real-time user counting, setting of the cookie limit to count users, the method how to count users based on the IP address or specific HTTP header values, and setting of HTTP headers to trace client IPs."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"trace_user_enabled"})," ",(0,i.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,i.jsxs)(n.p,{children:["Default ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsx)(n.p,{children:"Set whether or not to aggregate real-time users. If the user tracing option setting is duplicated, the action priority is as follows."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"trace_user_using_ip"})," / ",(0,i.jsx)(n.strong,{children:"wclient_using_ip"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"trace_user_using_jsession"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"user_header_ticket"})," / ",(0,i.jsx)(n.strong,{children:"wclient_header_ticket"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["In case of Java Agent 2.2.0 or later, use the ",(0,i.jsx)(n.code,{children:"wclient_using_ip"})," and ",(0,i.jsx)(n.code,{children:"wclient_header_ticket"})," options."]})}),"\n"]}),"\n"]}),"\n","\n",(0,i.jsx)(o.Ay,{})]})}function u(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},84429:function(e,n,t){t.d(n,{R:()=>o,x:()=>a});var s=t(96540);let i={},r=s.createContext(i);function o(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);