"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["86978"],{22013:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,default:()=>h,frontMatter:()=>a,contentTitle:()=>r,toc:()=>l,assets:()=>c});var i=JSON.parse('{"id":"dotnet/quick-start","title":"Quick installation and troubleshooting","description":"The following provides a guide so you can quickly use the WhaTap .NET monitoring service features.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/dotnet/quick-start.mdx","sourceDirName":"dotnet","slug":"/dotnet/quick-start","permalink":"/whatap-docs/dotnet/quick-start","draft":false,"unlisted":false,"editUrl":"undefined/docs/dotnet/quick-start.mdx","tags":[],"version":"current","frontMatter":{"id":"quick-start","title":"Quick installation and troubleshooting","description":"The following provides a guide so you can quickly use the WhaTap .NET monitoring service features.","toc_max_heading_level":2,"keywords":["Application",".NET","Agent Installation","Troubleshooting","Quick Guide"],"isTranslationMissing":false},"sidebar":"dotNetSidebar","previous":{"title":"Troubleshooting","permalink":"/whatap-docs/dotnet/agent-troubleshooting"},"next":{"title":"Configuration","permalink":"/whatap-docs/dotnet/set-agent"}}'),s=t(74848),o=t(84429);let a={id:"quick-start",title:"Quick installation and troubleshooting",description:"The following provides a guide so you can quickly use the WhaTap .NET monitoring service features.",toc_max_heading_level:2,keywords:["Application",".NET","Agent Installation","Troubleshooting","Quick Guide"],isTranslationMissing:!1},r,c={},l=[{value:"During installation of agent",id:"during-installation-of-agent",level:2},{value:"In case of use of Windows Server 2008 or .NET version lower than 4.6.1",id:"in-case-of-use-of-windows-server-2008-or-net-version-lower-than-461",level:3},{value:"After installation of agent",id:"after-installation-of-agent",level:2},{value:"In case of no collection of data",id:"in-case-of-no-collection-of-data",level:3},{value:"In case of no collection of hitmap data",id:"in-case-of-no-collection-of-hitmap-data",level:3},{value:"In case it is in the supported environment or difficult to check the environment",id:"in-case-it-is-in-the-supported-environment-or-difficult-to-check-the-environment",level:3},{value:"Monitoring the WCF and officially unsupported libraries",id:"monitoring-the-wcf-and-officially-unsupported-libraries",level:2},{value:"Configuration options",id:"configuration-options",level:3},{value:"Usage examples",id:"usage-examples",level:3},{value:"whatap.conf modification",id:"whatapconf-modification",level:4},{value:"Finding the namespace and class name",id:"finding-the-namespace-and-class-name",level:2},{value:"In case of WCF",id:"in-case-of-wcf",level:3},{value:"In case of Web Service",id:"in-case-of-web-service",level:3},{value:"Configuration example",id:"configuration-example",level:3},{value:"In case transactions are captured but step are not displayed or too few",id:"in-case-transactions-are-captured-but-step-are-not-displayed-or-too-few",level:2}];function d(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Cmdname:t,ImgLang:i}=n;return t||p("Cmdname",!0),i||p("ImgLang",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"during-installation-of-agent",children:"During installation of agent"}),(0,s.jsxs)(n.p,{children:["For agent installation, see ",(0,s.jsx)(n.a,{href:"install-agent",children:"the following"})," from project creation to monitoring activation. After installation of the agent, ",(0,s.jsx)(n.strong,{children:"IIS"})," ",(0,s.jsx)(n.strong,{children:"restarts"}),"."]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"in-case-of-use-of-windows-server-2008-or-net-version-lower-than-461",children:"In case of use of Windows Server 2008 or .NET version lower than 4.6.1"}),(0,s.jsx)(n.p,{children:"For the WhaTap .NET agent, it is recommended to use Windows Server 2012 or .NET Framework 4.6.1 or later. If you are using a lower version, use the installer from the following link."}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://repo.whatap.io/windows/whatap_dotnet_450.exe",children:"Installation program"})}),"\n"]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"after-installation-of-agent",children:"After installation of agent"}),(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Delivery of errors and logs"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"When an error occurs, send us captured images of the error or the corresponding text."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Send us the agent's log file. The log file can be found in the following path. If there is no corresponding error, the folder may not exist."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"C:\\Program Files\\WhaTap .NET\\logs"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"C:\\ProgramData\\WhaTap"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"in-case-of-no-collection-of-data",children:"In case of no collection of data"}),(0,s.jsx)(i,{img:"dotnet-trst01.png",desc:"no monitoring data collection"}),(0,s.jsxs)(n.p,{children:["If all data is not collected properly in ",(0,s.jsx)(t,{sid:"TTL07975",className:"uitext"})," as shown in the example, check the following."]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Make sure the access key and collection server information are entered correctly."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Check the firewall configuration of the server. The outbound ",(0,s.jsx)(n.strong,{children:"6600"})," port must be open."]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"in-case-of-no-collection-of-hitmap-data",children:"In case of no collection of hitmap data"}),(0,s.jsx)(i,{img:"dotnet-trst02.png",desc:"no hitmap data collection"}),(0,s.jsxs)(n.p,{children:["If the hitmaps are not collected properly as shown in the example, check whether the target application is in the supported environment. For the supported environment, see ",(0,s.jsx)(n.a,{href:"https://docs.whatap.io/dotnet/supported-spec",children:"the following"}),"."]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"in-case-it-is-in-the-supported-environment-or-difficult-to-check-the-environment",children:"In case it is in the supported environment or difficult to check the environment"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Send us the ",(0,s.jsx)(n.em,{children:"web.config"})," file of the target application."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Send us the project file (",(0,s.jsx)(n.em,{children:"*.csproj"}),") of the target application."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"You can use AI to check if the environment supports the .NET agent through the following link."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://whatap-dotnet.s3.ap-northeast-2.amazonaws.com/analysis.html",children:".NET agent support environment analysis"})}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"monitoring-the-wcf-and-officially-unsupported-libraries",children:"Monitoring the WCF and officially unsupported libraries"}),(0,s.jsx)(n.p,{children:"To monitor the libraries that are not officially supported by the WhaTap .NET agent, such as Windows Communication Foundation (WCF), see the following instructions."}),(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsx)(n.p,{children:"Extensive settings may cause excessive traffic."})]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"configuration-options",children:"Configuration options"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"webservice_method_enabled"})," ",(0,s.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"false"})]}),"\n",(0,s.jsxs)(n.p,{children:["If the value is set to ",(0,s.jsx)(n.code,{children:"true"}),", the web services can be traced."]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsx)(n.p,{children:"After changing the option, you must restart IIS for the changes to take effect."})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"webservice_method_prefix"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:"Enter the namespace and class name where the method to trace has been defined in the value."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"When you enter the name of the class to which the method belongs, all public methods within the class become the targets to trace."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The methods that meet the conditions are not using the web service, they become the targets to trace. This option is designed for the WCF and web service monitoring but can be used for various purposes."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsx)(n.p,{children:"After changing the option, you must restart IIS for the changes to take effect."})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"webservice_method_prefix_realtime"})," ",(0,s.jsx)("span",{class:"type",children:"Boolean"})," ",(0,s.jsx)(n.a,{href:"../release-notes/dotnet/dotnet-2_3_6",children:(0,s.jsx)("code",{className:"my",children:".NET Agent v2.3.6 or later"})})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"false"})]}),"\n",(0,s.jsxs)(n.p,{children:["If you set the value to ",(0,s.jsx)(n.code,{children:"true"}),", the target of ",(0,s.jsx)(n.code,{children:"webservice_method_prefix"})," is processed in real time as the previous."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"webservice_method_timeout"})," ",(0,s.jsx)("span",{class:"type",children:"Milliseconds"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"5000"})]}),"\n",(0,s.jsxs)(n.p,{children:["If the monitored method is not completed within a specific time, a timeout is automatically set. The default value is 5 seconds (",(0,s.jsx)(n.code,{children:"5000"}),"ms)."]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsx)(n.section,{className:"remark-sectionize-h3",children:(0,s.jsx)(n.h3,{id:"usage-examples",children:"Usage examples"})}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,s.jsx)(n.h4,{id:"whatapconf-modification",children:"whatap.conf modification"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf' {11,12}",children:"license= ## access key\nwhatap.server.host=15.165.146.117\nwhatap.server.port=6600\napp_process_name=w3wp.exe\ntag_counter_enabled=true\nperfcounter.enabled=true\napp_name= ## application name\nOID= ## agent ID\n\nwebservice_method_enabled=true\nwebservice_method_prefix=Whatap.Service.Controller, Whatap.DotNet.Examples.Service1\nwebservice_method_timeout=10000\n"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Because you specified the call path of the namespace-included method to be traced with the ",(0,s.jsx)(n.code,{children:"webservice_method_prefix"})," option, the start and end of the function is treated as transactions if one of the following occurs:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"Whatap.Service.Controller"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"Whatap.DotNet.Examples.Service1"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Because ",(0,s.jsx)(n.code,{children:"webservice_method_timeout"})," has been set to 10000 ms, transactions that take more than 10 seconds are automatically terminated."]}),"\n"]}),"\n"]}),(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsxs)(n.p,{children:["The settings can be changed through the ",(0,s.jsx)(t,{sid:"side_management",className:"uitext"})," > ",(0,s.jsx)(t,{sid:"agent_configuration",className:"uitext"})," menu as follows:"]}),(0,s.jsx)(i,{img:"dotnet-trst03.png",desc:"Agent CONFIG."})]})]}),"\n",(0,s.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,s.jsx)(n.h2,{id:"finding-the-namespace-and-class-name",children:"Finding the namespace and class name"})}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"in-case-of-wcf",children:"In case of WCF"}),(0,s.jsxs)(n.p,{children:["For WCF, the ",(0,s.jsx)(n.em,{children:"*.svc"})," files are searched in the deployment folder. Open this file with a text editor such as Notepad and then check the value specified in the ",(0,s.jsx)(n.code,{children:"Service"})," field. This value needs to be added to ",(0,s.jsx)(n.code,{children:"webservice_method_prefix"}),"."]}),(0,s.jsx)(i,{img:"dotnet-quick-pic-01.png",desc:"WCF setting example"})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"in-case-of-web-service",children:"In case of Web Service"}),(0,s.jsxs)(n.p,{children:["For web services, the ",(0,s.jsx)(n.em,{children:"*.asmx"})," files are searched in the deployment folder. Open this file with Notepad and then check the value specified in the ",(0,s.jsx)(n.code,{children:"Class"})," field. This value needs to be added to ",(0,s.jsx)(n.code,{children:"webservice_method_prefix"}),"."]}),(0,s.jsx)(i,{img:"dotnet-quick-pic-02.png",desc:"Web Service setting example"})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"configuration-example",children:"Configuration example"}),(0,s.jsx)(n.p,{children:"See the following configuration example."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"webservice_method_enabled=true\nwebservice_method_prefix=wcfServer.Service1, WebServiceDemo.WebService\n"})}),(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsx)(n.p,{children:"After changing the option, you must restart IIS for the changes to take effect."})]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"in-case-transactions-are-captured-but-step-are-not-displayed-or-too-few",children:"In case transactions are captured but step are not displayed or too few"}),(0,s.jsxs)(n.p,{children:["If transactions are detected but steps are not visible or insufficient, you can expand the monitoring scope via ",(0,s.jsx)(n.code,{children:"Method hook"}),". See the following configuration example. The configuration example allows you to display the items excluded from the monitoring scope in the basic library as step information."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"hook_methods_enabled=true\nhook_methods_prefix=System.Net.Http.HttpClient., System.Net.WebRequest., System.Data., System.Net.Http.,\n# hook_methods_ignores=get,set\n"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"hook_methods_prefix"}),": In the step, it displays all methods that start with the specified value."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"hook_methods_ignores"}),": It excludes all methods starting with the specified value from monitoring."]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsx)(n.p,{children:"After changing the option, you must restart IIS for the changes to take effect."})]}),"\n"]}),"\n"]})]})]})}function h(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}function p(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},84429:function(e,n,t){t.d(n,{R:()=>a,x:()=>r});var i=t(96540);let s={},o=i.createContext(s);function a(e){let n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);