"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["50288"],{39616:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>l,metadata:()=>r,assets:()=>d,toc:()=>a,contentTitle:()=>c});var r=JSON.parse('{"id":"kubernetes/openagent","title":"\uC624\uD508\uC5D0\uC774\uC804\uD2B8 \uAD6C\uC131","description":"OpenAgent(\uC624\uD508\uC5D0\uC774\uC804\uD2B8) \uAD6C\uC131 \uAC00\uC774\uB4DC\uC785\uB2C8\uB2E4.","source":"@site/docs/kubernetes/openagent.mdx","sourceDirName":"kubernetes","slug":"/kubernetes/openagent","permalink":"/whatap-docs/kubernetes/openagent","draft":false,"unlisted":false,"editUrl":"undefined/docs/kubernetes/openagent.mdx","tags":[],"version":"current","frontMatter":{"id":"openagent","title":"\uC624\uD508\uC5D0\uC774\uC804\uD2B8 \uAD6C\uC131","description":"OpenAgent(\uC624\uD508\uC5D0\uC774\uC804\uD2B8) \uAD6C\uC131 \uAC00\uC774\uB4DC\uC785\uB2C8\uB2E4.","keywords":["\uCFE0\uBC84\uB124\uD2F0\uC2A4","\uCFE0\uBC84\uB124\uD2F0\uC2A4 \uBAA8\uB2C8\uD130\uB9C1","\uC640\uD0ED \uC624\uD37C\uB808\uC774\uD130","\uC624\uD508\uC5D0\uC774\uC804\uD2B8"],"toc_max_heading_level":3,"isTranslationMissing":false},"sidebar":"kubeSidebar","previous":{"title":"APM \uC790\uB3D9 \uC124\uCE58 \uAD6C\uC131","permalink":"/whatap-docs/kubernetes/install-auto-application-agent"},"next":{"title":"WhaTap CR \uC124\uC815 \uC635\uC158","permalink":"/whatap-docs/kubernetes/whatap-cr-configuration-options"}}'),t=s("85893"),i=s("50065");let l={id:"openagent",title:"\uC624\uD508\uC5D0\uC774\uC804\uD2B8 \uAD6C\uC131",description:"OpenAgent(\uC624\uD508\uC5D0\uC774\uC804\uD2B8) \uAD6C\uC131 \uAC00\uC774\uB4DC\uC785\uB2C8\uB2E4.",keywords:["\uCFE0\uBC84\uB124\uD2F0\uC2A4","\uCFE0\uBC84\uB124\uD2F0\uC2A4 \uBAA8\uB2C8\uD130\uB9C1","\uC640\uD0ED \uC624\uD37C\uB808\uC774\uD130","\uC624\uD508\uC5D0\uC774\uC804\uD2B8"],toc_max_heading_level:3,isTranslationMissing:!1},c=void 0,d={},a=[{value:"\uC124\uC815",id:"\uC124\uC815",level:2},{value:"PodMetrics \uBC0F ServiceMetrics \uC124\uC815 \uC694\uC18C",id:"podmetrics-\uBC0F-servicemetrics-\uC124\uC815-\uC694\uC18C",level:3},{value:"StaticEndpoints \uC124\uC815 \uC694\uC18C",id:"staticendpoints-\uC124\uC815-\uC694\uC18C",level:3},{value:"addNodeLabel \uAE30\uB2A5",id:"addnodelabel-\uAE30\uB2A5",level:3},{value:"TLS \uC124\uC815",id:"tls-\uC124\uC815",level:2},{value:"HTTP vs HTTPS \uACB0\uC815 \uBC29\uBC95",id:"http-vs-https-\uACB0\uC815-\uBC29\uBC95",level:3},{value:"TLS \uC124\uC815 \uC635\uC158",id:"tls-\uC124\uC815-\uC635\uC158",level:3},{value:"insecureSkipVerify",id:"insecureskipverify",level:3},{value:"\uC124\uC815 \uC608\uC81C",id:"\uC124\uC815-\uC608\uC81C",level:3},{value:"\uBA54\uD2B8\uB9AD \uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815",id:"metricRelabelConfigs",level:2},{value:"\uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815 \uC694\uC18C",id:"\uC7AC\uB77C\uBCA8\uB9C1-\uC124\uC815-\uC694\uC18C",level:3},{value:"\uC9C0\uC6D0\uB418\uB294 \uC791\uC5C5(action)",id:"\uC9C0\uC6D0\uB418\uB294-\uC791\uC5C5action",level:3},{value:"\uD2B9\uC218 \uB808\uC774\uBE14",id:"\uD2B9\uC218-\uB808\uC774\uBE14",level:3},{value:"\uC608\uC81C",id:"\uC608\uC81C",level:3},{value:"\uC608\uC81C 1. \uD2B9\uC815 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0",id:"\uC608\uC81C-1-\uD2B9\uC815-\uBA54\uD2B8\uB9AD\uB9CC-\uC720\uC9C0",level:4},{value:"\uC608\uC81C 2. \uC815\uADDC\uC2DD\uC744 \uC0AC\uC6A9\uD55C \uBA54\uD2B8\uB9AD \uD544\uD130\uB9C1",id:"\uC608\uC81C-2-\uC815\uADDC\uC2DD\uC744-\uC0AC\uC6A9\uD55C-\uBA54\uD2B8\uB9AD-\uD544\uD130\uB9C1",level:4},{value:"\uC608\uC81C 3. \uB808\uC774\uBE14 \uC774\uB984 \uBCC0\uACBD",id:"\uC608\uC81C-3-\uB808\uC774\uBE14-\uC774\uB984-\uBCC0\uACBD",level:4},{value:"\uC608\uC81C 4. \uC5EC\uB7EC \uC18C\uC2A4 \uB808\uC774\uBE14 \uC870\uD569",id:"\uC608\uC81C-4-\uC5EC\uB7EC-\uC18C\uC2A4-\uB808\uC774\uBE14-\uC870\uD569",level:4},{value:"\uC608\uC81C 5. \uC815\uC801 \uB808\uC774\uBE14 \uCD94\uAC00",id:"\uC608\uC81C-5-\uC815\uC801-\uB808\uC774\uBE14-\uCD94\uAC00",level:4},{value:"\uC608\uC81C. \uC885\uD569\uC801\uC778 \uB3D9\uC791",id:"\uC608\uC81C-\uC885\uD569\uC801\uC778-\uB3D9\uC791",level:4},{value:"\uCFE0\uBC84\uB124\uD2F0\uC2A4 \uBA54\uD2B8\uB9AD \uC218\uC9D1 \uC608\uC81C",id:"\uCFE0\uBC84\uB124\uD2F0\uC2A4-\uBA54\uD2B8\uB9AD-\uC218\uC9D1-\uC608\uC81C",level:2}];function o(e){let n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,i.a)(),...e.components},{Cmdname:s}=n;return s||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Cmdname",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"OpenAgent\uB294 \uD504\uB85C\uBA54\uD14C\uC6B0\uC2A4 \uC5D4\uB4DC\uD3EC\uC778\uD2B8\uC5D0\uC11C \uBA54\uD2B8\uB9AD\uC744 \uC2A4\uD06C\uB798\uD551\uD558\uACE0,\xa0\uC774\uB97C \uCC98\uB9AC\uD558\uC5EC \uC640\uD0ED \uC11C\uBC84\uB85C \uC804\uC1A1\uD558\uB294 \uC5ED\uD560\uC744 \uD569\uB2C8\uB2E4.\n\uD504\uB85C\uBA54\uD14C\uC6B0\uC2A4 \uC5D4\uB4DC\uD3EC\uC778\uD2B8\uC5D0\uC11C \uBA54\uD2B8\uB9AD\uC744 \uC218\uC9D1\uD558\uACE0 \uC640\uD0ED \uC11C\uBC84\uB85C \uC804\uC1A1\uD558\uB294 Go \uAE30\uBC18 \uC5D0\uC774\uC804\uD2B8\uC785\uB2C8\uB2E4."}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"\uC124\uC815",children:"\uC124\uC815"}),(0,t.jsxs)(n.p,{children:["WhatapOperator \uC124\uCE58 \uD6C4, \uC0AC\uC6A9\uC790\uB294 ",(0,t.jsx)(n.code,{children:"WhatapAgent"})," CR(Custom Resource)\uC744 \uD1B5\uD574 ",(0,t.jsx)(s,{sid:"openmetrics",className:"uitext"})," \uB300\uC0C1\uC744 \uC124\uC815\uD569\uB2C8\uB2E4."]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"PodMonitor"}),": Pod \uB808\uC774\uBE14 \uC140\uB809\uD130\uB97C \uC774\uC6A9\uD55C \uB3D9\uC801 \uB514\uC2A4\uCEE4\uBC84\uB9AC (Prometheus Operator\uC758 PodMonitor\uC640 \uC720\uC0AC)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"ServiceMonitor"}),": Service \uB808\uC774\uBE14 \uC140\uB809\uD130\uB97C \uC774\uC6A9\uD55C \uB3D9\uC801 \uB514\uC2A4\uCEE4\uBC84\uB9AC (Prometheus Operator\uC758 ServiceMonitor\uC640 \uC720\uC0AC)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"StaticEndpoints"}),": \uACE0\uC815\uB41C IP \uC8FC\uC18C\uC640 \uD3EC\uD2B8\uB97C \uC9C1\uC811 \uC785\uB825 (Prometheus\uC758 static_configs\uC640 \uC720\uC0AC)"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'features:\n  openAgent:\n    enabled: true\n    targets:\n      # 1. PodMonitor: Pod \uB808\uC774\uBE14 \uC140\uB809\uD130\uB97C \uC774\uC6A9\uD55C \uB3D9\uC801 \uB514\uC2A4\uCEE4\uBC84\uB9AC\n      - targetName: my-app-pod-metrics\n        type: PodMonitor\n        namespaceSelector:\n          matchNames:\n            - "production"\n        selector:\n          matchLabels:\n            app: my-app\n        endpoints:\n        - port: "web-metrics"  # Pod Spec\uC5D0 \uC815\uC758\uB41C Port \uC774\uB984 \uB610\uB294 \uC2E4\uC81C Port \uBC88\uD638\n          path: "/metrics"     # \uAE30\uBCF8\uAC12\uC740 /metrics, \uD544\uC694\uC2DC \uC7AC\uC815\uC758\n          interval: "15s"      # \uAE30\uBCF8\uAC12\uC740 \uC804\uC5ED \uC124\uC815, \uD544\uC694\uC2DC \uC7AC\uC815\uC758\n          scheme: "http"\n          timeout: "10s"\n	        metricRelabelConfigs:  # \uC2A4\uD06C\uB798\uD551 \uD6C4 \uBA54\uD2B8\uB9AD \uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815\n	          - source_labels: [__name__]\n	            regex: "http_requests_total"\n	            action: keep\n	          - source_labels: [method]\n	            target_label: http_method\n	            replacement: "${1}"\n	            action: replace\n\n      # 2. ServiceMonitor: Service \uB808\uC774\uBE14 \uC140\uB809\uD130\uB97C \uC774\uC6A9\uD55C \uB3D9\uC801 \uB514\uC2A4\uCEE4\uBC84\uB9AC\n      - targetName: my-service-metrics\n        type: ServiceMonitor\n        namespaceSelector:\n          matchNames:\n            - "default"\n        selector:\n          matchLabels:\n            service: my-backend-service\n        endpoints:\n        - port: "http-metrics"  # Service Spec\uC5D0 \uC815\uC758\uB41C Port \uC774\uB984 \uB610\uB294 \uC2E4\uC81C Target Port \uBC88\uD638\n          path: "/actuator/prometheus"\n          interval: "30s"\n          metricRelabelConfigs:\n            - source_labels: [__name__]\n              regex: "jvm_.*"\n              action: keep\n            - source_labels: [area]\n              target_label: memory_area\n              replacement: "${1}"\n              action: replace\n\n      # 3. StaticEndpoints: \uACE0\uC815\uB41C IP \uC8FC\uC18C\uC640 \uD3EC\uD2B8\uB97C \uC9C1\uC811 \uC785\uB825\n      - targetName: my-external-db-metrics\n        type: StaticEndpoints\n        # enabled: true  # \uD0C0\uAC9F \uD65C\uC131\uD654 \uC5EC\uBD80 (\uAE30\uBCF8\uAC12: true, \uC0DD\uB7B5 \uAC00\uB2A5)\n        endpoints:\n          - address: "192.168.1.100:9100"\n            scheme: "http"\n            path: "/metrics"\n            interval: "60s"\n            metricRelabelConfigs:\n              - source_labels: [__name__]\n                regex: "node_(cpu|memory).*"\n                action: keep\n              - source_labels: [instance]\n                target_label: server\n                replacement: "${1}"\n                action: replace\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"podmetrics-\uBC0F-servicemetrics-\uC124\uC815-\uC694\uC18C",children:"PodMetrics \uBC0F ServiceMetrics \uC124\uC815 \uC694\uC18C"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"targetName"}),": \uD0C0\uAC9F\uC758 \uC774\uB984(\uB85C\uAE45 \uBC0F \uC2DD\uBCC4\uC6A9)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"type"}),': \uD0C0\uAC9F \uC720\uD615("PodMetrics" \uB610\uB294 "ServiceMetrics")']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"namespaceSelector"}),": \uC2A4\uD06C\uB798\uD551\uD560 \uB124\uC784\uC2A4\uD398\uC774\uC2A4"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchNames"}),": \uC774\uB984\uC73C\uB85C \uB124\uC784\uC2A4\uD398\uC774\uC2A4 \uC120\uD0DD"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchLabels"}),": \uB808\uC774\uBE14\uB85C \uB124\uC784\uC2A4\uD398\uC774\uC2A4 \uC120\uD0DD"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchExpressions"}),": \uD45C\uD604\uC2DD\uC73C\uB85C \uB124\uC784\uC2A4\uD398\uC774\uC2A4 \uC120\uD0DD"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"selector"}),": \uC2A4\uD06C\uB798\uD551\uD560 \uD30C\uB4DC \uB610\uB294 \uC11C\uBE44\uC2A4 \uC120\uD0DD"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchLabels"}),": \uB808\uC774\uBE14\uB85C \uD30C\uB4DC \uB610\uB294 \uC11C\uBE44\uC2A4 \uC120\uD0DD"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchExpressions"}),": \uD45C\uD604\uC2DD\uC73C\uB85C \uD30C\uB4DC \uB610\uB294 \uC11C\uBE44\uC2A4 \uC120\uD0DD"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"endpoints"}),": \uC2A4\uD06C\uB798\uD551\uD560 \uC5D4\uB4DC\uD3EC\uC778\uD2B8 \uC815\uC758"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"port"}),": \uC2A4\uD06C\uB798\uD551\uD560 \uD3EC\uD2B8 \uC774\uB984 \uB610\uB294 \uBC88\uD638"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"path"}),": \uBA54\uD2B8\uB9AD \uACBD\uB85C(\uAE30\uBCF8\uAC12\uC740 globalPath, \uD544\uC694\uC2DC \uC7AC\uC815\uC758)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"interval"}),": \uC2A4\uD06C\uB798\uD551 \uAC04\uACA9(\uAE30\uBCF8\uAC12\uC740 globalInterval, \uD544\uC694\uC2DC \uC7AC\uC815\uC758)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"scheme"}),": \uC2A4\uD06C\uB798\uD551 \uD504\uB85C\uD1A0\uCF5C(http \uB610\uB294 https, \uAE30\uBCF8\uAC12 http)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"timeout"}),": \uC2A4\uD06C\uB798\uD551 \uD0C0\uC784\uC544\uC6C3"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"honorLabels"}),": \uB300\uC0C1\uC5D0\uC11C \uC81C\uACF5\uD558\uB294 \uB808\uC774\uBE14\uC744 \uC6B0\uC120\uC2DC\uD560\uC9C0 \uC5EC\uBD80"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"metricRelabelConfigs"}),": \uC2A4\uD06C\uB798\uD551 \uD6C4 \uBA54\uD2B8\uB9AD \uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815(\uD504\uB85C\uBA54\uD14C\uC6B0\uC2A4\uC758 metric_relabel_configs\uC640 \uC720\uC0AC)"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"staticendpoints-\uC124\uC815-\uC694\uC18C",children:"StaticEndpoints \uC124\uC815 \uC694\uC18C"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"targetName"}),": \uD0C0\uAC9F\uC758 \uC774\uB984(\uB85C\uAE45 \uBC0F \uC2DD\uBCC4\uC6A9)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"type"}),': \uD0C0\uAC9F \uC720\uD615("StaticEndpoints")']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"endpoints"}),": \uC2A4\uD06C\uB798\uD551\uD560 \uC5D4\uB4DC\uD3EC\uC778\uD2B8 \uC815\uC758"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"address"}),": \uC2A4\uD06C\uB798\uD551\uD560 \uB300\uC0C1 \uC8FC\uC18C (IP",":PORT"," \uB610\uB294 HOSTNAME",":PORT",")"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"path"}),": \uBA54\uD2B8\uB9AD \uACBD\uB85C (\uAE30\uBCF8\uAC12: /metrics)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"scheme"}),": \uC2A4\uD06C\uB798\uD551 \uD504\uB85C\uD1A0\uCF5C (http \uB610\uB294 https, \uAE30\uBCF8\uAC12 http)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"interval"}),": \uC2A4\uD06C\uB798\uD551 \uAC04\uACA9 (\uAE30\uBCF8\uAC12: 60s)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"tlsConfig"}),": TLS \uC124\uC815"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"metricRelabelConfigs"}),": \uC2A4\uD06C\uB798\uD551 \uD6C4 \uBA54\uD2B8\uB9AD \uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"addnodelabel-\uAE30\uB2A5",children:"addNodeLabel \uAE30\uB2A5"}),(0,t.jsxs)(n.p,{children:["\uC2A4\uD06C\uB7A9 \uB300\uC0C1\uC774 \uB178\uB4DC\uC5D0 \uC2A4\uCF00\uC974\uB9C1 \uB418\uC5B4 \uC788\uB294 \uACBD\uC6B0 \xa0",(0,t.jsx)(n.code,{children:"addNodeLabel"}),"\xa0\uC635\uC158\uC744 \uC0AC\uC6A9\uD558\uC5EC \uC2A4\uCF00\uC904\uB9C1\uB41C \uB178\uB4DC\uC758 \uC774\uB984\uC744 \uBA54\uD2B8\uB9AD\uC5D0 \uB77C\uBCA8\uB85C \uCD94\uAC00\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uC124\uC815 \uC704\uCE58"}),": \uD0C0\uAC9F \uB808\uBCA8 \uB610\uB294 \uC5D4\uB4DC\uD3EC\uC778\uD2B8 \uB808\uBCA8\uC5D0\uC11C \uC124\uC815 \uAC00\uB2A5"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uAE30\uBCF8\uAC12"}),":\xa0",(0,t.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uB3D9\uC791"}),":\xa0",(0,t.jsx)(n.code,{children:"true"}),"\uB85C \uC124\uC815\uD558\uBA74 \uBAA8\uB4E0 \uBA54\uD2B8\uB9AD\uC5D0\xa0",(0,t.jsx)(n.code,{children:"node"}),"\xa0\uB77C\uBCA8\uC774 \uCD94\uAC00\uB418\uBA70, \uC624\uBE0C\uC81D\uD2B8\uAC00 \uC2E4\uD589 \uC911\uC778 \uB178\uB4DC\uC758 \uC774\uB984\uC774 \uAC12\uC73C\uB85C \uCD94\uAC00\uB428"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:"title='\uC0AC\uC6A9\uC608\uC81C'",children:'# \uD0C0\uAC9F \uB808\uBCA8\uC5D0\uC11C addNodeLabel \uC124\uC815\n- targetName: node-exporter\n  type: PodMonitor\n  namespaceSelector:\n    matchNames:\n      - "monitoring"\n  selector:\n    matchLabels:\n      app: node-exporter\n  endpoints:\n    - port: "metrics"\n      path: "/metrics"\n      interval: "30s"\n      addNodeLabel: true  # \uC774 \uC5D4\uB4DC\uD3EC\uC778\uD2B8\uC5D0 \uB178\uB4DC \uB77C\uBCA8 \uCD94\uAC00\n      metricRelabelConfigs:\n        # \uB178\uB4DC \uB77C\uBCA8\uC744 \uC0AC\uC6A9\uD55C \uC7AC\uB77C\uBCA8\uB9C1 \uC608\uC81C\n        - source_labels: [node]\n          target_label: kubernetes_node\n          action: replace\n\n# \uC5D4\uB4DC\uD3EC\uC778\uD2B8 \uB808\uBCA8\uC5D0\uC11C addNodeLabel \uC124\uC815\n- targetName: dcgm-exporter\n  type: PodMonitor\n  namespaceSelector:\n    matchNames:\n      - "kube-system"\n  selector:\n    matchLabels:\n      app: dcgm-exporter\n  endpoints:\n  - port: "metrics"\n    path: "/metrics"\n    interval: "30s"\n    addNodeLabel: true  # \uC774 \uC5D4\uB4DC\uD3EC\uC778\uD2B8\uC5D0\uB9CC \uB178\uB4DC \uB77C\uBCA8 \uCD94\uAC00\n		metricRelabelConfigs:\n      - source_labels: [node]\n        target_label: gpu_node\n        action: replace\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"tls-\uC124\uC815",children:"TLS \uC124\uC815"}),(0,t.jsx)(n.p,{children:"OpenAgent\uB294 HTTPS \uC5D4\uB4DC\uD3EC\uC778\uD2B8\uC5D0 \uC5F0\uACB0\uD560 \uB54C TLS(Transport Layer Security)\uB97C \uC9C0\uC6D0\uD569\uB2C8\uB2E4.\xa0\uB2E4\uC74C\uC740 TLS \uAD00\uB828 \uC124\uC815 \uC635\uC158\uC785\uB2C8\uB2E4."})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"http-vs-https-\uACB0\uC815-\uBC29\uBC95",children:"HTTP vs HTTPS \uACB0\uC815 \uBC29\uBC95"}),(0,t.jsx)(n.p,{children:"OpenAgent\uB294 \uB2E4\uC74C\uACFC \uAC19\uC740 \uADDC\uCE59\uC5D0 \uB530\uB77C HTTP \uB610\uB294 HTTPS \uD504\uB85C\uD1A0\uCF5C\uC744 \uC0AC\uC6A9\uD560\uC9C0 \uACB0\uC815\uD569\uB2C8\uB2E4."}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"PodMonitor \uBC0F ServiceMonitor \uD0C0\uAC9F"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'\uD3EC\uD2B8 \uC774\uB984\uC774 "https"\uC778 \uACBD\uC6B0 \uAE30\uBCF8\uC801\uC73C\uB85C HTTPS\uB97C \uC0AC\uC6A9\uD569\uB2C8\uB2E4.'}),"\n",(0,t.jsx)(n.li,{children:"\uADF8 \uC678\uC758 \uACBD\uC6B0 \uAE30\uBCF8\uC801\uC73C\uB85C HTTP\uB97C \uC0AC\uC6A9\uD569\uB2C8\uB2E4."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"StaticEndpoints \uD0C0\uAC9F"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"TLS \uC124\uC815\uC774 \uC874\uC7AC\uD558\uB294 \uACBD\uC6B0 \uAE30\uBCF8\uC801\uC73C\uB85C HTTPS\uB97C \uC0AC\uC6A9\uD569\uB2C8\uB2E4."}),"\n",(0,t.jsx)(n.li,{children:"\uADF8 \uC678\uC758 \uACBD\uC6B0 \uAE30\uBCF8\uC801\uC73C\uB85C HTTP\uB97C \uC0AC\uC6A9\uD569\uB2C8\uB2E4."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uBAA8\uB4E0 \uD0C0\uAC9F \uC720\uD615"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\uC5D4\uB4DC\uD3EC\uC778\uD2B8\uB098 \uD0C0\uAC9F\uC5D0 \uBA85\uC2DC\uC801\uC73C\uB85C\xa0",(0,t.jsx)(n.code,{children:"scheme"}),"\xa0\uC124\uC815\uC774 \uC788\uB294 \uACBD\uC6B0, \uC774 \uC124\uC815\uC774 \uAE30\uBCF8\uAC12\uC744 \uC7AC\uC815\uC758\uD569\uB2C8\uB2E4."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"tls-\uC124\uC815-\uC635\uC158",children:"TLS \uC124\uC815 \uC635\uC158"}),(0,t.jsxs)(n.p,{children:["TLS \uC124\uC815\uC740\xa0",(0,t.jsx)(n.code,{children:"tlsConfig"}),"\xa0\uC139\uC158\uC5D0\uC11C \uAD6C\uC131\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'endpoints:\n  - port: "https"\n    path: "/metrics"\n    scheme: "https"  # \uBA85\uC2DC\uC801\uC73C\uB85C HTTPS \uC0AC\uC6A9 \uC9C0\uC815\n    tlsConfig:\n      insecureSkipVerify: true  # \uC778\uC99D\uC11C \uAC80\uC99D \uAC74\uB108\uB6F0\uAE30\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"insecureskipverify",children:"insecureSkipVerify"}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"insecureSkipVerify"}),"\xa0\uC635\uC158\uC740 \uC11C\uBC84 \uC778\uC99D\uC11C\uC758 \uC720\uD6A8\uC131 \uAC80\uC0AC\uB97C \uAC74\uB108\uB6F0\uB3C4\uB85D \uC124\uC815\uD569\uB2C8\uB2E4.\xa0\uC774 \uC635\uC158\uC740 \uB2E4\uC74C\uACFC \uAC19\uC740 \uACBD\uC6B0\uC5D0 \uC720\uC6A9\uD569\uB2C8\uB2E4."]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\uC790\uCCB4 \uC11C\uBA85\uB41C \uC778\uC99D\uC11C\uB97C \uC0AC\uC6A9\uD558\uB294 \uC11C\uBC84\uC5D0 \uC5F0\uACB0\uD560 \uB54C"}),"\n",(0,t.jsx)(n.li,{children:"\uAC1C\uBC1C \uB610\uB294 \uD14C\uC2A4\uD2B8 \uD658\uACBD\uC5D0\uC11C \uC778\uC99D\uC11C \uAC80\uC99D\uC774 \uD544\uC694\uD558\uC9C0 \uC54A\uC744 \uB54C"}),"\n",(0,t.jsx)(n.li,{children:"\uB0B4\uBD80 \uB124\uD2B8\uC6CC\uD06C\uC5D0\uC11C \uC2E0\uB8B0\uD560 \uC218 \uC788\uB294 \uC11C\uBC84\uC5D0 \uC5F0\uACB0\uD560 \uB54C"}),"\n"]}),(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uC8FC\uC758"})}),(0,t.jsxs)(n.p,{children:["\uD504\uB85C\uB355\uC158 \uD658\uACBD\uC5D0\uC11C\uB294 \uBCF4\uC548\uC0C1\uC758 \uC774\uC720\uB85C\xa0",(0,t.jsx)(n.code,{children:"insecureSkipVerify: false"}),"\uB97C \uC0AC\uC6A9\uD558\uB294 \uAC83\uC774 \uC88B\uC2B5\uB2C8\uB2E4.\xa0\uC790\uCCB4 \uC11C\uBA85\uB41C \uC778\uC99D\uC11C\uB97C \uC0AC\uC6A9\uD558\uB294 \uACBD\uC6B0,\xa0\uC778\uC99D\uC11C\uB97C \uC2E0\uB8B0\uD560 \uC218 \uC788\uB294 \uC778\uC99D \uAE30\uAD00(CA)\uC73C\uB85C \uCD94\uAC00\uD558\uB294 \uAC83\uC774 \uB354 \uC548\uC804\uD55C \uBC29\uBC95\uC785\uB2C8\uB2E4."]})]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC124\uC815-\uC608\uC81C",children:"\uC124\uC815 \uC608\uC81C"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:"title='ServiceMonitor\uC5D0\uC11C TLS \uC124\uC815 \uC608\uC81C'",children:'- targetName: kube-apiserver\n  type: ServiceMonitor\n  namespaceSelector:\n    matchNames:\n      - "default"\n  selector:\n    matchLabels:\n      component: apiserver\n      provider: kubernetes\n  endpoints:\n    - port: "https"  # \uD3EC\uD2B8 \uC774\uB984\uC774 "https"\uC774\uBBC0\uB85C \uAE30\uBCF8\uC801\uC73C\uB85C HTTPS \uC0AC\uC6A9\n      path: "/metrics"\n      interval: "30s"\n      scheme: "https"  # \uBA85\uC2DC\uC801\uC73C\uB85C HTTPS \uC9C0\uC815 (\uC120\uD0DD\uC0AC\uD56D)\n      tlsConfig:\n        insecureSkipVerify: true  # \uC778\uC99D\uC11C \uAC80\uC99D \uAC74\uB108\uB6F0\uAE30\n      metricRelabelConfigs:\n        - source_labels: [__name__]\n          regex: "apiserver_request_total"\n          action: keep\n        - source_labels: [verb]\n          target_label: http_verb\n          replacement: "${1}"\n          action: replace\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"metricRelabelConfigs",children:"\uBA54\uD2B8\uB9AD \uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815"}),(0,t.jsx)(n.p,{children:"OpenAgent\uB294 \uD504\uB85C\uBA54\uD14C\uC6B0\uC2A4\uC758 metric_relabel_configs\uC640 \uC720\uC0AC\uD55C \uBA54\uD2B8\uB9AD \uC7AC\uB77C\uBCA8\uB9C1 \uAE30\uB2A5\uC744 \uC9C0\uC6D0\uD569\uB2C8\uB2E4.\xa0\uC774 \uAE30\uB2A5\uC744 \uC0AC\uC6A9\uD558\uBA74 \uC2A4\uD06C\uB798\uD551 \uD6C4 \uBA54\uD2B8\uB9AD\uC744 \uD544\uD130\uB9C1\uD558\uAC70\uB098 \uB808\uC774\uBE14\uC744 \uBCC0\uACBD\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC7AC\uB77C\uBCA8\uB9C1-\uC124\uC815-\uC694\uC18C",children:"\uC7AC\uB77C\uBCA8\uB9C1 \uC124\uC815 \uC694\uC18C"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"source_labels"}),": \uC18C\uC2A4 \uB808\uC774\uBE14 \uBAA9\uB85D(\uBC30\uC5F4)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"separator"}),": \uC18C\uC2A4 \uB808\uC774\uBE14 \uAC12\uC744 \uC5F0\uACB0\uD560 \uB54C \uC0AC\uC6A9\uD560 \uAD6C\uBD84\uC790(\uAE30\uBCF8\uAC12:\xa0",(0,t.jsx)(n.code,{children:";"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"target_label"}),": \uB300\uC0C1 \uB808\uC774\uBE14(\uACB0\uACFC\uB97C \uC800\uC7A5\uD560 \uB808\uC774\uBE14)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"regex"}),": \uC18C\uC2A4 \uB808\uC774\uBE14 \uAC12\uC5D0 \uC801\uC6A9\uD560 \uC815\uADDC\uC2DD"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"replacement"}),": \uB300\uCCB4 \uAC12(\uC815\uADDC\uC2DD \uCEA1\uCC98 \uADF8\uB8F9 \uCC38\uC870 \uAC00\uB2A5, \uC608:\xa0",(0,t.jsx)(n.code,{children:"${1}"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"action"}),": \uC218\uD589\uD560 \uC791\uC5C5(keep, drop, replace)"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uC9C0\uC6D0\uB418\uB294-\uC791\uC5C5action",children:"\uC9C0\uC6D0\uB418\uB294 \uC791\uC5C5(action)"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"keep"}),": \uC815\uADDC\uC2DD\uACFC \uC77C\uCE58\uD558\uB294 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"drop"}),": \uC815\uADDC\uC2DD\uACFC \uC77C\uCE58\uD558\uB294 \uBA54\uD2B8\uB9AD \uC81C\uAC70"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"replace"}),": \uB300\uC0C1 \uB808\uC774\uBE14\uC758 \uAC12\uC744 \uB300\uCCB4 \uAC12\uC73C\uB85C \uBCC0\uACBD"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"\uD2B9\uC218-\uB808\uC774\uBE14",children:"\uD2B9\uC218 \uB808\uC774\uBE14"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"name"}),": \uBA54\uD2B8\uB9AD \uC774\uB984\uC744 \uB098\uD0C0\uB0B4\uB294 \uD2B9\uC218 \uB808\uC774\uBE14"]}),"\n"]})]}),"\n",(0,t.jsx)(n.section,{className:"remark-sectionize-h3",children:(0,t.jsx)(n.h3,{id:"\uC608\uC81C",children:"\uC608\uC81C"})}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"\uC608\uC81C-1-\uD2B9\uC815-\uBA54\uD2B8\uB9AD\uB9CC-\uC720\uC9C0",children:"\uC608\uC81C 1. \uD2B9\uC815 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0"}),(0,t.jsxs)(n.p,{children:["\uC774 \uC124\uC815\uC740\xa0",(0,t.jsx)(n.code,{children:"http_requests_total"}),"\xa0\uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uD558\uACE0 \uB098\uBA38\uC9C0\uB294 \uBAA8\uB450 \uC81C\uAC70\uD569\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - source_labels: [__name__]\n    regex: "http_requests_total"\n    action: keep\n'})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB3D9\uC791 \uC608\uC2DC"})}),"\n",(0,t.jsx)(n.p,{children:"\uC6D0\uB798 \uC2A4\uD06C\uB7A9\uB41C \uBA54\uD2B8\uB9AD\uC774 \uB2E4\uC74C\uACFC \uAC19\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", status="200"} 100\nhttp_errors_total{method="GET", status="500"} 5\nnode_cpu_seconds_total{cpu="0", mode="idle"} 1000\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74 ",(0,t.jsx)(n.code,{children:"http_requests_total"}),"\xa0\uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uB418\uACE0 \uB2E4\uB978 \uBA54\uD2B8\uB9AD\uB4E4\uC740 \uBAA8\uB450 \uC81C\uAC70\uB429\uB2C8\uB2E4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", status="200"} 100\n'})}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"\uC608\uC81C-2-\uC815\uADDC\uC2DD\uC744-\uC0AC\uC6A9\uD55C-\uBA54\uD2B8\uB9AD-\uD544\uD130\uB9C1",children:"\uC608\uC81C 2. \uC815\uADDC\uC2DD\uC744 \uC0AC\uC6A9\uD55C \uBA54\uD2B8\uB9AD \uD544\uD130\uB9C1"}),(0,t.jsxs)(n.p,{children:["\uC774 \uC124\uC815\uC740\xa0",(0,t.jsx)(n.code,{children:"node_cpu"}),"\uB098\xa0",(0,t.jsx)(n.code,{children:"node_memory"}),"\uB85C \uC2DC\uC791\uD558\uB294 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uD569\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - source_labels: [__name__]\n    regex: "node_(cpu|memory).*"\n    action: keep\n'})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB3D9\uC791 \uC608\uC2DC"})}),"\n",(0,t.jsx)(n.p,{children:"\uC6D0\uB798 \uC2A4\uD06C\uB7A9\uB41C \uBA54\uD2B8\uB9AD\uC774 \uB2E4\uC74C\uACFC \uAC19\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'node_cpu_seconds_total{cpu="0", mode="idle"} 1000\nnode_memory_MemTotal_bytes{} 16777216\nnode_disk_io_time_seconds_total{device="sda"} 100\nhttp_requests_total{method="GET", status="200"} 100\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74 ",(0,t.jsx)(n.code,{children:"node_cpu"}),"\uB098\xa0",(0,t.jsx)(n.code,{children:"node_memory"}),"\uB85C \uC2DC\uC791\uD558\uB294 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uB418\uACE0 \uB2E4\uB978 \uBA54\uD2B8\uB9AD\uB4E4\uC740 \uBAA8\uB450 \uC81C\uAC70\uB429\uB2C8\uB2E4.\xa0\uC815\uADDC\uC2DD\uC744 \uC0AC\uC6A9\uD558\uC5EC \uC5EC\uB7EC \uBA54\uD2B8\uB9AD \uD328\uD134\uC744 \uD55C \uBC88\uC5D0 \uD544\uD130\uB9C1\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'node_cpu_seconds_total{cpu="0", mode="idle"} 1000\nnode_memory_MemTotal_bytes{} 16777216\n'})}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"\uC608\uC81C-3-\uB808\uC774\uBE14-\uC774\uB984-\uBCC0\uACBD",children:"\uC608\uC81C 3. \uB808\uC774\uBE14 \uC774\uB984 \uBCC0\uACBD"}),(0,t.jsxs)(n.p,{children:["\uC774 \uC124\uC815\uC740\xa0",(0,t.jsx)(n.code,{children:"method"}),"\xa0\uB808\uC774\uBE14\uC758 \uAC12\uC744\xa0",(0,t.jsx)(n.code,{children:"http_method"}),"\xa0\uB808\uC774\uBE14\uB85C \uBCF5\uC0AC\uD569\uB2C8\uB2E4."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - source_labels: [method]\n    target_label: http_method\n    replacement: "${1}"\n    action: replace\n\n'})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB3D9\uC791 \uC608\uC2DC"})}),"\n",(0,t.jsx)(n.p,{children:"\uC6D0\uB798 \uC2A4\uD06C\uB7A9\uB41C \uBA54\uD2B8\uB9AD\uC774 \uB2E4\uC74C\uACFC \uAC19\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200"} 100\nhttp_requests_total{method="POST", path="/api/users", status="201"} 50\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74 \uAC01 \uBA54\uD2B8\uB9AD\uC5D0\xa0",(0,t.jsx)(n.code,{children:"method"}),"\xa0\uB808\uC774\uBE14\uC758 \uAC12\uC744 \uBCF5\uC0AC\uD55C\xa0",(0,t.jsx)(n.code,{children:"http_method"}),"\xa0\uB808\uC774\uBE14\uC774 \uCD94\uAC00\uB429\uB2C8\uB2E4.\xa0\uC6D0\uB798 \uB808\uC774\uBE14\uC740 \uC720\uC9C0\uB418\uBA70,\xa0\uC0C8 \uB808\uC774\uBE14\uC774 \uCD94\uAC00\uB429\uB2C8\uB2E4.\xa0",(0,t.jsx)(n.code,{children:"${1}"}),"\uC740 \uC18C\uC2A4 \uB808\uC774\uBE14\uC758 \uAC12\uC744 \uCC38\uC870\uD569\uB2C8\uB2E4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200", http_method="GET"} 100\nhttp_requests_total{method="POST", path="/api/users", status="201", http_method="POST"} 50\n'})}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"\uC608\uC81C-4-\uC5EC\uB7EC-\uC18C\uC2A4-\uB808\uC774\uBE14-\uC870\uD569",children:"\uC608\uC81C 4. \uC5EC\uB7EC \uC18C\uC2A4 \uB808\uC774\uBE14 \uC870\uD569"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - source_labels: [__name__, status]\n    regex: "http_requests_total;(200|500)"\n    action: keep\n\n'})}),(0,t.jsxs)(n.p,{children:["\uC774 \uC124\uC815\uC740\xa0",(0,t.jsx)(n.code,{children:"http_requests_total"}),"\xa0\uBA54\uD2B8\uB9AD \uC911\xa0",(0,t.jsx)(n.code,{children:"status"}),"\xa0\uB808\uC774\uBE14\uC774\xa0",(0,t.jsx)(n.code,{children:"200"}),"\xa0\uB610\uB294\xa0",(0,t.jsx)(n.code,{children:"500"}),"\uC778 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uD569\uB2C8\uB2E4."]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB3D9\uC791 \uC608\uC2DC"})}),"\n",(0,t.jsx)(n.p,{children:"\uC6D0\uB798 \uC2A4\uD06C\uB7A9\uB41C \uBA54\uD2B8\uB9AD\uC774 \uB2E4\uC74C\uACFC \uAC19\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200"} 100\nhttp_requests_total{method="POST", path="/api/users", status="201"} 50\nhttp_requests_total{method="GET", path="/api/error", status="500"} 10\nhttp_requests_total{method="GET", path="/api/error", status="404"} 5\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74 ",(0,t.jsx)(n.code,{children:"http_requests_total"}),"\xa0\uBA54\uD2B8\uB9AD \uC911\uC5D0\uC11C\xa0",(0,t.jsx)(n.code,{children:"status"}),"\xa0\uB808\uC774\uBE14\uC774\xa0",(0,t.jsx)(n.code,{children:"200"}),"\xa0\uB610\uB294\xa0",(0,t.jsx)(n.code,{children:"500"}),"\uC778 \uBA54\uD2B8\uB9AD\uB9CC \uC720\uC9C0\uB429\uB2C8\uB2E4.\xa0\uC5EC\uB7EC \uC18C\uC2A4 \uB808\uC774\uBE14\uC744 \uC870\uD569\uD560 \uB54C\uB294 \uAE30\uBCF8\uC801\uC73C\uB85C\xa0",(0,t.jsx)(n.code,{children:";"}),"\xa0\uAD6C\uBD84\uC790\uB85C \uC5F0\uACB0\uB418\uBA70,\xa0\uC774\uB97C\xa0",(0,t.jsx)(n.code,{children:"separator"}),"\xa0\uD544\uB4DC\uB85C \uBCC0\uACBD\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200"} 100\nhttp_requests_total{method="GET", path="/api/error", status="500"} 10\n'})}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"\uC608\uC81C-5-\uC815\uC801-\uB808\uC774\uBE14-\uCD94\uAC00",children:"\uC608\uC81C 5. \uC815\uC801 \uB808\uC774\uBE14 \uCD94\uAC00"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'metricRelabelConfigs:\n  - target_label: metric_src\n    replacement: "whatap-open-agent"\n    action: replace\n\n'})}),(0,t.jsxs)(n.p,{children:["\uC774 \uC124\uC815\uC740 \uBAA8\uB4E0 \uBA54\uD2B8\uB9AD\uC5D0\xa0",(0,t.jsx)(n.code,{children:'metric_src="whatap-open-agent"'}),"\xa0\uB808\uC774\uBE14\uC744 \uCD94\uAC00\uD569\uB2C8\uB2E4.\xa0\uC18C\uC2A4 \uB808\uC774\uBE14\uC744 \uC9C0\uC815\uD558\uC9C0 \uC54A\uC73C\uBA74\xa0",(0,t.jsx)(n.code,{children:"replacement"}),"\xa0\uAC12\uC774 \uC9C1\uC811 \uB808\uC774\uBE14 \uAC12\uC73C\uB85C \uC0AC\uC6A9\uB429\uB2C8\uB2E4.\xa0\uC774 \uBC29\uBC95\uC744 \uC0AC\uC6A9\uD558\uC5EC \uBAA8\uB4E0 \uBA54\uD2B8\uB9AD\uC5D0 \uD658\uACBD,\xa0\uB9AC\uC804,\xa0\uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uC774\uB984 \uB4F1\uC758 \uC815\uC801 \uB808\uC774\uBE14\uC744 \uCD94\uAC00\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uB3D9\uC791 \uC608\uC2DC"})}),"\n",(0,t.jsx)(n.p,{children:"\uC6D0\uB798 \uC2A4\uD06C\uB7A9\uB41C \uBA54\uD2B8\uB9AD\uC774 \uB2E4\uC74C\uACFC \uAC19\uB2E4\uACE0 \uAC00\uC815\uD574 \uBD05\uC2DC\uB2E4:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200"} 100\nnode_cpu_seconds_total{cpu="0", mode="idle"} 1000\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74, \uBAA8\uB4E0 \uBA54\uD2B8\uB9AD\uC5D0\xa0",(0,t.jsx)(n.code,{children:'metric_src="whatap-open-agent"'}),"\xa0\uB808\uC774\uBE14\uC774 \uCD94\uAC00\uB429\uB2C8\uB2E4.\xa0\uC774 \uBC29\uBC95\uC740 \uBA54\uD2B8\uB9AD\uC758 \uCD9C\uCC98\uB97C \uD45C\uC2DC\uD558\uAC70\uB098,\xa0\uD658\uACBD(\uC608:\xa0production,\xa0staging),\xa0\uB9AC\uC804(\uC608:\xa0us-east,\xa0eu-west),\xa0\uB610\uB294 \uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uC774\uB984 \uB4F1\uC744 \uD45C\uC2DC\uD558\uB294 \uB370 \uC720\uC6A9\uD569\uB2C8\uB2E4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'http_requests_total{method="GET", path="/api", status="200", metric_src="whatap-open-agent"} 100\nnode_cpu_seconds_total{cpu="0", mode="idle", metric_src="whatap-open-agent"} 1000\n'})}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,t.jsx)(n.h4,{id:"\uC608\uC81C-\uC885\uD569\uC801\uC778-\uB3D9\uC791",children:"\uC608\uC81C. \uC885\uD569\uC801\uC778 \uB3D9\uC791"}),(0,t.jsx)(n.p,{children:"\uC6D0\uB798 \uC2A4\uD06C\uB7A9\uB41C \uBA54\uD2B8\uB9AD\uC774 \uB2E4\uC74C\uACFC \uAC19\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'apiserver_request_total{code="200", resource="pods", verb="GET"} 100\nsome_other_metric{label="value"} 50\n'})}),(0,t.jsx)(n.p,{children:"\uC704 metricRelabelConfigs\uB97C \uC801\uC6A9\uD558\uBA74"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\uCCAB \uBC88\uC9F8 \uB8F0(keep apiserver_request_total) \uC801\uC6A9:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"apiserver_request_total \uBA54\uD2B8\uB9AD\uC740 \uC720\uC9C0\uB429\uB2C8\uB2E4."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"some_other_metric \uBA54\uD2B8\uB9AD\uC740 \uB4DC\uB86D\uB429\uB2C8\uB2E4."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\uB450 \uBC88\uC9F8 \uB8F0(replace verb -> http_verb) \uC801\uC6A9:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\uC720\uC9C0\uB41C apiserver_request_total \uBA54\uD2B8\uB9AD\uC5D0 verb \uB808\uC774\uBE14\uC774 \uC788\uC73C\uBBC0\uB85C, \uC774 \uB808\uC774\uBE14\uC758 \uAC12(GET)\uC774 http_verb\uB77C\uB294 \uC0C8\uB85C\uC6B4 \uB808\uC774\uBE14\uB85C \uBCF5\uC0AC\uB429\uB2C8\uB2E4."}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.p,{children:"\uB530\uB77C\uC11C \uCD5C\uC885\uC801\uC73C\uB85C \uC218\uC9D1\uB418\uB294 \uBA54\uD2B8\uB9AD\uC740 \uB2E4\uC74C\uACFC \uAC19\uC2B5\uB2C8\uB2E4."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'apiserver_request_total{code="200", resource="pods", verb="GET", http_verb="GET"} 100\n'})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"\uCFE0\uBC84\uB124\uD2F0\uC2A4-\uBA54\uD2B8\uB9AD-\uC218\uC9D1-\uC608\uC81C",children:"\uCFE0\uBC84\uB124\uD2F0\uC2A4 \uBA54\uD2B8\uB9AD \uC218\uC9D1 \uC608\uC81C"}),(0,t.jsx)(n.p,{children:"\uB2E4\uC74C\uC740 \uCFE0\uBC84\uB124\uD2F0\uC2A4 API \uC11C\uBC84\uC5D0\uC11C \uBA54\uD2B8\uB9AD\uC744 \uC218\uC9D1\uD558\uB294 \uC608\uC81C\uC785\uB2C8\uB2E4."}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\uC774 \uC124\uC815\uC740 kube-system \uB124\uC784\uC2A4\uD398\uC774\uC2A4\uC5D0\uC11C component=apiserver \uBC0F provider=kubernetes \uB808\uC774\uBE14\uC744 \uAC00\uC9C4 \uC11C\uBE44\uC2A4\uB97C \uCC3E\uC544 \uD574\uB2F9 \uC11C\uBE44\uC2A4\uC758 \uC5D4\uB4DC\uD3EC\uC778\uD2B8\uC5D0\uC11C \uBA54\uD2B8\uB9AD\uC744 \uC218\uC9D1\uD569\uB2C8\uB2E4."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'metricRelabelConfigs\uB97C \uC0AC\uC6A9\uD558\uC5EC apiserver_request_total \uBA54\uD2B8\uB9AD\uB9CC \uC218\uC9D1\uD558\uACE0,\xa0verb \uB808\uC774\uBE14\uC744 http_verb \uB808\uC774\uBE14\uB85C \uBCC0\uD658\uD558\uBA70,\xa0\uBAA8\uB4E0 \uBA54\uD2B8\uB9AD\uC5D0 metric_src="whatap-open-agent"\xa0\uC815\uC801 \uB808\uC774\uBE14\uC744 \uCD94\uAC00\uD558\uB3C4\uB85D \uC9C0\uC815\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.'}),"\n"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:"title='\uCFE0\uBC84\uB124\uD2F0\uC2A4 \uBA54\uD2B8\uB9AD \uC218\uC9D1 \uC608\uC81C'",children:'# scrape_config.yaml\nfeatures:\n  openAgent:\n    enabled: true\n    targets:\n      - targetName: kube-apiserver\n        type: ServiceMonitor\n        namespaceSelector:\n          matchNames:\n            - "kube-system"\n        selector:\n          matchLabels:\n            component: apiserver\n            provider: kubernetes\n        endpoints:\n          - port: "https"\n            path: "/metrics"\n            interval: "30s"\n            metricRelabelConfigs:\n              - source_labels: [__name__]\n                regex: "apiserver_request_total"\n                action: keep\n              - source_labels: [verb]\n                target_label: http_verb\n                replacement: "${1}"\n                action: replace\n              # \uC815\uC801 \uB808\uC774\uBE14 \uCD94\uAC00\n              - target_label: metric_src\n                replacement: "whatap-open-agent"\n                action: replace\n'})})]})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},50065:function(e,n,s){s.d(n,{Z:function(){return c},a:function(){return l}});var r=s(67294);let t={},i=r.createContext(t);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);