"use strict";(self.webpackChunkwhatap_docs=self.webpackChunkwhatap_docs||[]).push([["22851"],{63038:function(e,n,s){s.r(n),s.d(n,{metadata:()=>i,default:()=>w,frontMatter:()=>u,contentTitle:()=>m,toc:()=>H,assets:()=>g});var i=JSON.parse('{"id":"php/agent-troubleshooting","title":"\uC124\uCE58 \uBB38\uC81C \uD574\uACB0","description":"PHP \uC5D0\uC774\uC804\uD2B8 \uC124\uCE58 \uC2DC \uBC1C\uC0DD\uD560 \uC218 \uC788\uB294 \uBB38\uC81C\uB97C \uD655\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.","source":"@site/docs/php/agent-troubleshooting.mdx","sourceDirName":"php","slug":"/php/agent-troubleshooting","permalink":"/php/agent-troubleshooting","draft":false,"unlisted":false,"editUrl":"undefined/docs/php/agent-troubleshooting.mdx","tags":[],"version":"current","frontMatter":{"id":"agent-troubleshooting","title":"\uC124\uCE58 \uBB38\uC81C \uD574\uACB0","description":"PHP \uC5D0\uC774\uC804\uD2B8 \uC124\uCE58 \uC2DC \uBC1C\uC0DD\uD560 \uC218 \uC788\uB294 \uBB38\uC81C\uB97C \uD655\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.","toc_max_heading_level":2,"keywords":["PHP","PHP \uBAA8\uB2C8\uD130\uB9C1","\uC560\uD50C\uB9AC\uCF00\uC774\uC158","\uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uBAA8\uB2C8\uD130\uB9C1","Troubleshooting","\uBB38\uC81C \uD574\uACB0"],"isTranslationMissing":false},"sidebar":"phpSidebar","previous":{"title":"\uC124\uCE58 \uC810\uAC80","permalink":"/php/install-check"},"next":{"title":"PHP \uC5D0\uC774\uC804\uD2B8 \uC124\uC815","permalink":"/php/set-agent"}}'),r=s(74848),h=s(84429);function l(e){let n={code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,h.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"extension-modul-manual-setting",children:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uBC0F whatap-php \uC11C\uBE44\uC2A4 \uC218\uB3D9 \uC124\uC815"}),(0,r.jsxs)(n.p,{children:["PHP \uD655\uC7A5 \uBAA8\uB4C8\uACFC whatap-php \uC11C\uBE44\uC2A4 \uC124\uCE58 \uBC0F \uC120\uD0DD \uC124\uCE58(",(0,r.jsx)(n.em,{children:"install.sh"}),")\uAC00 \uC815\uC0C1\uC801\uC73C\uB85C \uC774\uB8E8\uC5B4\uC9C0\uC9C0 \uC54A\uC744 \uACBD\uC6B0 \uC218\uB3D9\uC73C\uB85C \uC124\uC815\uD558\uB294 \uBC29\uBC95\uC744 \uC124\uBA85\uD569\uB2C8\uB2E4. PHP \uCEF4\uD30C\uC77C \uC124\uCE58 \uB4F1\uC758 \uC774\uC720\uB85C \uD658\uACBD \uC815\uBCF4\uB97C \uD655\uC778\uD560 \uC218 \uC5C6\uB294 \uACBD\uC6B0 \uC0AC\uC6A9\uD558\uC138\uC694."]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"whatapini-\uC0DD\uC131",children:"whatap.ini \uC0DD\uC131"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ cp /usr/whatap/php/template.ini /usr/whatap/php/whatap.ini\n$ vi /usr/whatap/php/whatap.ini\n\n# \uC0C1\uB2E8\uC5D0 \uB0B4\uC6A9 \uCD94\uAC00\n; Enable whatap extension module\nextension=whatap.so\nwhatap.license=            # \uBC1C\uAE09\uB41C \uC561\uC138\uC2A4 \uD0A4\nwhatap.server.host=        # \uBC1C\uAE09\uB41C \uC11C\uBC84 IP\nwhatap.app_name=           # \uC6F9\uC11C\uBC84 \uAD6C\uBD84 APHP, FPHP (apache : APHP, php-fpm : FPHP)\nwhatap.app_process_name=   # apache, php-fpm \uC758 \uD504\uB85C\uC138\uC2A4 \uC774\uB984(httpd,php-fpm)\n"})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\uC124\uC815"}),(0,r.jsx)(n.th,{children:"\uC124\uBA85"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"whatap.license"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.strong,{children:"\uD504\uB85C\uC81D\uD2B8 \uBA54\uB274"})," > ",(0,r.jsx)(n.strong,{children:"\uAD00\uB9AC"})," > ",(0,r.jsx)(n.strong,{children:"\uC5D0\uC774\uC804\uD2B8 \uC124\uCE58"})," \uD398\uC774\uC9C0\uC5D0\uC11C \uBC1C\uAE09\uB41C \uC561\uC138\uC2A4 \uD0A4\uB97C \uD655\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"whatap.server.host"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.strong,{children:"\uD504\uB85C\uC81D\uD2B8 \uBA54\uB274"})," > ",(0,r.jsx)(n.strong,{children:"\uAD00\uB9AC"})," > ",(0,r.jsx)(n.strong,{children:"\uC5D0\uC774\uC804\uD2B8 \uC124\uCE58"})," \uD398\uC774\uC9C0\uC5D0\uC11C \uBC1C\uAE09\uB41C \uC11C\uBC84 IP\uB97C \uD655\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"whatap.app_name"}),(0,r.jsxs)(n.td,{children:["Apache \uC11C\uBC84\uB294 ",(0,r.jsx)(n.code,{children:"APHP"}),", php-fpm \uC740 ",(0,r.jsx)(n.code,{children:"FPHP"}),"\uB97C \uC0AC\uC6A9\uD569\uB2C8\uB2E4."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"whatap.app_process_name"}),(0,r.jsxs)(n.td,{children:["Apache \uB610\uB294 php-fpm \uC758 \uC2E4\uD589 \uD504\uB85C\uC138\uC2A4 \uC774\uB984 \uC124\uC815\uC73C\uB85C \uC815\uD655\uD55C \uD504\uB85C\uC138\uC2A4\uBA85 \uC785\uB825\uD558\uBA74, \uD574\uB2F9 \uD504\uB85C\uC138\uC2A4\uC5D0 \uB300\uD55C \uC0AC\uC6A9 \uBA54\uBAA8\uB9AC\uB97C \uC218\uC9D1\uD569\uB2C8\uB2E4. \uC608\uC2DC\uB85C ",(0,r.jsx)(n.code,{children:"httpd"}),", ",(0,r.jsx)(n.code,{children:"apache2"}),", ",(0,r.jsx)(n.code,{children:"php-fpm"})," \uB4F1\uC744 \uB4E4 \uC218 \uC788\uC2B5\uB2C8\uB2E4."]})]})]})]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"check-php-cli-path",children:"PHP \uBA85\uB839\uC5B4(CLI) \uACBD\uB85C \uD655\uC778"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ which php\n\n/usr/bin/php\n"})})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"whatap-php-\uC11C\uBE44\uC2A4-\uD658\uACBD-\uBCC0\uC218-\uC124\uC815",children:"whatap-php \uC11C\uBE44\uC2A4 \uD658\uACBD \uBCC0\uC218 \uC124\uC815"}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"$WHATAP_PHP_BIN"})," \uD658\uACBD \uBCC0\uC218\uC5D0 PHP CLI \uBA85\uB839\uC5B4\uC758 \uACBD\uB85C\uB97C \uC124\uC815\uD558\uC138\uC694."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo vi /etc/init.d/whatap-php\n\nexport WHATAP_PHP_BIN=    # PHP \uBA85\uB839\uC5B4 \uC704\uCE58(/usr/bin/php)\n"})})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"php-api-\uBC84\uC804-\uD655\uC778",children:"PHP API \uBC84\uC804 \uD655\uC778"}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"$WHATAP_PHP_BIN"})," \uD658\uACBD \uBCC0\uC218\uC5D0 PHP CLI \uBA85\uB839\uC5B4\uC758 \uACBD\uB85C\uB97C \uC124\uC815\uD558\uC138\uC694."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo php -i | grep 'PHP API'\n\nPHP API => 20100412\n"})})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"php-ztszend-thread-safe-\uC9C0\uC6D0-\uC5EC\uBD80-\uD655\uC778",children:"PHP ZTS(Zend Thread Safe) \uC9C0\uC6D0 \uC5EC\uBD80 \uD655\uC778"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:"title=apache",children:"$ sudo apachectl -V | grep MPM\n\nServer MPM: Prefork      # ZTS \uC9C0\uC6D0 \uC548\uD568\nServer MPM: Worker       # ZTS \uC9C0\uC6D0\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:"title=PHP-FPM",children:"$ sudo php-fpm -i | grep Thread\n\nThread Safety => disabled       # ZTS \uC9C0\uC6D0 \uC548\uD568\nThread Safety => enabled       	# ZTS \uC9C0\uC6D0\n"})})]}),"\n",(0,r.jsx)(n.section,{className:"remark-sectionize-h3",children:(0,r.jsx)(n.h3,{id:"php-\uD655\uC7A5-\uBAA8\uB4C8-\uACBD\uB85C-\uD655\uC778-\uBC0F-\uC124\uC815",children:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uACBD\uB85C \uD655\uC778 \uBC0F \uC124\uC815"})}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,r.jsx)(n.h4,{id:"check-php-extension-module",children:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uACBD\uB85C \uD655\uC778"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo php -i | grep extension_dir\n\nextension_dir => /usr/lib64/php/modules => /usr/lib64/php/modules\n"})})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,r.jsx)(n.h4,{id:"php-\uD655\uC7A5-\uBAA8\uB4C8-\uC124\uC815",children:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uC124\uC815"}),(0,r.jsxs)(n.p,{children:["PHP API \uBC84\uC804, PHP ZTS \uC9C0\uC6D0 \uC5EC\uBD80\uB97C \uD655\uC778\uD558\uC5EC \uD658\uACBD\uC5D0 \uC801\uD569\uD55C \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uC120\uD0DD\uD558\uC138\uC694. PHP \uD655\uC7A5 \uBAA8\uB4C8(PHP Extension module) \uACBD\uB85C\uC5D0 ",(0,r.jsx)(n.em,{children:"whatap.so"})," \uD30C\uC77C\uBA85\uC744 \uBCF5\uC0AC\uD558\uC138\uC694."]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["PHP ZTS\uB97C \uC9C0\uC6D0\uD560 \uACBD\uC6B0 - ",(0,r.jsx)(n.em,{children:"whatap_zts_[PHP API \uBC84\uC804].so"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["PHP ZTS\uB97C \uC9C0\uC6D0\uD558\uC9C0 \uC54A\uC744 \uACBD\uC6B0 - ",(0,r.jsx)(n.em,{children:"whatap_[PHP API \uBC84\uC804].so"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# PHP ZTS \uC9C0\uC6D0\uD558\uC9C0 \uC54A\uC744 \uACBD\uC6B0 \uC608\uC2DC\n$ sudo cp /usr/whatap/php/modules/x64/whatap_20100412.so /usr/lib64/php/modules/whatap.so\n"})}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,r.jsx)(n.h4,{id:"whatap-php-\uC11C\uBE44\uC2A4-\uD658\uACBD-\uBCC0\uC218-\uC124\uC815-1",children:"whatap-php \uC11C\uBE44\uC2A4 \uD658\uACBD \uBCC0\uC218 \uC124\uC815"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo vi /etc/init.d/whatap-php\n\nexport WHATAP_PHP_EXT_HOME=   # PHP Extension \uACBD\uB85C(/usr/lib64/php/modules)\nexport WHATAP_PHP_EXT_SRC=    # \uC640\uD0ED \uB77C\uC774\uBE0C\uB7EC\uB9AC \uACBD\uB85C \uBC0F \uD30C\uC77C\uBA85\n                              # (/usr/whatap/php/modules/x64/whatap_20100412.so)]\n"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$WHATAP_PHP_EXT_HOME"})," \uD658\uACBD\uBCC0\uC218\uC5D0 PHP \uD655\uC7A5 \uBAA8\uB4C8 \uACBD\uB85C\uB97C \uC124\uC815\uD558\uC138\uC694."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$WHATAP_PHP_EXT_SRC"})," \uD658\uACBD\uBCC0\uC218\uC5D0 \uC640\uD0ED \uB77C\uC774\uBE0C\uB7EC\uB9AC \uC804\uCCB4 \uD30C\uC77C \uACBD\uB85C\uB97C \uC124\uC815\uD558\uC138\uC694."]}),"\n"]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"php-ini-path",children:"whatap.ini \uC124\uC815"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"PHP \uCD94\uAC00 ini \uC124\uC815 \uACBD\uB85C\uB97C \uD655\uC778\uD558\uC138\uC694."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo php -i | grep '.ini files'\n\nScan this dir for additional .ini files => /etc/php.d\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"whatap.ini"}),"\uB97C \uD574\uB2F9 \uACBD\uB85C\uC5D0 \uBCF5\uC0AC\uD558\uC138\uC694."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo cp /usr/whatap/php/whatap.ini /etc/php.d/whtap/ini\n"})}),"\n"]}),"\n"]})]})]})}function c(e={}){let{wrapper:n}={...(0,h.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}function a(e){let n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",section:"section",ul:"ul",...(0,h.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"php-\uCD94\uAC00-ini-\uC124\uC815-\uACBD\uB85C-\uD655\uC778-\uBD88\uAC00",children:"PHP \uCD94\uAC00 ini \uC124\uC815 \uACBD\uB85C \uD655\uC778 \uBD88\uAC00"}),(0,r.jsxs)(n.p,{children:["PHP \uCEF4\uD30C\uC77C(Compile) \uC124\uCE58 \uC635\uC158 ",(0,r.jsx)(n.code,{children:"--with-config-file-scan-dir=PATH"}),"\uC774 \uC124\uC815 \uC548\uB41C \uACBD\uC6B0\uC5D0 \uBC1C\uC0DD\uD569\uB2C8\uB2E4."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo php -i | grep '.ini files'\n\nScan this dir for additional .ini files => (none)\n"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"whatap.ini"})," \uD30C\uC77C \uB0B4\uC6A9\uC744 ",(0,r.jsx)(n.em,{children:"php.ini"})," \uB9C8\uC9C0\uB9C9\uC5D0 \uCD94\uAC00\uD558\uC138\uC694."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ php -i | grep 'php.ini'\n\nLoaded Configuration File => /etc/php.ini\n\n$ sudo vi php.ini\n\n# \uD30C\uC77C \uB9C8\uC9C0\uB9C9\uC5D0 \uCD94\uAC00\n[whatap]\n;Enable whatap extension module\nextension=whatap.so\nwhatap.ext.error_enabled=true\nwhatap.ext.exception_enabled=true\nwhatap.trace_user_enabled=true\nwhatap.trace_user_using_ip=false\n"})}),(0,r.jsxs)(n.p,{children:["\uC774\uC678 \uC635\uC158\uC740 ",(0,r.jsx)(n.em,{children:"/usr/whatap/php/whatap.ini"})," \uB97C \uC0AC\uC6A9\uD558\uC138\uC694."]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"whatap-php-\uC11C\uBE44\uC2A4service-\uD658\uACBD-\uBCC0\uC218-\uC124\uC815",children:"whatap-php \uC11C\uBE44\uC2A4(Service) \uD658\uACBD \uBCC0\uC218 \uC124\uC815"}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"$WHATAP_CONFIG_HOME"})," \uD658\uACBD\uBCC0\uC218\uC5D0 ",(0,r.jsx)(n.em,{children:"whatap.ini"})," \uACBD\uB85C\uB97C \uC124\uC815\uD558\uC138\uC694."]}),(0,r.jsxs)(n.p,{children:["PHP \uCD94\uAC00 ini \uACBD\uB85C\uB97C \uD655\uC778 \uD560 \uC218 \uC5C6\uB294 \uACBD\uC6B0 ",(0,r.jsx)(n.em,{children:"whatap.ini"}),"\uB97C \uC0DD\uC131\uD55C ",(0,r.jsx)(n.em,{children:"/usr/whatap/php"})," \uACBD\uB85C\uB97C \uC124\uC815\uD558\uC138\uC694."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo vi /etc/init.d/whatap-php\n\nexport WHATAP_CONFIG_HOME=      # whatap.ini \uACBD\uB85C(/etc/php.d)\n"})})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"\uC11C\uBE44\uC2A4-\uC7AC\uC2DC\uC791",children:"\uC11C\uBE44\uC2A4 \uC7AC\uC2DC\uC791"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Apache \uBC0F PHP-FPM \uC11C\uBE44\uC2A4\uB97C \uC7AC\uC2DC\uC791\uD558\uC138\uC694."}),"\n",(0,r.jsx)(n.li,{children:"whatap-php \uC11C\uBE44\uC2A4\uB97C \uC7AC\uC2DC\uC791\uD558\uC138\uC694."}),"\n"]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"error-not-found-php-api",children:"Error: Not found PHP API"}),(0,r.jsx)(n.p,{children:"PHP \uBA85\uB839\uC5B4(CLI)\uB97C \uCC3E\uC9C0 \uBABB\uD558\uB294 \uACBD\uC6B0 \uBC1C\uC0DD\uD569\uB2C8\uB2E4."}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"#check-php-cli-path",children:"PHP \uBA85\uB839\uC5B4(CLI)\uC758 \uC704\uCE58"}),"\uB97C \uC815\uD655\uD788 \uD655\uC778\uD558\uACE0 ",(0,r.jsx)(n.a,{href:"#extension-modul-manual-setting",children:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uBC0F whatap-php \uC11C\uBE44\uC2A4 \uC120\uD0DD \uC124\uCE58"})," \uD56D\uBAA9\uC744 \uC9C4\uD589\uD558\uC138\uC694."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:"title='Check PHP API version'",children:"$ sudo php -i | grep 'PHP API'\n\nPHP API => 20100412\n"})})]})]})}function d(e={}){let{wrapper:n}={...(0,h.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}function p(e){let n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",section:"section",...(0,h.R)(),...e.components};return(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"error-not-found-php-ini-directory",children:"Error: Not found PHP ini directory"}),(0,r.jsxs)(n.p,{children:["PHP \uD658\uACBD \uC911 ",(0,r.jsx)(n.code,{children:"Scan this dir for additional .ini files"})," \uD56D\uBAA9\uC758 \uAC12\uC744 \uD655\uC778\uD558\uC9C0 \uBABB \uD55C \uACBD\uC6B0 \uBC1C\uC0DD\uD569\uB2C8\uB2E4. PHP \uCEF4\uD30C\uC77C \uC124\uCE58 \uC635\uC158 ",(0,r.jsx)(n.code,{children:"--with-config-file-scan-dir=PATH"}),"\uC774 \uC124\uC815\uB418\uC9C0 \uC54A\uC740 \uACBD\uC6B0 \uD574\uB2F9 \uD658\uACBD\uC815\uBCF4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."]}),(0,r.jsxs)(n.p,{children:["\uB2E4\uC74C \uC124\uBA85\uC11C\uB97C \uCC38\uC870\uD558\uC5EC ",(0,r.jsx)(n.a,{href:"#check-php-cli-path",children:"PHP \uBA85\uB839\uC5B4(CLI)\uC758 \uC704\uCE58"}),"\uB97C \uC815\uD655\uD788 \uD655\uC778\uD558\uACE0 ",(0,r.jsx)(n.a,{href:"#extension-modul-manual-setting",children:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uBC0F whatap-php \uC11C\uBE44\uC2A4 \uC120\uD0DD \uC124\uCE58"})," \uD56D\uBAA9\uC744 \uC9C4\uD589\uD558\uC138\uC694."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo php -i | grep '.ini files'\n\nScan this dir for additional .ini files => (none)\n"})})]})}function t(e={}){let{wrapper:n}={...(0,h.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}function o(e){let n={a:"a",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",ul:"ul",...(0,h.R)(),...e.components};return(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"\uC751\uB2F5-\uC2DC\uAC04-\uBD84\uD3EC\uB3C4\uC5D0-\uD2B8\uB79C\uC7AD\uC158\uC774-\uD45C\uC2DC\uB418\uC9C0-\uC54A\uB294-\uACBD\uC6B0",children:"\uC751\uB2F5 \uC2DC\uAC04 \uBD84\uD3EC\uB3C4\uC5D0 \uD2B8\uB79C\uC7AD\uC158\uC774 \uD45C\uC2DC\uB418\uC9C0 \uC54A\uB294 \uACBD\uC6B0"}),(0,r.jsx)(n.p,{children:"CPU\uC640 Memory \uADF8\uB798\uD504\uB97C \uBCFC \uC218 \uC788\uC9C0\uB9CC \uC751\uB2F5 \uC2DC\uAC04 \uBD84\uD3EC\uB3C4 \uC989 \uD788\uD2B8\uB9F5\uC744 \uBCFC \uC218 \uC5C6\uB294 \uD604\uC0C1\uC740 \uB2E4\uC74C\uACFC \uAC19\uC740 \uACBD\uC6B0\uC5D0 \uBC1C\uC0DD\uD569\uB2C8\uB2E4."}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uC5D0\uC774\uC804\uD2B8\uAC00 \uC218\uC9D1 \uC11C\uBC84\uC640 \uC815\uC0C1\uC801\uC73C\uB85C \uC5F0\uACB0\uB418\uC5C8\uC73C\uB098 \uD2B8\uB808\uC774\uC11C\uAC00 \uC815\uC0C1\uC801\uC73C\uB85C PHP \uD655\uC7A5 \uBAA8\uB4C8\uC5D0 \uC801\uC6A9\uB418\uC9C0 \uC54A\uC740 \uACBD\uC6B0"}),"\n",(0,r.jsx)(n.li,{children:"\uC124\uC815 \uD6C4 Apache \uBC0F PHP-FPM \uC11C\uBE44\uC2A4\uB97C \uC7AC\uC2DC\uC791\uD558\uC9C0 \uC54A\uC740 \uACBD\uC6B0"}),"\n"]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"PHP \uD655\uC7A5 \uBAA8\uB4C8\uC774 \uC801\uC6A9\uB418\uC5C8\uB294\uC9C0 \uD655\uC778\uD558\uC138\uC694."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo php -m\n\n[PHP Modules]\nbz2\ncalendar\nCore\nctype\ncurl\ndate\n\u2026\nwhatap               # \uC640\uD0ED \uBAA8\uB4C8 \uB85C\uB4DC \uD655\uC778\n\u2026\n[Zend Modules]\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Apache \uBC0F PHP-FPM \uC11C\uBE44\uC2A4\uB97C \uC7AC\uC2DC\uC791\uD558\uC138\uC694."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["PHP \uD655\uC7A5 \uBAA8\uB4C8\uC774 \uC801\uC6A9\uB418\uC9C0 \uC54A\uC740 \uACBD\uC6B0\uB294 \uC815\uC0C1 \uC124\uCE58\uB418\uC9C0 \uC54A\uC740 \uAC83\uC785\uB2C8\uB2E4. ",(0,r.jsx)(n.em,{children:"whatap.so"})," \uB610\uB294 ",(0,r.jsx)(n.em,{children:"whatap.ini"})," \uD30C\uC77C \uACBD\uB85C\uAC00 PHP \uD658\uACBD\uACFC \uC77C\uCE58\uD558\uB294\uC9C0 \uD655\uC778\uD558\uC138\uC694."]}),"\n",(0,r.jsxs)(n.p,{children:["\uB2E4\uC74C \uC124\uBA85\uC11C\uB97C \uCC38\uC870\uD558\uC5EC ",(0,r.jsx)(n.a,{href:"#check-php-cli-path",children:"PHP \uBA85\uB839\uC5B4(CLI) \uACBD\uB85C"}),", ",(0,r.jsx)(n.a,{href:"#check-php-extension-module",children:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uACBD\uB85C"}),", ",(0,r.jsx)(n.a,{href:"#php-ini-path",children:"PHP \uCD94\uAC00 ini \uC124\uC815 \uACBD\uB85C"})," \uD56D\uBAA9\uB4E4\uC744 \uD655\uC778\uD558\uC138\uC694."]}),"\n"]}),"\n"]})]})}function x(e={}){let{wrapper:n}={...(0,h.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}function j(e){let n={code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",...(0,h.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,r.jsx)(n.h2,{id:"segmentation-fault-sig-bus-error",children:"Segmentation fault, Sig bus error"}),(0,r.jsx)(n.p,{children:"PHP \uBAA8\uB2C8\uD130\uB9C1\uC744 \uC801\uC6A9\uD55C \uD6C4 \uC11C\uBE44\uC2A4\uC5D0 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD560 \uACBD\uC6B0 Apache \uB610\uB294 PHP-FPM\uC758 error log\uB97C \uD655\uC778\uD558\uC138\uC694."}),(0,r.jsxs)(n.p,{children:["error log \uB0B4\uC6A9 \uC911 ",(0,r.jsx)(n.code,{children:"segmentation fault"}),", ",(0,r.jsx)(n.code,{children:"sig bus"})," \uB4F1\uC758 \uC624\uB958 \uBB38\uAD6C\uAC00 \uC788\uB294\uC9C0 \uD655\uC778\uD558\uC138\uC694. ",(0,r.jsx)(n.code,{children:"kill child process"}),", ",(0,r.jsx)(n.code,{children:"exit child"}),", ",(0,r.jsx)(n.code,{children:"exit process"})," \uB4F1\uC758 \uBB38\uAD6C\uC640 \uAC19\uC774 \uBC1C\uC0DD\uD569\uB2C8\uB2E4."]}),(0,r.jsxs)(n.p,{children:["\uD574\uB2F9 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uB294 \uACBD\uC6B0\uB294 PHP Extension \uBAA8\uB4C8\uC778 ",(0,r.jsx)(n.em,{children:"whatap.so"})," \uBAA8\uB4C8\uC5D0\uC11C \uCDA9\uB3CC\uC774 \uBC1C\uC0DD\uD558\uB294 \uAC83\uC73C\uB85C \uBCFC \uC218 \uC788\uC2B5\uB2C8\uB2E4. PHP Extension \uBAA8\uB4C8\uC778 ",(0,r.jsx)(n.em,{children:"whatap.so"})," \uB97C \uC911\uC9C0\uD55C \uD6C4\uC5D0 Apache \uB610\uB294 PHP-FPM\uC744 \uC7AC\uC2DC\uC791\uD558\uC138\uC694."]}),(0,r.jsxs)(n.p,{children:["\uC11C\uBE44\uC2A4\uC5D0 \uC601\uD5A5\uC744 \uC8FC\uC9C0 \uC54A\uB294 \uD658\uACBD\uC5D0\uC11C Apache \uBC0F PHP-FPM\uC5D0 ",(0,r.jsx)(n.code,{children:"Core dump"})," \uC124\uC815\uC744 \uCD94\uAC00\uD55C \uD6C4 ",(0,r.jsx)(n.em,{children:"whatap.so"}),"\uB97C \uB2E4\uC2DC \uB85C\uB529\uD558\uC138\uC694. \uC774\uD6C4 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uBA74 ",(0,r.jsx)(n.em,{children:"dump"})," \uD30C\uC77C\uC774 \uC0DD\uC131\uB429\uB2C8\uB2E4. ",(0,r.jsx)(n.em,{children:"dump"})," \uD30C\uC77C\uC744 gdb\uB85C \uBD84\uC11D\uD558\uC5EC \uC6D0\uC778\uC744 \uD574\uACB0\uD558\uC138\uC694."]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"core-dump-\uC124\uC815",children:"Core Dump \uC124\uC815"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"dump"})," \uD30C\uC77C\uC744 \uC0DD\uC131\uD560 \uB514\uB809\uD130\uB9AC\uC758 \uAD8C\uD55C\uC744 \uBD80\uC5EC\uD558\uC138\uC694"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"chmod 0777 /home/httpd-core\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\uC2DC\uC2A4\uD15C \uC124\uC815\uC744 \uD558\uC138\uC694."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"ulimit -c unlimited\nsysctl fs.suid_dumpable=2\nsysctl kernel.core_uses_pid=0\nsysctl kernel.core_pattern='| /home/httpd-core/core-%e.%p'\n"})}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"apache",children:"Apache"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Apache conf \uC5D0 CoreDumpDirectory \uD56D\uBAA9\uC744 \uC124\uC815\uD558\uC138\uC694."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"vi /etc/httpd/conf/httpd.conf\n\nCoreDumpDirectory /home/httpd-core\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Apache\uB97C \uC7AC\uC2DC\uC791\uD558\uBA74 \uC124\uC815\uC774 \uC644\uB8CC\uB429\uB2C8\uB2E4."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uBA74 ",(0,r.jsx)(n.em,{children:"dump"})," \uD30C\uC77C\uC774 \uC0DD\uC131\uB429\uB2C8\uB2E4. ",(0,r.jsx)(n.em,{children:"dump"})," \uD30C\uC77C\uC774 \uC0DD\uC131\uB418\uBA74 gdb\uB97C \uD1B5\uD574 \uC624\uB958 \uC6D0\uC778\uC744 \uD655\uC778\uD569\uB2C8\uB2E4. ",(0,r.jsx)(n.code,{children:"bt full"})," \uBA85\uB839\uC5B4\uB97C \uD1B5\uD574\uC11C \uC804\uCCB4 \uC2A4\uD0DD \uC815\uBCF4\uB97C \uD655\uC778\uD558\uC138\uC694."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"# gdb /usr/sbin/httpd /home/httpd-core/core-httpd.31832\n...\n...\n\n> bt full\n"})}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,r.jsx)(n.h3,{id:"php-fpm",children:"PHP-FPM"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["FPM \uC124\uC815 \uD30C\uC77C\uC5D0\uC11C ",(0,r.jsx)(n.code,{children:"rlimit_core"})," \uB97C \uC124\uC815\uD558\uC138\uC694."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"rlimit_core = unlimited\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"PHP-FPM\uC744 \uC7AC\uC2DC\uC791\uD558\uBA74 \uC124\uC815\uC774 \uC644\uB8CC\uB429\uB2C8\uB2E4."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uBA74 ",(0,r.jsx)(n.em,{children:"dump"})," \uD30C\uC77C\uC774 \uC0DD\uC131\uB429\uB2C8\uB2E4. ",(0,r.jsx)(n.em,{children:"dump"})," \uD30C\uC77C\uC774 \uC0DD\uC131\uB418\uBA74 gdb\uB97C \uD1B5\uD574 \uC624\uB958 \uC6D0\uC778\uC744 \uD655\uC778\uD558\uC138\uC694. ",(0,r.jsx)(n.code,{children:"bt full"})," \uBA85\uB839\uC5B4\uB97C \uD1B5\uD574\uC11C \uC804\uCCB4 \uC2A4\uD0DD \uC815\uBCF4\uB97C \uD655\uC778\uD558\uC138\uC694."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"# gdb /usr/sbin/php-fpm /home/httpd-core/core-php-fpm.31832\n...\n...\n\n> bt full\n"})}),"\n"]}),"\n"]})]})]})}function P(e={}){let{wrapper:n}={...(0,h.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(j,{...e})}):j(e)}let u={id:"agent-troubleshooting",title:"\uC124\uCE58 \uBB38\uC81C \uD574\uACB0",description:"PHP \uC5D0\uC774\uC804\uD2B8 \uC124\uCE58 \uC2DC \uBC1C\uC0DD\uD560 \uC218 \uC788\uB294 \uBB38\uC81C\uB97C \uD655\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.",toc_max_heading_level:2,keywords:["PHP","PHP \uBAA8\uB2C8\uD130\uB9C1","\uC560\uD50C\uB9AC\uCF00\uC774\uC158","\uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uBAA8\uB2C8\uD130\uB9C1","Troubleshooting","\uBB38\uC81C \uD574\uACB0"],isTranslationMissing:!1},m,g={},H=[{value:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uBC0F whatap-php \uC11C\uBE44\uC2A4 \uC218\uB3D9 \uC124\uC815",id:"extension-modul-manual-setting",level:2},{value:"whatap.ini \uC0DD\uC131",id:"whatapini-\uC0DD\uC131",level:3},{value:"PHP \uBA85\uB839\uC5B4(CLI) \uACBD\uB85C \uD655\uC778",id:"check-php-cli-path",level:3},{value:"whatap-php \uC11C\uBE44\uC2A4 \uD658\uACBD \uBCC0\uC218 \uC124\uC815",id:"whatap-php-\uC11C\uBE44\uC2A4-\uD658\uACBD-\uBCC0\uC218-\uC124\uC815",level:3},{value:"PHP API \uBC84\uC804 \uD655\uC778",id:"php-api-\uBC84\uC804-\uD655\uC778",level:3},{value:"PHP ZTS(Zend Thread Safe) \uC9C0\uC6D0 \uC5EC\uBD80 \uD655\uC778",id:"php-ztszend-thread-safe-\uC9C0\uC6D0-\uC5EC\uBD80-\uD655\uC778",level:3},{value:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uACBD\uB85C \uD655\uC778 \uBC0F \uC124\uC815",id:"php-\uD655\uC7A5-\uBAA8\uB4C8-\uACBD\uB85C-\uD655\uC778-\uBC0F-\uC124\uC815",level:3},{value:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uACBD\uB85C \uD655\uC778",id:"check-php-extension-module",level:4},{value:"PHP \uD655\uC7A5 \uBAA8\uB4C8 \uC124\uC815",id:"php-\uD655\uC7A5-\uBAA8\uB4C8-\uC124\uC815",level:4},{value:"whatap-php \uC11C\uBE44\uC2A4 \uD658\uACBD \uBCC0\uC218 \uC124\uC815",id:"whatap-php-\uC11C\uBE44\uC2A4-\uD658\uACBD-\uBCC0\uC218-\uC124\uC815-1",level:4},{value:"whatap.ini \uC124\uC815",id:"php-ini-path",level:3},{value:"PHP \uCD94\uAC00 ini \uC124\uC815 \uACBD\uB85C \uD655\uC778 \uBD88\uAC00",id:"php-\uCD94\uAC00-ini-\uC124\uC815-\uACBD\uB85C-\uD655\uC778-\uBD88\uAC00",level:2},{value:"whatap-php \uC11C\uBE44\uC2A4(Service) \uD658\uACBD \uBCC0\uC218 \uC124\uC815",id:"whatap-php-\uC11C\uBE44\uC2A4service-\uD658\uACBD-\uBCC0\uC218-\uC124\uC815",level:3},{value:"\uC11C\uBE44\uC2A4 \uC7AC\uC2DC\uC791",id:"\uC11C\uBE44\uC2A4-\uC7AC\uC2DC\uC791",level:3},{value:"Error: Not found PHP API",id:"error-not-found-php-api",level:3},{value:"Error: Not found PHP ini directory",id:"error-not-found-php-ini-directory",level:2},{value:"\uC751\uB2F5 \uC2DC\uAC04 \uBD84\uD3EC\uB3C4\uC5D0 \uD2B8\uB79C\uC7AD\uC158\uC774 \uD45C\uC2DC\uB418\uC9C0 \uC54A\uB294 \uACBD\uC6B0",id:"\uC751\uB2F5-\uC2DC\uAC04-\uBD84\uD3EC\uB3C4\uC5D0-\uD2B8\uB79C\uC7AD\uC158\uC774-\uD45C\uC2DC\uB418\uC9C0-\uC54A\uB294-\uACBD\uC6B0",level:2},{value:"Segmentation fault, Sig bus error",id:"segmentation-fault-sig-bus-error",level:2},{value:"Core Dump \uC124\uC815",id:"core-dump-\uC124\uC815",level:3},{value:"Apache",id:"apache",level:3},{value:"PHP-FPM",id:"php-fpm",level:3}];function f(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{}),"\n","\n",(0,r.jsx)(d,{}),"\n","\n",(0,r.jsx)(t,{}),"\n","\n",(0,r.jsx)(x,{}),"\n","\n",(0,r.jsx)(P,{})]})}function w(e={}){let{wrapper:n}={...(0,h.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},84429:function(e,n,s){s.d(n,{R:()=>l,x:()=>c});var i=s(96540);let r={},h=i.createContext(r);function l(e){let n=i.useContext(h);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(h.Provider,{value:n},e.children)}}}]);