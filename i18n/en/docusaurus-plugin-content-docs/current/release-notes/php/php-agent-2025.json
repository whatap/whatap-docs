[
  {
    "ver": "v2.13.0",
    "date": "2025-11-19",
    "Lists": [
      {
        "ver": "v2.13.0",
        "hash": "v2130",
        "product": "PHP Agent",
        "type": "Fixed",
        "desc": "<p><code class=\"Fixed\" type=\"0\">Fixed</code> Fixed an issue where Active Status data collection did not work properly.</p>",
        "details": "<ul><li>In v2.12.0, the PHP internal function hooking method was changed from <code>zend_execute_internal</code> to <code>handler overwrite</code>.</li><li>This caused a malfunction in Active Status data collection.</li></ul>"
      },
      {
        "ver": "v2.13.0",
        "hash": "v2130",
        "product": "PHP Agent",
        "type": "New",
        "desc": "<p><code class=\"New\" type=\"1\">New</code> Added support for PHP monitoring on Windows OS.</p>",
        "details": "<ul><li><p><strong>System Requirements</strong></p><ul><li>Windows Server 2016 (x64) or higher, or Windows 10 (x64) or higher</li><li>PHP 7.0 ~ 8.4 (NTS and ZTS)</li></ul></li><li><p><strong>Build Environment</strong></p><ul><li>WhaTap PHP extension is built using the Microsoft Visual C++ compiler, with different Visual Studio versions depending on the PHP version.</li><ul><li><strong>Visual C++ 15.0</strong> (Visual Studio 2017) - PHP 7.0–7.4</li><li><strong>Visual C++ 16.0</strong> (Visual Studio 2019) - PHP 8.0–8.3</li><li><strong>Visual C++ 17.0</strong> (Visual Studio 2022) - PHP 8.4</li></ul><li>Build environment by version<table><thead><tr><th>PHP Version</th><th>OS</th><th>Visual Studio</th><th>Windows SDK</th><th>PHP SDK</th></tr></thead><tbody><tr><td>7.0–7.4</td><td>Windows Server 2016 (ltsc2016)</td><td>VS 2017 (VC15)</td><td>10.0.17763.0</td><td>2.1.9–2.2.0</td></tr><tr><td>8.0–8.3</td><td>Windows Server 2019 (ltsc2019)</td><td>VS 2019 (VS16)</td><td>10.0.19041.0</td><td>2.2.0</td></tr><tr><td>8.4</td><td>Windows Server 2022 (ltsc2022)</td><td>VS 2022 (VS17)</td><td>10.0.20348.0 / 11.0.22000.0</td><td>2.4.0</td></tr></tbody></table></li><li>Supported Web Servers<ul><li>Apache 2.4 or later</li><li>Microsoft IIS</li></ul></li></ul></li></ul>"
      },
      {
        "ver": "v2.13.0",
        "hash": "v2130",
        "product": "PHP Agent",
        "type": "New",
        "desc": "<p><code class=\"New\" type=\"1\">New</code> Added a stack trace feature to identify delay sections in slow transactions (available under Analysis > Stack).</p>",
        "details": "<ul>\n<li><strong>How It Works</strong>\n<ul>\n<li>Automatically detects transactions running longer than the configured threshold (default: 5 seconds).</li>\n<li>Records running functions every second (up to 20 times).</li>\n<li>Collects stack information using the <code>debug_gettrace()</code> function within PHP.</li>\n<li>Stacks are collected at the end of user function calls, so collection intervals may vary for long-running functions.</li>\n</ul>\n<div class=\"theme-admonition theme-admonition-caution alert alert--warning\">\n<div class=\"admonition-heading\">\n<strong>Caution</strong>\n</div>\n<div class=\"admonition-content\">\n<p>Enabling this feature may increase data collection overhead.</p>\n</div>\n</div></li>\n<li><strong>Prerequisites</strong>\n<ul>\n<li>Two options must be enabled (enabled by default):\n<ul>\n<li><code>whatap.ext.hook_zend_execute_ex_enable</code></li>\n<li><code>whatap.profile_method_enabled</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>Configuration Options</strong>\n<ul>\n<li><code>whatap.active_stack_enabled</code>\n<ul><li>Default: false</li><li>Enables stack collection feature</li></ul></li>\n<li><code>whatap.ext.active_stack_start_resp_time</code>\n<ul><li>Default: 5000</li><li>Begins stack collection when response time exceeds the threshold</li><li>Default: collects stacks for response times over 5 seconds</li><li>Minimum: 1000ms</li></ul>\n<div class=\"theme-admonition theme-admonition-caution alert alert--warning\">\n<div class=\"admonition-heading\">\n<strong>Caution</strong>\n</div>\n<div class=\"admonition-content\">\nRestart the web server (Apache or php-fpm) to apply configuration changes.\n</div>\n</div></li>\n<li><code>whatap.ext.active_stack_interval</code>\n<ul><li>Default: 1000</li><li>Sets the stack collection interval</li><li>After the first collection, additional stacks are gathered at 1-second intervals</li><li>Minimum: 200ms, Increment: 200ms</li></ul>\n<div class=\"theme-admonition theme-admonition-caution alert alert--warning\">\n<div class=\"admonition-heading\">\n<strong>Caution</strong>\n</div>\n<div class=\"admonition-content\">\nRestart the web server (Apache or php-fpm) to apply configuration changes.\n</div>\n</div></li>\n<li><code>whatap.trace_active_callstack_depth</code>\n<ul><li>Default: 50</li><li>Limits the number of collected stack frames (up to 50)</li></ul>\n<div class=\"theme-admonition theme-admonition-caution alert alert--warning\">\n<div class=\"admonition-heading\">\n<strong>Caution</strong>\n</div>\n<div class=\"admonition-content\">\nRestart the web server (Apache or php-fpm) to apply configuration changes.\n</div>\n</div></li>\n<li><code>whatap.ext.active_stack_max_count</code>\n<ul><li>Default: 20</li><li>Limits the number of stack collections (up to 20)</li></ul>\n<div class=\"theme-admonition theme-admonition-caution alert alert--warning\">\n<div class=\"admonition-heading\">\n<strong>Caution</strong>\n</div>\n<div class=\"admonition-content\">\nRestart the web server (Apache or php-fpm) to apply configuration changes.\n</div>\n</div></li>\n</ul>"
      }      
    ]
  },
  {
    "ver": "v2.12.0",
    "date": "2025-10-15",
    "Lists": [
      {
        "ver": "v2.12.0",
        "hash": "v2120",
        "product": "PHP Agent",
        "type": "Change",
        "desc": "<p><code class=\"Change\" type=\"0\">Change</code> Changed the hooking method for PHP internal functions</p>",
        "details": "<ul>\n<li>The previous method using <code>zend_execute_internal</code> checked all functions, which could cause CPU overhead when there were many internal function calls.</li>\n<li>The new method replaces handlers for only the necessary PHP internal functions to selectively collect transaction data.</li>\n<li>Added related configuration options:</li>\n<ul>\n<li><code>whatap.ext.hook_overwrite_internal_function_enabled</code><br>Default: <code>true</code><br>Replaces handlers of only the necessary PHP internal functions to selectively collect transaction data.<br>Should not be enabled together with <code>whatap.ext.hook_zend_execute_internal_enabled</code>.<br>Requires service restart (Apache or php-fpm).</li>\n<li><code>whatap.ext.hook_zend_execute_internal_enabled</code><br>Default: <code>false</code><br>Uses the existing method, collecting transaction data through <code>zend_execute_internal</code>.<br>Requires service restart (Apache or php-fpm).</li>\n<li><code>whatap.ext.hook_zend_execute_ex_enabled</code><br>Default: <code>true</code><br>Collects data for PHP user functions using <code>zend_execute_ex</code>.<br>Requires service restart (Apache or php-fpm).</li>\n</ul>\n</ul>"
      }
    ]
  },  
  {
    "ver": "v2.11.2",
    "date": "2025-07-23",
    "Lists": [
      {
        "ver": "v2.11.2",
        "hash": "v2112",
        "product": "PHP Agent",
        "type": "Fixed",
        "desc": "<p><code class=\"Fixed\" type=\"0\">Fixed</code> Fixed an issue that caused a <code>segmentation fault</code> error</p>",
        "details": "<ul>\n<li>Fixed a bug that occurred when using the <code>session_set_save_handler</code> function</li>\n</ul>"
      }
    ]
  },  
  {
    "url": "https://whatap.github.io/whatap-docs/release-notes/php/php-2_11_1/",
    "ver": "v2.11.1",
    "date": "2025-07-09",
    "Lists": [
      {
        "ver": "v2.11.1",
        "hash": "v2111",
        "product": "PHP Agent",
        "type": "Fixed",
        "desc": "<p><code class=\"Fixed\" type=\"0\">Fixed</code> Fixed issue with whatap-php.service registration and execution</p>",
        "details": "<ul>\n<li>\n<p>In new installations, the agent was deactivated because it could not recognize connection information (Access Key and server address) due to missing environment values.</p>\n<p>You can configure it manually using the commands below:</p>\n<div class=\"language-bash codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockTitle_Ktv7\">php command</div><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token number\" style=\"color:rgb(247, 140, 108)\">1</span><span class=\"token plain\">. /usr/whatap/php/install.sh</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\"></span><span class=\"token number\" style=\"color:rgb(247, 140, 108)\">2</span><span class=\"token plain\">. cp /usr/lib/systemd/system/whatap-php.service /etc/systemd/system/whatap-php.service</span><br></span></code></pre></div></div></div>\n</li>\n<li>\n<p>For existing installations, the update works correctly.</p>\n</li>\n</ul>"
      }
    ]
  },
  {
    "url": "https://docs.whatap.io/release-notes/php/php-2_11_0",
    "ver": "v2.11.0",
    "date": "2025-06-18",
    "Lists": [
      {
        "ver": "v2.11.0",
        "hash": "v2110",
        "product": "PHP Agent",
        "type": "Feature",
        "desc": "<p><code class=\"Feature\" type=\"0\">Feature</code> Reduced CPU load</p>",
        "details": "<ul>\n<li>\n<p>Reduced CPU usage by changing the criteria for determining monitoring targets</p>\n</li>\n<li>\n<p>Further reduction when user-defined function monitoring is disabled</p>\n<p><code>whatap.profile_method_enabled=false</code></p>\n</li>\n</ul>"
      },
      {
        "ver": "v2.11.0",
        "hash": "v2110",
        "product": "PHP Agent",
        "type": "New",
        "desc": "<p><code class=\"New\" type=\"1\">New</code> Display CLI call parameters in URL</p>",
        "details": "<ul>\n<li>\n<p>Collect URL including parameters when called via CLI</p>\n<ul>\n<li>Example: php /home/www/test.php aaa bbb → displays as /home/www/test.php aaa bbb</li>\n</ul>\n</li>\n</ul>"
      },
      {
        "ver": "v2.11.0",
        "hash": "v2110",
        "product": "PHP Agent",
        "type": "New",
        "desc": "<p><code class=\"New\" type=\"1\">New</code> Collect file parameter information</p>",
        "details": "<ul>\n<li>Collects up to 20 parameters, each up to 256 bytes</li>\n</ul>"
      }
    ]
  },  
  {
    "url": "https://docs.whatap.io/en/release-notes/php/php-2_10_0",
    "ver": "v2.10.0",
    "date": "2025-02-11",
    "Lists": [
      {
        "ver": "v2.10.0",
        "hash": "v2100",
        "product": "PHP Agent",
        "type": "New",
        "desc": "<p><code class=\"New\" type=\"1\">New</code> Added the option to stop collecting for each feature in PHP Extension.</p>",
        "details": "<ul>\n<li>\n<p><code>whatap.ext.trace_enabled</code> (default: <code>true</code>): Transaction information collection is disabled.</p>\n</li>\n<li>\n<p><code>whatap.ext.profile_enabled</code> (default: <code>true</code>): Basic transaction data collection is disabled.</p>\n</li>\n<li>\n<p><code>whatap.ext.profile_sql_enabled</code> (default: <code>true</code>): SQL profile collection is disabled.</p>\n</li>\n<li>\n<p><code>whatap.ext.profile_httpc_enabled</code> (default: <code>true</code>): HTTP calling profile collection is disabled.</p>\n</li>\n<li>\n<p><code>whatap.ext.profile_socket_enabled</code> (default: <code>true</code>): Socket-related profile collection is disabled.</p>\n</li>\n</ul>"
      },
      {
        "ver": "v2.10.0",
        "hash": "v2100",
        "product": "PHP Agent",
        "type": "New",
        "desc": "<p><code class=\"New\" type=\"1\">New</code> Added the option to stop collection based on specific URIs.</p>",
        "details": "<ul>\n<li>\n<p><code>whatap.ext.ignore_uris</code>: Register URIs for which transaction data is not to be collected (separated by comma).</p>\n<ul>\n<li>e.g. <code>whatap.ext.ignore_uris=/aaa/bbb.php, /ccc/ddd.php</code></li>\n</ul>\n</li>\n<li>\n<p><code>whatap.ext.ignore_profile_uris</code>: Register URIs that collect basic transaction data but not detailed profile data (separated by comma).</p>\n<ul>\n<li>e.g. <code>whatap.ext.ignore_profile_uris=/aaa/bbb.php, /ccc/ddd.php</code></li>\n</ul>\n</li>\n</ul>"
      },
      {
        "ver": "v2.10.0",
        "hash": "v2100",
        "product": "PHP Agent",
        "type": "New",
        "desc": "<p><code class=\"New\" type=\"1\">New</code> Added the feature to collect additional transaction data.</p>",
        "details": "<ul>\n<li>\n<p><code>peak-memory</code>: It collects the peak memory data while running PHP.</p>\n</li>\n<li>\n<p><code>elapsed-utime</code>: It collects the user CPU usage.</p>\n</li>\n<li>\n<p><code>elapsed-stime</code>: It collects the system CPU usage.</p>\n</li>\n<li>\n<p><code>external-func-count</code>: Number of executions of user functions</p>\n</li>\n<li>\n<p><code>prof-external-func-count</code>: Number of user functions traced by WhaTap Monitoring</p>\n</li>\n<li>\n<p><code>internal-func-count</code>: Number of executions of the PHP internal functions</p>\n</li>\n<li>\n<p><code>prof-internal-func-count</code>: Number of internal functions traced by WhaTap Monitoring</p>\n</li>\n</ul>"
      },
      {
        "ver": "v2.10.0",
        "hash": "v2100",
        "product": "PHP Agent",
        "type": "Fixed",
        "desc": "<p><code class=\"Fixed\" type=\"0\">Fixed</code> Fixed the issue where a wrong profile is retrieved when searching for a profile because the transaction ID is not uniquely issued in the arm64 (aarch64) environment.</p>"
      },
      {
        "ver": "v2.10.0",
        "hash": "v2100",
        "product": "PHP Agent",
        "type": "Fixed",
        "desc": "<p><code class=\"Fixed\" type=\"0\">Fixed</code> Fixed the issue where unnecessary data is collected and CPU load is generated despite the setting of the Stop System Resource Collection option.</p>"
      }
    ]
  }
]