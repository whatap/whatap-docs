---
id: log-python
title: Python
description: It guides you how to collect logs from your Python application.
keywords:
  - Log Monitoring
  - Python
---

To collect logs by your Python application, check the following.

## Agent Update

It is available from Python agent 1.2.2. For more information about update, see [the following](../python/manage-pkg#update-pkg).

## Checking the agent settings

Home > Select Project > **_Log_** > **_Log Setting_**

Select a project in the initial screen of the WhaTap monitoring service, and then select **_Log_** > **_Log Setting_** under Project Menu. Proceed with the process according to the instructions in the **_Check Agent Settings_** tab of the **_Start Log Monitoring_** section.

### Enabling the collection of logs

If you enter the command including the configuration file path (_WHATAP_HOME_), log collection starts.

```shell
export LOGFILES={Log file's full path},...
echo "logsink_enabled=true" | sudo tee -a {Configuration file path}/whatap.conf
echo "logsink.files=$LOGFILES" | sudo tee -a {Configuration file path}/whatap.conf
```

### Linking the log and web transaction

#### Version 1.3.6 or later

Starting from the version 1.3.6, transactions and logs can be integrated using the following methods. Currently, WhaTap supports the Python's logging and loguru libraries. Configure _whatap.conf_ according to your Python log libraries.

- logging module

  ```shell title='logging'

  echo "trace_logging_enabled=true" | sudo tee -a {configuration file path}/whatap.conf

  ```

- loguru module

  ```shell title='loguru'

  echo "trace_loguru_enabled=true" | sudo tee -a {configuration file path}/whatap.conf

  ```

#### Version 1.3.6 or earlier

The transaction ID `{txid}` is output to the log so that the logs generated by each transaction can be viewed separately. WhaTap Monitoring automatically injects `{txid}` into Python LogRecord so that `{txid}` can be output to the log file when setting the formatter.

```shell
settings.py
...
LOGGING = {
...
    'formatters': {
        ...
    },
    'handlers': {
        ...
    },
    'loggers': {
        ...
        '{로거이름}': {
            'handlers': [...],
        ...
        },
    },
}

try:
    import whatap.trace.mod.logging as whatap_logging
    if whatap_logging.logging_injection_processed:
        LOGGING['formatters']['whatap.formatter']={
                '()': 'django.utils.log.ServerFormatter',
                'format': '[{server_time}] -- {{ "@txid" : "{txid}" }} -- {message}',
                'style': '{',
            }
        LOGGING['handlers']['whatap']={
                'level': 'DEBUG',
                'class': 'logging.handlers.RotatingFileHandler',
                'filename': os.path.join(BASE_DIR, 'logs','whatap_log.log'),
                'formatter': 'whatap.formatter',
            }
        LOGGING['loggers'][{Logger name}]['handlers'].append('whatap')
except:
    pass
...
```

## Enabling the log monitoring

Home > Select Project > **_Log_** > **_Log Setting_**

You can enable or disable the WhaTap log monitoring with the toggle button in the **_Activate log monitoring_** tab of the **_Starting the log monitoring_** section. 

import Logjavastart from "../common-items/_log-java-start.mdx";

<Logjavastart />

import Logactivenote from "../common-items/_log-active-note.mdx";

<Logactivenote />
