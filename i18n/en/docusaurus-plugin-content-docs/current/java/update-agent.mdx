---
id: update-agent
title: Agent Update
description: The following explains how to update the Java agent to the latest version. The procedure includes how to download the latest agent and restart the application server to apply the update. For a stable system shutdown, you can see the procedure for terminating Apps, changing the agent JAR file, and updating status during the startup.
keywords:
  - Java
  - Agent
  - Update
---

import Downloadagent from "../common-items/_download-agent.mdx";

<Downloadagent />

## Automatic configuration of the update agent

To update the Java agent, the server must be restarted. If _whatap.agent.jar_ is modified before restart, a graceful shutdown may fail while the application server is restarting.

To update the Java agent, proceed in the following order:

1. App shutdown
2. Modification of the agent jar
3. App start

To easily process the above steps, the agent *jar* file name is to include the version number. It is important to set to automatically apply the latest versions during the update.

```bash {3} showLineNumbers
########## WHATAP ############
WHATAP_HOME=/whatap
WHATAP_JAR=`ls ${WHATAP_HOME}/whatap.agent-*.jar | sort -V | tail -1`
JAVA_OPTS="${JAVA_OPTS} -javaagent:${WHATAP_JAR} "
########## WHATAP ############
```
