---
id: agent-weaving
title: Open Source Tracking
description: Provides configuration methods for tracking frameworks and open source libraries used in Java applications through agents. Configure by adding the weaving option to the Java agent configuration file (whatap.conf), and provides guidance on how to support various framework and library versions.
keywords: [ Java, Agent, Open Source Tracking, Weaving ]
---

This provides configuration methods for tracking frameworks and open source libraries used in Java applications through agents. Configure by adding the `weaving` option to the Java agent configuration file (*whatap.conf*), and provides guidance on how to support various framework and library versions.

For example, when using spring-boot-3.x, feign-client-11, and okhttp3-4.4 as frameworks or open sources, configure the options as follows:
```ini title='whatap.conf'
weaving=spring-boot-3.0,feign-11,okhttp3-4.4
```

## Supported Open Source List

Refer to the following for configuration methods for frameworks or open sources tracked through the Java agent.

### Apache Camel

#### CXF
**Configuration**: `weaving=camel-cxf-3.15`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.27 | camel-cxf 3.15 or later |

#### Netty
**Configuration**: `weaving=camel-netty4-2.25`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.42 | camel-netty4 2.25 or later |

#### SEDA
**Configuration**: `weaving=camel-seda-2.22`, `weaving=camel-seda-3.2`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.20 | camel-seda 2.22 or later, 3.2 or later |

### DB2
**Configuration**: `weaving=db2-11.5`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.18 | db2 11.5 or later |

### DynamoDB
**Configuration**: `weaving=dynamodb-1.11`, `weaving=dynamodb-2.25`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.39 | dynamodb 1.11, 2.25 |

### Feign Client
**Configuration**: `weaving=feign-11`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.6 | feign 11 or later |

### Hystrix
**Configuration**: `weaving=hystrix-1.5`

| Agent Version | Supported Range |
| --- | --- |
| v2.0_21 | hystrix 1.5 or later |

### Kafka
**Configuration**: `weaving=kafka-clients-2.4.0`, `weaving=reactor-kafka-1.3`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.15 | kafka-clients 2.4.0 or later |
| v2.2.5 | reactor-kafka 1.3 or later |

### Logging

#### Log4j2
**Configuration**: `weaving=log4j-2.17`

**Note**: [Agent option to exclude specific appender](agent-log#excludeappender)

| Agent Version | Supported Range |
| --- | --- |
| v2.2.28 | log4j 2.17 or later |

#### Logback
**Configuration**: `weaving=logback-1.2.8`

**Note**: [Agent option to exclude specific appender](agent-log#excludeappender)

| Agent Version | Supported Range |
| --- | --- |
| v2.2.28 | logback 1.2.8 or later |

### MongoDB
**Configuration**: `weaving=mongodb-{version}`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.45 | 3.8.2 ~ 5.0 |
| v2.2.11 | 3.8.2 ~ 4.8 |

### Mule Framework
**Configuration**: `weaving=mule-3.9.5`, `weaving=mule-4.5`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.23 | mule 3.9.5 or later, 4.5 or later |

### OkHttp
**Configuration**: `weaving=okhttp-2.7`, `weaving=okhttp3`, `weaving=okhttp3-4.4`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.9 | okhttp 2.7 or later, okhttp3, okhttp3-4.4 |
| v2.0_15 | okhttp 2.7 or later, okhttp3 (excluding 4.4) |

### Quarkus Reactive
**Configuration**: `weaving=quarkus-reactive-1.13`, `weaving=quarkus-reactive-2.10`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.19 | quarkus-reactive 1.13 or later, 2.10 or later |

### RabbitMQ
**Configuration**: `weaving=reactor-rabbitmq-1.2`

| Agent Version | Supported Range |
| --- | --- |
| v2.0_06 | reactor-rabbitmq 1.2 or later |

### Redis

#### Jedis
**Configuration**: `weaving=jedis-{version}`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.43 | jedis 2.9.0 ~ 3.2 |
| v2.0_33 | jedis 2.9.3 ~ 3.2 |
| v2.0_09 | jedis 3.2 |

#### Lettuce
**Configuration**: `weaving=lettuce-{version}`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.16 | lettuce 5.1 ~ 6.2 |
| v2.2.7 | lettuce 5.1 |

### Retrofit
**Configuration**: `weaving=retrofit-2.5`

**Note**: Cannot be used simultaneously with okhttp configuration

| Agent Version | Supported Range |
| --- | --- |
| v2.2.39 | retrofit 2.5 or later |

### Ribbon
**Configuration**: `weaving=ribbon`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.10 | ribbon |

### Spring Boot
**Configuration**: `weaving=spring-boot-{version}`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.38 | spring-boot 2.1 ~ 3.2 |
| v2.2.23 | spring-boot 2.1 |
| v2.2.9 | spring-boot 2.5 ~ 3.0 |

<details>
<summary>View included technology stack</summary>

- **spring-boot-2.1**: r2dbc-mysql-0.8.2, spring-cloud-gateway-2.1, spring-kafka-2.7, spring-webflux-5.1, tomcat9
- **spring-boot-2.5**: r2dbc-mysql-0.8.2, spring-cloud-gateway-3.0, spring-kafka-2.7, spring-webflux-5.3, mongodb-4.0.3, reactor-kafka-1.3, rxjava2, tomcat9
- **spring-boot-2.7**: jasync-r2dbc-mysql-2.1.23, r2dbc-mysql-0.9.3, spring-cloud-gateway-3.1, spring-kafka-3.0, spring-webflux-5.3, mongodb-4.4, reactor-kafka-1.3, rxjava2, tomcat9
- **spring-boot-3.0**: jasync-r2dbc-mysql-2.1.23, r2dbc-mysql-1.0.2, spring-cloud-gateway-4.0, spring-kafka-3.0, spring-webflux-6.0, mongodb-4.8, redis(lettuce-6.2), reactor-kafka-1.3, rxjava3, tomcat10
- **spring-boot-3.2**: jasync-r2dbc-mysql-2.1.23, r2dbc-mysql-1.1.3, spring-cloud-gateway-4.1, spring-kafka-3.1, spring-webflux-6.1, redis(lettuce-6.2), reactor-kafka-1.3, rxjava3, tomcat10

</details>

### Tomcat
**Configuration**: `weaving=tomcat9`, `weaving=tomcat10`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.5 | tomcat9, tomcat10 |

### Undertow
**Configuration**: `weaving=undertow-{version}`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.39 | undertow 2.2 ~ 2.3 |
| v2.2.14 | undertow 2.3 |

### Vert.x
**Configuration**: `weaving=vertx-{version}`

| Agent Version | Supported Range |
| --- | --- |
| v2.2.44 | vertx 3.5.3 ~ 4.5 |
| v2.2.42 | vertx 3.5.3 |
| v2.2.39 | vertx 4.5 |

## Preventing Java Agent CVE False Positives

Library classes included in the Java agent are loaded only when actually used by the application. Even if libraries are detected during CVE vulnerability scans, there is no actual vulnerability if they are not being used.

To remove unnecessary tracking classes, run the following command:
```bash
java -cp whatap.agent-X.Y.Z.jar whatap.agent.setup.RemoveWeaving -remove [weaving jar filename]
```

:::caution
The removal operation must be performed again after each Java agent update.
:::

:::note

The command to remove specific library classes is supported in **Java agent version 2.2.37** or later.

**Usage**: `java -cp whatap.agent-X.Y.Z.jar whatap.agent.setup.RemoveWeaving [arguments] [weaving jar filename]`
```bash title="Example"
java -cp whatap.agent-2.2.37.jar whatap.agent.setup.RemoveWeaving -remove spring-boot-2.5.jar spring-boot-2.7.jar
```

**Arguments:**

* `-r` or `-remove`: Deletes weaving jar files from the Java agent and creates a new Java agent.

* `-l` or `-list`: Prints the list of weaving jar files.

* `-d` or `-debug`: Enables debug logging.

* `-e` or `-error`: Displays full stack trace information for errors.

* `-h` or `-help`: Prints help and exits.

:::