### Unable to Detect Additional PHP ini Scan Directory

If PHP was compiled without the `--with-config-file-scan-dir=PATH` option, the additional ini scan directory will not be detected, resulting in missing configuration loading.

#### How to Check

* **Linux/FreeBSD**
```bash
$ sudo php -i | grep '.ini files'

Scan this dir for additional .ini files => (none)
```

* **Windows**
```cmd
php --ini
```

#### How to Fix

Append the contents of *whatap.ini* to the end of the *php.ini* file.

##### Linux

```bash
$ php -i | grep 'php.ini'

Loaded Configuration File => /etc/php.ini

$ sudo vi php.ini

# Add at the end of the file
[whatap]
;Enable whatap extension module
extension=whatap.so
whatap.ext.error_enabled=true
whatap.ext.exception_enabled=true
whatap.trace_user_enabled=true
whatap.trace_user_using_ip=false
```

For all other options, refer to */usr/whatap/php/whatap.ini*.

##### Windows

```cmd
REM Append whatap.ini content to php.ini
type "C:\Program Files\WhaTap\PHP\template.ini" >> C:\PHP\php.ini

REM Or edit manually
notepad C:\PHP\php.ini
```

* **Content to append to php.ini (Windows example)**
```ini
[whatap]
extension=php_whatap.dll

# For additional whatap.ini settings, see C:\Program Files\WhaTap\PHP\whatap.ini
```

#### Setting Environment Variable for whatap-php Service

Set the *whatap.ini* directory path to the `$WHATAP_CONFIG_HOME` environment variable.

If PHP cannot detect the additional ini scan directory, set the path where you created *whatap.ini* (e.g., */usr/whatap/php*).

```bash
$ sudo vi /etc/init.d/whatap-php

export WHATAP_CONFIG_HOME=      # Path to whatap.ini (/etc/php.d)
```

#### Restart Services

* Restart Apache and PHP-FPM services  
* Restart whatap-php service

#### Error: Not found PHP API

This occurs when the PHP CLI command cannot be located.

Verify the correct [location of the PHP CLI](#check-php-cli-path), then complete the steps in  
[Manual Installation of PHP Extension Module and whatap-php Service](#extension-modul-manual-setting).

##### Linux

```bash title='Check PHP API version'
$ sudo php -i | grep 'PHP API'

PHP API => 20100412
```

##### Windows

```cmd
REM Check PHP path
where php

REM Add PHP path to environment PATH
setx PATH "%PATH%;C:\PHP"

REM Or add manually via system environment variables
sysdm.cpl → Advanced → Environment Variables → Edit PATH
```
