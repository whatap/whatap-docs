### Response Time Heatmap Not Displayed

You may see CPU and memory graphs, but the response time distribution (heatmap) does not appear.  
This occurs in the following cases:

* The agent is connected to the collector, but the tracer is not properly applied to the PHP extension module.
* Apache or PHP-FPM was not restarted after configuration changes.

1. Check whether the PHP module is loaded.

   * **Linux/FreeBSD**

   ```bash
   $ sudo php -m

   [PHP Modules]
   bz2
   calendar
   Core
   ctype
   curl
   date
   …
   whatap               # Verify that the WhaTap module is loaded
   …
   [Zend Modules]
   ```

   * **Windows**
   ```cmd
   php -m | findstr whatap
   ```

   * **Example (normal output)**
   ```
   whatap
   ```

2. Restart the web service.

   * **Windows**
   ```cmd
   REM Apache
   net stop Apache2.4 && net start Apache2.4

   REM IIS
   iisreset
   ```

3. Check the extension directory.

   * **Windows**
   ```cmd
   REM Check PHP extension directory
   php -i | findstr extension_dir
   REM Example output: extension_dir => C:\PHP\ext

   REM Verify php_whatap.dll exists (use the directory confirmed above)
   dir "C:\PHP\ext\php_whatap.dll"
   ```

   If the file does not exist, copy it manually (use the directory confirmed above).

   ```cmd
   REM Check PHP API version
   php -i | findstr "PHP API"
   REM Example: PHP API => 20230831

   REM Check Thread Safety
   php -i | findstr "Thread Safety"
   REM Example: Thread Safety => disabled

   REM Copy the appropriate DLL (use the correct extension_dir path)
   copy "C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_20230831.dll" "C:\PHP\ext\php_whatap.dll"
   ```

4. Check the PHP configuration file.  
   Make sure the path of *whatap.so* or *whatap.ini* matches your PHP environment.

   * **Windows**
   ```cmd
   php --ini
   ```

5. Check the logs.

   * **Windows**
   ```cmd
   REM Installation log
   type "C:\Program Files\WhaTap\PHP\logs\whatap-install.log"

   REM Latest boot log
   dir "C:\Program Files\WhaTap\PHP\logs\whatap-boot-*.log" /O-D
   ```

:::note
Check the following items:  
[PHP CLI Path](#check-php-cli-path),  
[PHP Extension Module Path](#check-php-extension-module),  
[PHP Additional ini Path](#php-ini-path).
:::
