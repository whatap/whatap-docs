## Adding the 3rd party plug-in alert {#add3rdparty}

You can receive alerts through external applications such as Slack, Telegram, Teams, Jandi, and Webhooks.

1. In <Cmdname sid="event_statistic" className="uitext" /> &gt; <Cmdname sid="eventNoti" className="uitext" />, select <Cmdname sid="adding" className="uitext" /> in the <Cmdname sid="3rd_party_plugin" className="uitext" /> section.

2. Select a desired service.

   <ImgLang img='set-event-3rd-party-plugin.png' desc='3rd Party Plugin Addition' />

3. Proceed with the configuration according to the on-screen instructions for the selected service.

4. After all steps are finished, select Add.

:::note

The in-house messengers that are not included in the support scope of WhaTap Labs can be linked through the standard webhook and webhook json.

:::

Check the following list of 3rd party plug-ins for the methods to add alerts that are appropriate for your application.

<details>

<summary>Slack</summary>

You can register **WhaTapNotiBot** to the desired teams and channels in Slack by clicking <Cmdname sid="add_to_slack" className="uitext" /> at the bottom of the screen.

<ImgLang img='3rdparty/set-event-3rd-party-plugin-add-slack.png' desc='Slack' />

</details>

<details>

<summary>Telegram</summary>

1. In **Telegram**, search for **@WhaTapApmNotiBot**.

   <ImgLang img='3rdparty/set-event-3rd-party-plugin-add-telegram.png' desc='Telegram' />

2. Enter the access key for the project to be notified in the chat window.

   <ImgLang img='3rdparty/set-event-3rd-party-plugin-add-telegram-license.png' desc='Telegram' />

:::note

The following lists available commands.

- `/help`: Listing commands

- `/license`: Enter the access key for the project to be notified of.

- `/remove`: Enter the project code for which you do not want to receive alerts.

- `/list`: It displays the project code that is receiving alerts.

:::

</details>

<details>

<summary>Teams</summary>

1. Go to the **Connector** settings for the channels to receive alerts for.

   <ImgLang img="3rdparty/management_event_new_teams_step_01.png" className="width-200" desc="Teams" />

2. Add a **Webhook**, click **Configure**, and proceed to the next step.

   <ImgLang img="3rdparty/management_event_new_teams_step_02.png" className="width-600" desc="Teams" />

3. Enter the Webhook name and then click **Create**.

   <ImgLang img="3rdparty/management_event_new_teams_step_03.png" className="width-600" desc="Teams" />

4. Copy the generated Webhook URL.

   <ImgLang img="3rdparty/management_event_new_teams_step_04.png" className="width-600" desc="Teams" />

5. Go back to the <Cmdname sid="TTL06656" className="uitext" /> screen of the WhaTap monitoring service and enter the <UI>Channel Name</UI> and <UI>Webhook URL</UI>.

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-teams.png" className="width-600" desc="Register" />

6. Select <Cmdname sid="BTN06673" className="uitext" />.

</details>

<details>

<summary>Teams Workflows</summary>

To use workflows, you need an account with access to **Microsoft Teams** and a business plan subscription.

1. In the **Team** menu, select the More (...) button and then click **Add Channel**.

   <ImgLang img="3rdparty/teams_workflows_step_01.png" desc="Teams Workflows" />

2. Enter a channel name and description and then select **Standard** as the channel type.

   <ImgLang img="3rdparty/teams_workflows_step_02.png" desc="Teams Workflows" />

   :::note

   If you select **Shared** as the channel type, you cannot use workflows. If you select **Private**, you can add workflows but cannot receive notifications.

   :::

3. In the created channel, select the More (...) button and then click **Workflow**.

   <ImgLang img="3rdparty/teams_workflows_step_03.png" desc="Teams Workflows" />

4. In the list of **workflows** of the **Workflow** dialog box, select **Post to channel when a webhook request is received**, and then click **Add Workflow**.

   <ImgLang img="3rdparty/teams_workflows_step_04.png" desc="Teams Workflows" />

5. Check the name and connection status and then click **Next**.

   <ImgLang img="3rdparty/teams_workflows_step_05.png" desc="Teams Workflows" />

6. Check the detailed information and then click **Add Workflow**.

   <ImgLang img="3rdparty/teams_workflows_step_06.png" desc="Teams Workflows" />

7. After workflow addition is completed, copy the **created address**.

   <ImgLang img="3rdparty/teams_workflows_step_07.png" desc="Teams Workflows" />

8. Go back to the <Cmdname sid="TTL06656" className="uitext" /> screen of the WhaTap monitoring service and enter the <UI>Channel Name</UI> and <UI>Webhook URL</UI>.

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-teams.png" className="width-600" desc="Register" />

9. Select <Cmdname sid="BTN06673" className="uitext" />.

</details>

<details>

<summary>Jandi</summary>

1. Go to the **Jandi Connect** settings in the topic or Chat to receive alerts.

2. In the <b>Incoming Webhook</b> of **Connect list**, select **Integrate**.

   <ImgLang img="3rdparty/management_event_jandi_step_01.png" desc="Jandi" />

3. In the **Integrate** tab, select **Add integration**.

4. Copy the Webhook URL in **Register Webhook URL**.

   <ImgLang img="3rdparty/management_event_jandi_step_02.png" desc="Jandi" />

5. Go back to the <Cmdname sid="TTL06656" className="uitext" /> screen of the WhaTap monitoring service and enter the <UI>Channel Name</UI> and <UI>Webhook URL</UI>.

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-teams.png" className="width-600" desc="Register" />

6. Select <Cmdname sid="BTN06673" className="uitext" />.

</details>

<details>

<summary>AlertNow</summary>

1. Access the **AlertNow** service and then go to **Integration**.

   <ImgLang img="3rdparty/management_event_alertnow_step_01.png" desc="AlertNow" className="width-200" />

2. In **Integration**, select **Create Integration**.

   <ImgLang img="3rdparty/management_event_alertnow_step_02.png" desc="AlertNow" className="width-600" />

3. Select **WhaTap** among the integration types.

   ![AlerNow](/img/3rdparty/management_event_alertnow_step_03.png)

4. Set the name and naming rules on the **Integration** screen.

   <ImgLang img="3rdparty/management_event_alertnow_step_04.png" desc="AlertNow" className="width-600" />

5. Select **OK** to create the integration.

6. Check the list of created integrations and then select the created integration.

   <ImgLang img="3rdparty/management_event_alertnow_step_05.png" desc="AlertNow" className="width-600" />

7. On the details screen, select the Copy button to the right of **URL** for copying.

   <ImgLang img="3rdparty/management_event_alertnow_step_06.png" desc="AlertNow" className="width-600" />

8. Go back to the <Cmdname sid="TTL06656" className="uitext" /> screen of the WhaTap monitoring service and enter the <UI>Channel Name</UI> and <UI>Webhook URL</UI>.

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-teams.png" className="width-600" desc="Register" />

9. Select <Cmdname sid="BTN06673" className="uitext" />.

</details>

<details>

<summary>Webhook</summary>

1. Register a webhook to receive alerts. The `title` and `text` of the alert are sent to the registered URL by using the POST method.

   ![Webhook](/img/3rdparty/set-event-3rd-party-plugin-add-webhook.png)

2. Enter values for <UI>Webhook Name</UI> and <UI>Webhook URL</UI>.

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-webhook-options.png" className="width-600" desc="Register" />

3. Select <Cmdname sid="BTN06673" className="uitext" />.

</details>

<Xclude product="server">

<details>

<summary>Webhook JSON</summary>

1. Register a Webhook to receive notifications. The notifications are sent in JSON format to the registered URL by using the POST method. For alternative variables that can be included in JSON, see the **Available variables** section.

   ```json
   {
       "pcode": "${pcode}",
       "projectName": "${projectName}",
       "time": "${time}",
       "oid": "${oid}",
       "oname": "${oname}",
       "title": "${title}",
       "message": "${message}",
       "level": "${level}",
       "status": "${status}",
       "metricName": "${metricName}",
       "metricValue": "${metricValue}",
       "metricThreshold": "${metricThreshold}",
       "uuid": "${uuid}",
       "okind": "${okind}",
       "onode": "${onode}"
   }
   ```

2. Enter values for <UI>Webhook Name</UI> and <UI>Webhook URL</UI>.

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-webhook-json-options.png" className="width-600" desc="Register" />

3. Select <Cmdname sid="BTN06673" className="uitext" />.

:::note

- Event status (`status`) can be divided into event occurrence (`on`) and event resolution (`off`).

- The `level` is divided into `None`, `Info`, `Warning`, and `Critical`.

- To add the header values, select <Cmdname sid="TTL06674" className="uitext" />.

:::

</details>

</Xclude>

<InDoc product="server">

<details>

<summary>Webhook JSON</summary>

1. Register a webhook to receive alerts. The notification data is sent to the registered URL in JSON format by using the POST method.

   ```json
   {
       "pcode": 1234,
       "projectName": "Sample project",
       "time": 1577840400000,
       "oid": 1234567890,
       "oname": "WAS-01", // Optional
       "title": "Alert Title",
       "message": "Sample warning message",
       "level": "Warning",
       "status": "on",
       "metricName": "cpu", // Optional
       "metricValue": "99.99", // Optional
       "metricThreshold": "90", // Optional
       "uuid": "ba5db108b788475c95195***********",
       "okind": "WAS-okind-01", // Optional
       "onode": "WAS-onode-01", // Optional
       "serverAlertPolicyName": "Memory Alert" // Optional
   }
   ```

2. Enter values for <UI>Webhook Name</UI> and <UI>Webhook URL</UI>.

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-webhook-json-options.png" className="width-600" desc="Register" />

3. Select <Cmdname sid="BTN06673" className="uitext" />.

:::note

- Event status (`status`) can be divided into event occurrence (`on`) and event resolution (`off`).

- The `level` is divided into `None`, `Info`, `Warning`, and `Critical`.

- To add the header values, select <Cmdname sid="TTL06674" className="uitext" />.

:::

</details>

</InDoc>

<details>

<summary>Opsgenie</summary>

1. In **Teams**, select a team to receive alerts for and then click **Integrations**.

   ![Opsgenie](/img/3rdparty/management_event_opsgenie_step_01.png)

2. Select **Add Integration**.

   ![Opsgenie](/img/3rdparty/management_event_opsgenie_step_02.png)

3. Search for 'API' in the Integration list and then select it.

   ![Opsgenie](/img/3rdparty/management_event_opsgenie_step_03.png)

4. Assign an API name and a team, and then set roles for each.

   ![Opsgenie](/img/3rdparty/management_event_opsgenie_step_04.png)

5. Select **Save Integration**.

6. Go back to <Cmdname sid="TTL06656" className="uitext" /> of the WhaTap monitoring service and then enter values for <UI>Name</UI> and <UI>API Key</UI>.

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-opsgenie-options.png" className="width-600" desc="Register" />

7. Select <Cmdname sid="BTN06673" className="uitext" />.

</details>

<details>

<summary>PagerDuty</summary>

1. Check that you have registered and logged in to the [PagerDuty](https://www.pagerduty.com/) account.

2. In PagerDuty, go to **Services** &gt; **Service Directory**, and then select **New Service**.

   ![PagerDuty](https://preview.whatap.io/assets/assets/image/management_event_pagerduty_step_01.jpg)

3. Enter the service information and then click **Next**.

   ![PagerDuty](https://preview.whatap.io/assets/assets/image/management_event_pagerduty_step_02.jpg)

4. Set the Escalation Policy and then select **Next**.

   ![PagerDuty](https://preview.whatap.io/assets/assets/image/management_event_pagerduty_step_03.jpg)

5. Set the values for **Alert Grouping** and **Transient Alerts**, and then select **Next**.

   ![PagerDuty](https://preview.whatap.io/assets/assets/image/management_event_pagerduty_step_04.jpg)

6. In **Integrations**, select **Event API V2** and then click **Create Service**.

   ![PagerDuty](https://preview.whatap.io/assets/assets/image/management_event_pagerduty_step_05.jpg)

7. Copy the values for **Integration Name** and **Integration Key** ​​on the created service screen.

   ![PagerDuty](https://preview.whatap.io/assets/assets/image/management_event_pagerduty_step_06.jpg)

8. Go back to the <Cmdname sid="TTL06656" className="uitext" /> screen of the WhaTap monitoring service and enter the <UI>Integration Name</UI> and <UI>Integration Key</UI>.

   <ImgLang img="3rdparty/set-event-3rd-party-plugin-add-pagerduty-options.png" className="width-600" desc="Register" />

:::note

If the message has not been received or the plugin has not been registered, check that the **Integration Name** or **Integration Key** value is correct.

:::

</details>

### Receiving AI notifications <code className="Beta">Beta</code> {#smartmessage}

If you added a 3rd party plugin as a notification method via Telegram, you can use the AI ​​notification feature. The AI ​​notification feature provides monitoring notifications in a more concise and understandable manner, helping users quickly identify and respond to issues.

<ImgLang img="telegram-set-smart-ai-message.png" desc="Get AI notifications" />

In Telegram of the <Cmdname sid="3rd_party_plugin" className="uitext" /> section, select the <Cmdname sid="ITM08845" className="uitext" /> option. By enabling the <Cmdname sid="ITM08845" className="uitext" /> option, you can receive notifications from Telegram in the following summarized form:

<ImgLang img="telegram-smart-ai-message.png" desc="Message" />

:::note

- You can select your preferred language. The supported languages ​​are Korean, English, and Japanese.

- In the **Application** and **Server** products, you can ask questions related to the notification by clicking **Get query code**. This feature is scheduled to be expanded to other products.

- The AI ​​notification feature is currently in Beta and may not provide perfect answers.

:::
