Home &gt; Select Project &gt; <Cmdname sid="side_analysis" className="uitext" /> &gt; <Cmdname sid="side_dbTopSqlComparison" className="uitext" />

You can compare the SQL trends in the time zone set based on a specific date. You can compare the performance of SQL by selecting multiple criteria and view it as a time series graph via <UI>Summary Chart</UI>. Additionally, the table list at the bottom of the screen allows you to compare the **Top SQL** rankings and fluctuations between the reference date and the comparison date.

<ImgLang img="db-analysis-compare-top-sql.png" desc="Top SQL Comparison" />

- **Check SQL performance**: You can easily check the SQL performance through the <Cmdname sid="side_dbTopSqlComparison" className="uitext" /> menu. You can quickly identify performance issues in your system by comparing the number of SQL executions, maximum elapsed time, total elapsed time, waiting time, and more.

- **Check trends over time**: You can visually check the performance changes of SQL over time through <UI>Summary Chart</UI>. This allows users to quickly identify and respond to time zones or sections of system load or performance degradation.

- **Top SQL comparison**: The table list at the bottom of the screen allows you to compare the Top SQL rankings for the reference date and the comparison date. This allows users to see and compare performance changes in SQL and take necessary actions to improve the performance.

## Comparing Top SQLs

Set the conditions for Top SQL comparison on the screen and then select ![Search icon](/img/ico-btn-search.png).

- <Cmdname sid="reference_time" className="uitext" />: Set the reference time for comparison. It can be set up to 24 hours. By clicking the green button, the options to select a viewing time appear. Select the date and time area to set your own preferred time.

  :::note

  - The maximum time range that can be viewed is 24 hours.

  - For more information on how to use the <Cmdname sid="reference_time" className="uitext" /> option.

  :::

- <Cmdname sid="ITM08026" className="uitext" />: Select a date or time to compare with the time set in <Cmdname sid="reference_time" className="uitext" />. Select the desired conditions and then select <Cmdname sid="BTN06053" className="uitext" />.

  |              <Cmdname sid="move_date" className="uitext" />             |            <Cmdname sid="ITM08027" className="uitext" />           |
  | :---------------------------------------------------------------------: | :----------------------------------------------------------------: |
  | <ImgLang img="db-analysis-comapre-top-sql-date.png" desc="Date time" /> | <ImgLang img="db-analysis-comapre-top-sql-time.png" desc="Time" /> |

- <Cmdname sid="instance" className="uitext" />: Select an instance target for SQL comparison.

- <Cmdname sid="TTL06346" className="uitext" />: Select the comparison criteria. It generates a chart and then sorts them by rank according to the selected items.

  - <UI>excute count</UI>: It sorts query results by the number of executions.

  - <UI>elapsed max</UI>: It sorts searched results by the maximum elapsed time.

  - <UI>elapsed time</UI>: It sorts searched results by the total elapsed time.

  - <UI>elapsed wait</UI>: It sorts the searched results by the waiting time.

- <Cmdname sid="TTL07773" className="uitext" />: Set the count to display in the SQL ranking table list at the bottom of the screen.

## Summary Chart

<UI>Summary Chart</UI> provides a time series graph that allows you to compare SQL trends between the reference date and a comparison date. This allows users to easily check how SQL performance changes over time.

<ImgLang img="db-analysis-comapre-top-sql-summary-chart.png" desc="Summary Chart" />

- <span class="normal">◼︎</span> Blue graph: It indicates the reference date and the number on the right is the average.

- <span class="mstop">◼︎</span> Gray graph: It indicates the comparison date, and the number on the right is the average.

## Comparing SQL rankings

The SQL ranking table at the bottom of the screen displays a list of the top SQLs. The displayed number can be set in <Cmdname sid="TTL07773" className="uitext" />.

![Top SQL](/img/db-analysis-comapre-top-sql-table.png)

The table on the left displays the SQL rankings for the reference date, and the table on the right displays the SQL rankings for the comparison date. You can check the changes in rank compared to the comparison date through the <UI>rank changed</UI> column in the reference date table.

For example, if a user compares based on the <UI>elapsed time</UI> and the elapsed time for the same SQL statement on the reference date is greater than the comparison date, the performance of the SQL statement needs to be reviewed. Try using query optimization or indexes to optimize the performance.

### Previewing the query

<ImgLang img="db-analysis-comapre-top-sql-table-preview-query.png" desc="Previewing the query" />

You can check the query of the corresponding SQL statement by hovering the mouse over the <UI>query</UI> column in the SQL ranking table.
