---
id: install-agent
title: Installation
description: It guides you to the installation of Azure items.
keywords:
  - Installation
  - Azure Monitor
  - Cloud
---

import TR from '@site/src/components/TR';
import ProdImg from '@site/src/components/ChangeImgName.js';

WhaTap Azure Monitor collects metrics periodically through API integration. It collects the target stats every 5 minutes from the Azure Monitor namespace of the desired service. When you start monitoring, you can search for user resources in all regions and start monitoring with one click. You can use it safely and conveniently with Azure registerd app.

To use the WhaTap monitoring service, you must first [sign up](https://www.whatap.io/en/signup/) and create a project. For more information on signing up, see [this document](../account/account-manage).

import Createprojectv2 from "../getting-started/_create-project-v2.mdx";

<Createprojectv2 />

## Monitoring procedure

1. Add the Azure registered app.
2. Enter the Azure authentication data.
3. Select the Azure Monitor namespace and collection cycle.
4. Select the resource group, metric, stat, etc.

:::note

After installation, extra charge may be incurred in the cloud depending on the usage, separate from the WhaTap fee. Before installation, check the pricing policy of the active cloud service in [the following](https://azure.microsoft.com/ko-kr/pricing/details/monitor/).

:::

### Adding the Azure registered app

Add [Registered App](https://portal.azure.com/#view/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/~/RegisteredApps) for WhaTap monitoring. Create a secret and enter the application ID (ApplicationId), tenant ID (TenantId), and secret into WhaTap. 

For WhaTap monitoring, the permissions as monitor reader, reader, and API management service reader are required. In the Azure Portal, you can add roles by clicking Add in Subscript > Access Control (IAM).

![Azure Active Directory](/img/registeredapps.png)

### Entry of authentication data

Enter the **_application ID_**, **_tenant ID_**, and **_Azure secret key_** into WhaTap as Azure authentication data.

<ImgLang img='whatap_azure_auth_dialog.png' desc='Azure Monitor - Authentification' />

### Selecting the namespace and collection cycle

import Namespacecollect from "../common-items/_namespace-collect.mdx";

<Namespacecollect />

#### Whatap Data Interval

import Collectingperiod from "../common-items/_collecting-period.mdx";

<Collectingperiod />

#### Namespace

- Microsoft.aadiam azureADMetrics
- Microsoft.AnalysisServices servers
- Microsoft.ApiManagement service
- Microsoft.AppConfiguration configurationStores
- Microsoft.AppPlatform Spring
- Microsoft.Automation automationAccounts
- Microsoft.AVS privateClouds
- Microsoft.Batch batchAccounts
- Microsoft.BatchAI workspaces
- Microsoft.Blockchain blockchainMembers
- Microsoft.botservice botservices
- Microsoft.Cache redis
- Microsoft.Cache redisEnterprise
- Microsoft.Cdn cdnwebapplicationfirewallpolicies
- Microsoft.Cdn profiles
- Microsoft.ClassicCompute domainNames slots roles
- Microsoft.ClassicCompute virtualMachines
- Microsoft.ClassicStorage storageAccounts
- Microsoft.ClassicStorage storageAccounts blobServices
- Microsoft.ClassicStorage storageAccounts fileServices
- Microsoft.ClassicStorage storageAccounts queueServices
- Microsoft.ClassicStorage storageAccounts tableServices
- Microsoft.CognitiveServices accounts
- Microsoft.Communication CommunicationServices
- Microsoft.Compute cloudServices
- Microsoft.Compute cloudServices roles
- Microsoft.compute disks
- Microsoft.Compute virtualMachines
- Microsoft.Compute virtualMachineScaleSets
- Microsoft.Compute virtualMachineScaleSets virtualMachines
- Microsoft.ContainerInstance containerGroups
- Microsoft.ContainerRegistry registries
- Microsoft.ContainerService managedClusters
- Microsoft.CustomProviders resourceproviders
- Microsoft.DataBoxEdge dataBoxEdgeDevices
- Microsoft.DataCollaboration workspaces
- Microsoft.DataFactory datafactories
- Microsoft.DataFactory factories
- Microsoft.DataLakeAnalytics accounts
- Microsoft.DataLakeStore accounts
- Microsoft.DataShare accounts
- Microsoft.DBforMariaDB servers
- Microsoft.DBforMySQL flexibleServers
- Microsoft.DBforMySQL servers
- Microsoft.DBforPostgreSQL flexibleServers
- Microsoft.DBforPostgreSQL servers
- Microsoft.DBforPostgreSQL serversv2
- Microsoft.Devices ElasticPools
- Microsoft.Devices ElasticPools IotHubTenants
- Microsoft.Devices IotHubs
- Microsoft.Devices provisioningServices
- Microsoft.DigitalTwins digitalTwinsInstances
- Microsoft.DocumentDB databaseAccounts
- Microsoft.EventGrid domains
- Microsoft.EventGrid eventSubscriptions
- Microsoft.EventGrid extensionTopics
- Microsoft.EventGrid partnerNamespaces
- Microsoft.EventGrid partnerTopics
- Microsoft.EventGrid systemTopics
- Microsoft.EventGrid topics
- Microsoft.EventHub clusters
- Microsoft.EventHub namespaces
- Microsoft.HDInsight clusters
- Microsoft.HealthcareApis services
- Microsoft.hybridnetwork networkfunctions
- Microsoft.hybridnetwork virtualnetworkfunctions
- Microsoft.insights autoscalesettings
- Microsoft.Insights Components
- Microsoft.IoTCentral IoTApps
- Microsoft.IoTSpaces Graph
- Microsoft.keyvault managedhsms
- Microsoft.KeyVault vaults
- Microsoft.kubernetes connectedClusters
- Microsoft.Kusto Clusters
- Microsoft.Logic integrationServiceEnvironments
- Microsoft.Logic workflows
- Microsoft.MachineLearningServices workspaces
- Microsoft.Maps accounts
- Microsoft.Media mediaservices
- Microsoft.Media mediaservices liveEvents
- Microsoft.Media mediaservices streamingEndpoints
- Microsoft.MixedReality remoteRenderingAccounts
- Microsoft.MixedReality spatialAnchorsAccounts
- Microsoft.NetApp netAppAccounts capacityPools
- Microsoft.NetApp netAppAccounts capacityPools volumes
- Microsoft.Network applicationGateways
- Microsoft.Network azurefirewalls
- Microsoft.Network connections
- Microsoft.Network dnszones
- Microsoft.Network expressRouteCircuits
- Microsoft.Network expressRouteCircuits peerings
- Microsoft.Network expressRouteGateways
- Microsoft.Network expressRoutePorts
- Microsoft.Network frontdoors
- Microsoft.Network loadBalancers
- Microsoft.Network natGateways
- Microsoft.Network networkInterfaces
- Microsoft.Network networkWatchers connectionMonitors
- Microsoft.Network p2sVpnGateways
- Microsoft.Network privateDnsZones
- Microsoft.Network privateEndpoints
- Microsoft.Network privateLinkServices
- Microsoft.Network publicIPAddresses
- Microsoft.Network trafficManagerProfiles
- Microsoft.Network virtualNetworkGateways
- Microsoft.Network virtualNetworks
- Microsoft.Network virtualRouters
- Microsoft.Network vpnGateways
- Microsoft.NotificationHubs Namespaces NotificationHubs
- Microsoft.OperationalInsights workspaces
- Microsoft.Peering peerings
- Microsoft.Peering peeringServices
- Microsoft.PowerBIDedicated capacities
- Microsoft.ProjectBabylon accounts
- Microsoft.purview accounts
- Microsoft.Relay namespaces
- Microsoft.resources subscriptions
- Microsoft.Search searchServices
- Microsoft.ServiceBus namespaces
- Microsoft.ServiceFabricMesh applications
- Microsoft.SignalRService SignalR
- Microsoft.Sql managedInstances
- Microsoft.Sql servers databases
- Microsoft.Sql servers elasticPools
- Microsoft.Storage storageAccounts
- Microsoft.Storage storageAccounts blobServices
- Microsoft.Storage storageAccounts fileServices
- Microsoft.Storage storageAccounts queueServices
- Microsoft.Storage storageAccounts tableServices
- Microsoft.StorageCache caches
- Microsoft.storagesync storageSyncServices
- Microsoft.storagesync storageSyncServices registeredServers
- Microsoft.storagesync storageSyncServices syncGroups
- Microsoft.storagesync storageSyncServices syncGroups serverEndpoints
- Microsoft.StreamAnalytics streamingjobs
- Microsoft.Synapse workspaces
- Microsoft.Synapse workspaces bigDataPools
- Microsoft.Synapse workspaces sqlPools
- Microsoft.TimeSeriesInsights environments
- Microsoft.TimeSeriesInsights environments eventsources
- Microsoft.VMwareCloudSimple virtualMachines
- Microsoft.Web hostingEnvironments multiRolePools
- Microsoft.Web hostingEnvironments workerPools
- Microsoft.Web serverfarms
- Microsoft.Web sites
- Microsoft.Web sites slots
- Microsoft.Web staticSites

### Selecting the resource group, metric, and stat

![number2](/img/number-02.png) If you click ![Edit icon](/img/ico-edit.svg) **_Edit_** on the right of the collection checked namespace, you can select **_Resource Group_**, **_Metrics_**, and **_Stat_**.

<ImgLang img='whatap_azure_resourcegroup_dialog.png' desc='Azure Monitor - ResourceGroup, Metric, Stats' />

## Service initialization and deactivation of data collection {#data-deactivation}

<ImgLang img='cloud-deact.png' desc='비활성화 및 서비스 초기화 sc' />

- ![Leader line a](/img/char-a.svg) When the collection toggle ![Icon](/img/ic-toggle-off.svg) is disabled, the data collection is stopped.

- ![Leader line b](/img/char-b.svg) Select **_Change Role_** to disable all services that are collecting metrics by selecting ![Leader line c](/img/char-c.svg) **_Service initialization_** on the **_Agent installation_** screen.

- To completely avoid incurring costs, delete the following items:  

  - Delete the monitoring leader role from the Azure portal subscript. 

  - Delete the Azure registered app. 
