---
id: install-agent
title: Installation
description: It guides you to the installation of Amazon CloudWatch items.
keywords:
  - Installation
  - Amazon CloudWatch
  - Cloud
---

import TR from '@site/src/components/TR';
import ProdImg from '@site/src/components/ChangeImgName.js';

WhaTap Amazon CloudWatch monitoring collects metrics periodically through API integration. It collects the target stats every 5 minutes from the CloudWatch namespace of the desired service. When you start monitoring, you can search for user resources in all regions and start monitoring with one click. You can use it safely and conveniently with role-based authentication. 

To use the WhaTap monitoring service, you must first [sign up](https://www.whatap.io/en/signup/) and create a project. For more information on signing up, see [this document](../account/account-manage).

import Createprojectv2 from "../getting-started/_create-project-v2.mdx";

<Createprojectv2 />

## Preliminary inspection

Check the required permissions and recommended policies.

| Resouce          | Role |
| ---------------- | ---- |
| CloudWatch       | Read |
| EC2              | Read |
| ElasticCache     | Read |
| CloudFront       | Read |
| Dynammodb        | Read |
| ElasticBeansTalk | Read |
| AutoScaling      | Read |
| EFS              | Read |
| RDS              | Read |

- **Recommended policy**
  - arn:aws:iam::aws:policy/ReadOnlyAccess

## Monitoring procedure

1. Enter the Amazon authentication data.
2. Select values for Cloudwatch namespace and collection cycle.
3. Select values for region, metric, and stat.

:::note

After installation, extra charge may be incurred in the cloud depending on the usage, separate from the WhaTap fee. Before installation, check the pricing policy of the active cloud service in [the following](https://aws.amazon.com/en/cloudwatch/pricing/).

:::

### Entry of authentication data

Installation method using Role ARN is supported. The WhaTap AWS account (**911937781722**) collects Cloudwatch data by directly assuming the user role. Role assuming is safe and convenient because it does not require access key issuance.

:::note

Configuration using the role is recommended. The access key is available only to existing access key users.

:::

#### Create a role

<ImgLang img='cloudwatch-auth-role.png' desc='Amazon Cloudwatch - role' />

1. Log in to the AWS management console and open the IAM console.
2. In the console navigation pane, select roles and then select Create Role. 
3. In Select type of trusted entity, select an AWS account. 
4. Select a different AWS account, enter the WhaTap ID, **911937781722** in Account ID, and then click Next.
5. Select an AWS management position in the filtering-based type. 
6. Select the ReadOnlyAccess checkbox from the list for application, and then click Next. 
7. Enter a name and description for the role and then click Create Role. 
8. Select a role created from the role list and then click Edit in Summary. 
9. Change the Maximum session duration to 12 hours and then save it. 
10. Copy the **Role ARN** item.
11. Return to the WhaTap **_Management_** > **_Agent Installation_** page. Paste the copied **Role ARN** into the **_Role_** **_ARN_** window, and then click **_OK_**.

### Selecting the namespace and collection cycle

import Namespacecollect from "../common-items/_namespace-collect.mdx";

<Namespacecollect />

#### Whatap Data Interval

import Collectingperiod from "../common-items/_collecting-period.mdx";

<Collectingperiod />

#### Namespace

- AWS ACMPrivateCA
- AWS AmazonMQ
- AWS ApplicationELB Monitoring
- AWS AppSync
- AWS Athena
- AWS AutoScaling
- AWS Elastic Beanstalk Health
- AWS Billing
- AWS Cassandra
- AWS Chatbot
- AWS Cloud Front
- AWS CloudHSM
- AWS CloudSearch
- AWS CodeBuild
- AWS CodeGuruProfiler
- AWS Cognito
- AWS Connect
- AWS ContainerInsights Monitoring
- AWS DataSync
- AWS DAX
- AWS DDoSProtection
- AWS DMS
- AWS DocDB
- AWS DX
- AWS Dynamo DB
- AWS Ebs Usage
- AWS EC2 Monitoring
- AWS EC2 Alert Config
- AWS EC2Spot
- AWS ECS
- AWS ECS ContainerInsights Monitoring
- AWS EFS
- AWS ElastiCache Usage
- AWS ElasticGPUs
- AWS ElasticInference
- AWS ElasticMapReduce
- AWS ElasticTranscoder
- AWS Classic ELB Monitoring
- AWS ES
- AWS Events
- AWS Firehose
- AWS FSx
- AWS GameLift
- AWS GatewayELB
- AWS Glue
- AWS GroundStation
- AWS Health
- AWS Inspector
- AWS IoT
- AWS IoTAnalytics
- AWS IoTSiteWise
- AWS IVS
- AWS Kafka
- AWS Kinesis
- AWS KinesisAnalytics
- AWS KinesisVideo
- AWS KMS
- AWS Lambda
- AWS Lex
- AWS Location
- AWS Logs
- AWS LookoutMetrics
- AWS MediaConnect
- AWS MediaConvert
- AWS MediaPackage
- AWS MediaStore
- AWS MediaTailor
- AWS ML
- AWS NATGateway
- AWS Neptune
- AWS NetworkELB
- AWS NetworkFirewall
- AWS OpsWorks
- AWS Polly
- AWS QLDB
- AWS RDS Monitoring
- AWS Redshift
- AWS Robomaker
- AWS Route53
- AWS S3
- AWS SageMaker
- AWS SDKMetrics
- AWS ServiceCatalog
- AWS SES
- AWS SNS
- AWS SQS
- AWS SQS Message
- AWS SSM-RunCommand
- AWS States
- AWS StorageGateway
- AWS SWF
- AWS Textract
- AWS ThingsGraph
- AWS Timestream
- AWS Transfer
- AWS TransitGateway
- AWS Translate
- AWS TrustedAdvisor
- AWS API Usage
- AWS VPN Monitoring
- AWS WAF
- AWS WorkMail
- AWS WorkSpaces

### Selecting the region, metric, and stat

import Regionmetricstats from "../common-items/_region-metric-stats.mdx";

<Regionmetricstats />

<ImgLang img='amazon_cloudwatch_setup_dialog_2nd.png' desc='Amazon Cloudwatch - Region,Metric,Stats' />

## Service initialization and deactivation of data collection {#data-deactivation}

<ImgLang img='amazon-cloudwatch-deact.png' desc='Disabling the data collection and initializing the service' />

- ![Leader line a](/img/char-a.svg) When the collection toggle ![Icon](/img/ic-toggle-off.svg) is disabled, the data collection is stopped.

- ![Leader line b](/img/char-b.svg) Select **_Change Role_** to disable all services that are collecting metrics by selecting ![Leader line c](/img/char-c.svg) **_Service initialization_** on the **_Agent installation_** screen.

- To completely avoid incurring costs, you must remove the **Role** from the **AWS IAM** console.
