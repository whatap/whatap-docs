---
id: agent-number-of-user
title: User count
description: It aggregates the numbers of real-time users connected to WAS.
keywords:
  - .NET
hide_table_of_contents: false
---

### Aggregating the user count

It aggregates the numbers of users who connect to the .NET web application server.

:::note

To apply the value set in the following option, restart IIS.

:::

- **trace_user_enabled** <span class='type'>Boolean</span>

  Default `true`

  Set whether or not to aggregate real-time users. If the user tracing option is set redundantly, the cookie value takes precedence.

- **trace_user_cookie_keys** <span class='type'>String</span>

  Select the set cookie's value as unique user data. For multiple values, use comma (,) as the delimiter. Search in the set order.

- **trace_user_using_ip** <span class='type'>Boolean</span>

  Default `true`

  It aggregates real-time users based on the IP address. If you want to distinguish users based on the cookie rather than IP addresses, change the value to `false`.

- **trace_http_client_ip_header_key** <span class='type'>String</span> <code class="my">.NET Agent v2.2.2 or later</code> <ScrollToLink anchor='trace_http_client_ip_header_key' />

  Default `X-Forwarded-For`

  This function sets the client IP (remote IP) with a specific HTTP header value. In the proxy environment, the `X-Forwarded-For` header can be set with the client IP.

  If the load balancer like L4 is located before WEB/WAS, in some cases, the IP address of L4 becomes the remote address instead of the IP address of the client. In this situation, if the actual client IP is recorded as a specific key value in the HTTP header, it can be replaced with the corresponding key value.
