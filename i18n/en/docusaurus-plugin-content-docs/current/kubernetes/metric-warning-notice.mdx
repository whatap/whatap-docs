---
id: metric-warning-notice
title: Metrics alert
description: Use the metrics event settings to set specific and complex events.
keywords:
  - Alert
  - Metrics Event
  - Kubernetes Monitoring
---

import Metricswarningnotice from "../common-items/_metrics-warning-notice.mdx";

<Metricswarningnotice />

import Compositemetricswarningnotice from "../common-items/_composite-metrics-warning-notice.mdx";

<Compositemetricswarningnotice />

import Metricseventmodifydelete from "../common-items/_metrics-event-modify-delete.mdx";

<Metricseventmodifydelete />

import Metricseventconditionselecttargetguide from "../common-items/_metrics-event-condition-select-target-guide.mdx";

<Metricseventconditionselecttargetguide />

## Template {#template}

### Metrics Event Templates

:::note 

For more information about the `reason` field in the Kubernetes event, see [Kubernetes official documentation](https://github.com/kubernetes/kubernetes/blob/master/pkg/kubelet/events/event.go#L27). 

:::

#### **_BackOff_**

The alert occurs when `BackOff` is entered several times in the `reason` field in a Kubernetes event. The <Cmdname sid="message" className="uitext" /> example is as follows: 

> Kubernetes Event (Kube Event `${message}`)

#### **_Evicted_**

The alert occurs when `Evicted` is entered several times in the `reason` field in a Kubernetes event. The <Cmdname sid="message" className="uitext" /> example is as follows:

> Kubernetes Event (Kube Event `${message}`)

#### **_FailedCreatePodSandBox_**

The alert occurs when `FailedCreatePodSandBox` is entered several times in the `reason` field in a Kubernetes event. The <Cmdname sid="message" className="uitext" /> example is as follows:

> Kubernetes Event (Kube Event `${message}`)

#### **_FailedMount_**

The alert occurs when `FailedMount` is entered several times in the `reason` field in a Kubernetes event. The <Cmdname sid="message" className="uitext" /> example is as follows:

> Kubernetes Event (Kube Event `${message}`)

#### **_FailedScheduling_**

The alert occurs when `FailedScheduling` is entered several times in the `reason` field in a Kubernetes event. The <Cmdname sid="message" className="uitext" /> example is as follows:

> Kubernetes Event (Kube Event `${message}`)

#### **_FailedSync_**

The alert occurs when `FailedSync` is entered several times in the `reason` field in a Kubernetes event. The <Cmdname sid="message" className="uitext" /> example is as follows:

> Kubernetes Event (Kube Event `${message}`)

#### **_NodeNotReady_**

The alert occurs when `NodeNotReady` is entered several times in the `reason` field in a Kubernetes event. The <Cmdname sid="message" className="uitext" /> example is as follows:

> Kubernetes Event (Kube Event `${message}`)

#### **_Unhealthy_**

The alert occurs when `Unhealthy` is entered several times in the `reason` field in a Kubernetes event. The <Cmdname sid="message" className="uitext" /> example is as follows:

> Kubernetes Event (Kube Event `${message}`)

#### **_Notification of utilization based on container CPU quota_**

The alert occurs when the total CPU usage (`${cpu_per_quota}`) based on the container's CPU limit is 70% or more. The <Cmdname sid="message" className="uitext" /> example is as follows:

> The CPU utilization of container `${oname}` in `${okindName}` is high, `${cpu_per_quota}`% >= 70%.

#### **_Container memory fail count_**

If the container's memory limit is reached more than once, the alert occurs. The <Cmdname sid="message" className="uitext" /> example is as follows:

> Because the `${oname}` container of `${okindName}` exceeded the limit, the `${mem_failcnt}` increased.

#### **_Container memory utilization_**

The alert occurs when the usage (`${container.mem_percent}`) based on the container's memory limit is 90% or more. The <Cmdname sid="message" className="uitext" /> example is as follows:

> The memory usage of `${oname}` container in `${okindName}` is `${container.mem_percent}`% >= 90%.

#### **_Container DEAD status notification_**

The corresponding alert occurs when the container status code is `100`. The status code `100` indicates `DEAD`. The example of <Cmdname sid="message" className="uitext" /> is as follows:

> Container `${oname}` is in `DEAD` state.

#### **_Cluster CPU request notification_**

The corresponding alert occurs when the available amount of CPU for node allocation divided by the total limit CPU and multiplied by 100 is 80% or more. The example of <Cmdname sid="message" className="uitext" /> is as follows:

> The CPU request (minimum required resource) is more than 80% of the cluster CPU allocation.

#### **_Cluster memory request notification_**

The corresponding alert occurs when the available amount of memory for node allocation divided by the total limit memory and multiplied by 100 is 80% or more. The example of <Cmdname sid="message" className="uitext" /> is as follows:

> Memory Request (minimum required resource) is more than 80% of the cluster memory allocation.

#### **_Cluster CPU request notification_**

The corresponding alert occurs when the available amount of CPU for node allocation divided by the total limit CPU and multiplied by 100 is 60% or more. The example of <Cmdname sid="message" className="uitext" /> is as follows:

> The CPU request (minimum required resource) is more than 60% of the cluster CPU allocation.

#### **_Cluster memory request notification_**

The corresponding alert occurs when the available amount of memory for node allocation divided by the total limit memory and multiplied by 100 is 60% or more. The example of <Cmdname sid="message" className="uitext" /> is as follows:

> Memory Request (minimum required resource) is more than 60% of the cluster memory allocation.

#### **_Notification of the number of master pods_**

The alert occurs when there are no Pods that can be allocated to the node. The <Cmdname sid="message" className="uitext" /> example is as follows:

> The number of PODs that can be allocated to the master is 0.

#### **_Node CPU utilization notification_**

The alert occurs when the node's CPU utilization (`${cpu}`) is 70% or more. The <Cmdname sid="message" className="uitext" /> example is as follows:

> The CPU usage of `${oname}` is `${cpu}`% >= 70%.

#### **_Node memory utilization notification_**

The alert occurs when the node's memory utilization (`${memory_pused}`) is 90% or more. The <Cmdname sid="message" className="uitext" /> example is as follows:

> The memory usage of `${oname}` is `${memory_pused}`% >= 90%.

#### **_Unassignable node notification_**

The corresponding alert occurs when the available number of Pods that can be assigned to a node is zero. 

#### **_APDEX_**

The alert occurs when the transaction exists and the APDEX score is less than 0.7. The <Cmdname sid="message" className="uitext" /> example is as follows:

The alert occurs when the number of Pods that can be allocated to the node is 0. The <Cmdname sid="message" className="uitext" /> example is as follows:

> APDEX is lower than 0.7 (`${oname}`)

{/* 

#### **_HPA CPU utilization notification_**

The alert occurs when the number of running Pods is equal to the maximum number of Pods in the resource and the CPU utilization is above 70%. The <Cmdname sid="message" className="uitext" /> example is as follows:

> The maximum HPA POD generation has been reached and the CPU usage is >= 70%.

#### **_HPA memory utilization notification_**

This alert occurs when the number of running Pods is equal to the maximum allowable number of Pods for resources and the memory utilization is greater than 90%. 

> The maximum HPA POD creation has been reached and the memory usage is >= 90%.

*/}

### Composite Metrics Event Templates

#### **_Inactive agents has been found_**

An alert occurs when the number of active agents is less than the specified value. An example of <Cmdname sid="message" className="uitext" /> is as follows: 

> `${ip}` `${okindName}` The number of active agents has decreased to `${num_of_current_agents}`. 

#### **_TPS has changed by more than 30% compared to the previous week_**

An alert occurs when the application's TPS changes by more than 30% compared to that of the previous week. An example message is as follows:

> `${okindName}` a week ago : `${prev_week_tps_display}`, current : `${current_tps_display}`,  difference : `${one_week_diff_display}`

#### **_Very slow active transactions are detected_**

An alert occurs when the number of transactions that exceed 8 seconds in the application exceeds 10 on average. An example message is as follows:

> `${okindName}` `${very_slow_tx_cnt_m5_avg_display}` active transactions performed for more than 8 seconds were detected.

#### **_APDEX score dropped_**

An alert occurs when the APDEX score falls below 70. An example of <Cmdname sid="message" className="uitext" /> is as follows:

> The average apdex of `${pname}` in the last 5 seconds is `${apdex_display}`

#### **_CPU % is too high_**

An alert occurs when the node's CPU utilization exceeds 80%. An example message is as follows:

> CPU utilization rate of the `${oname}` in the last minute > `${_rule_}` %

#### **_CPU User % is too high_**

An alert occurs when the user's CPU utilization exceeds 50%. An example of <Cmdname sid="message" className="uitext" /> is as follows:

> CPU User utilization rate of the `${oname}` in the last minute > `${_rule_}` %

#### **_The number of agents with high CPU SYS % is too large_**

An alert occurs when the system's CPU utilization exceeds 50%. An example message is as follows: 

> The number of agents with a CPU SYS of 70% or more in the last minute > `${_rule_}` %

#### **_The Disk I/O is too high_**

An alert occurs when the disk I/O utilization exceeds 10%. An example of <Cmdname sid="message" className="uitext" /> is as follows:

> In the last minute, `${oname}`'s Disk I/O > `${_rule_}` %

#### **_The Disk Used % is too high_**

An alert occurs when the file system's utilization exceeds 90%. An example of <Cmdname sid="message" className="uitext" /> is as follows:

> In the last minute, `${oname}`'s Disk Used > `${_rule_}` %

#### **_Network Traffic I/O is too high_**

An alert occurs when the network inbound/outbound traffic exceeds 10%. An example of <Cmdname sid="message" className="uitext" /> is as follows:

> In the last minute, `${oname}`'s Network Traffic I/O > `${_rule_}` %

#### **_Network Packet I/O is too high_**

An alert occurs when the network inbound/outbound packets exceed 10%. An example of <Cmdname sid="message" className="uitext" /> is as follows:

> In the last minute, `${oname}`'s Network Packet I/O > `${_rule_}` %

#### **_Network Error I/O is too high_**

An alert occurs when the network inbound/outbound errors exceed 10%. An example of <Cmdname sid="message" className="uitext" /> is as follows:

> In the last minute, The maximum value of the `${oname}`'s Network Error I/O > `${_rule_}` %

#### **_The kube-apiserver latency over 10 second_**

Among control plane components, an alert occurs when the latency of kube-apiserver exceeds 10 seconds. However, WATCH actions are excluded. An example of <Cmdname sid="message" className="uitext" /> is as follows:

> Latency of the `${verb}` verb in `${instance}` of kube-apiserver exceeded `${metricValue}` seconds.

#### **_The kube-apiserver response increase/decrease rate for error codes_**

Among control plane components, an alert occurs when the number of error responses from kube-apiserver exceeds 50 and the increase/decrease rate changes by more than 50%. An example of <Cmdname sid="message" className="uitext" /> is as follows:

> Rate of increase in the number of requests for code `${code}` on instance `${instance}` of kube-apiserver exceeded `${metricValue}`.
