---
id: agent-dbsql
title: DB、SQL
description: Node.jsエージェントのDB、SQL関連オプションを提供します。
keywords:
  - Node.js
  - DB
  - SQL
---

Node.jsエージェントのDB、SQL関連オプションを提供します。

- **profile_sql_param_enabled** <span class='type'>Boolean</span> <ScrollToLink anchor='profile-sql-param' />

  既定値`false`

  SQLパラメータの収集を有効にします。ただし、パラメータを表示するには、セキュリティキーを入力する必要があります。セキュリティキーは、エージェントのインストールパスの*paramkey.txt*ファイルに6桁で指定されます。 *paramkey.txt*が存在しない場合は自動生成され、randomキーが設定されます。

- **profile_connection_open_enabled** <span class='type'>Boolean</span>

  既定値 `true`

  トレース履歴にDBConnectionオープン情報を記録します。

- **profile_error_sql_fetch_max** <span class='type'>Int</span> <ScrollToLink anchor='profile_error_sql_fetch_max' />

  既定値`10000`

  SQL Fetch Count(呼び出し件数)が設定した値を超えると、**TOO_MANY_RECORDS**エラーで処理します。`0`に設定するとエラー処理されません。

- **profile_error_sql_time_max** <span class='type'>Int</span> <ScrollToLink anchor='profile_error_sql_time_max' />

  既定値`30000`

  SQLの実行時間が設定した値を超えると、**SLOW_SQL**エラーで処理されます。`0`に設定する場合、エラー処理は実行されません。

- **trace_sql_error_stack** <span class='type'>Boolean</span>

  既定値`false`

  SQLエラー内容をスタックとして保存(MySQL、MariaDB、PostgreSQL、SQL Server)します。

- **trace_sql_error_depth** <span class='type'>Int</span>

  既定値`50`

  `trace_sql_error_stack`オプションを適用する場合に保存されるエラーのライン数を設定します。
