---
id: metrics-data-list
title: SQL Serverメトリクス
description: SQL Serverデータベース指標について説明します。
keywords:
  - SQL Server
  - メトリクス
  - データベース
---

データベース指標は、データベースの作業量とリソース使用量を包括的に収集します。 WhaTapモニタリングサービスは、継続的にメトリクスを収集してデータベースのボトルネックを特定し、性能問題の根本原因を特定するのに役立つデータを提供します。

メトリクス情報に関する詳しい内容は、[次のリンク](https://learn.microsoft.com/en-us/sql/sql-server/?view=sql-server-ver16/)を参照してください。

## db_mssql_counter {#db_mssql_counter}

### Tags {#db_mssql_counter-tags}

次は`db_mysql_counter`カテゴリに収集されるタグ値の案内です。

| タグ名         | 説明                  | 備考    |
| ----------- | ------------------- | ----- |
| `agentIp`   | エージェントごとのIPアドレスです。  | -     |
| `dbIsMulti` | Multitenant対応可否です。  | -     |
| `dbName`    | データベース名です。          | -     |
| `dbType`    | データベースの種類です。        | -     |
| `dbVersion` | 利用中のデータベースのバージョンです。 | -     |
| `oname`     | エージェント名です。          | ユニーク値 |

### Field {#db_mssql_counter-filed}

次は`db_mysql_counter`カテゴリに収集されるフィールド値の案内です。

| Metrics                                           | Description                                         |
| ------------------------------------------------- | --------------------------------------------------- |
| `active_sessions`                                 | 現在、活性化されているセッションの数です。                               |
| `connect_error`                                   | 接続エラーの回数です。                                         |
| `cpu`                                             | SQL Serverインスタンスが使用するCPUの合計比率です。                    |
| `cpu_cores`                                       | 使用可能なCPUコアの数です。                                     |
| `fatal_count`                                     | 致命的なエラーの発生回数です。                                     |
| `lock_wait_sessions`                              | ロック待機により遅延したセッションの数です。                              |
| `long_running_sessions`                           | 長時間実行中のセッションの数です。                                   |
| `memory`                                          | SQL Serverが使用するメモリの合計サイズです。                         |
| `sys_cpu`                                         | SQL Serverインスタンスが使用中のシステムCPUの比率です。                  |
| `total_elapsed_time`                              | SQL Serverで実行されたすべてのリクエストの総経過時間です。                  |
| `total_sessions`                                  | SQL Serverに接続されたセッションの合計です。                         |
| `user_cpu`                                        | ユーザーモードで実行されるSQL Server作業に使われたCPU比率です。              |
| `warning_count`                                   | 警告が発生した回数です。                                        |
| `ASYNC_NETWORK_IO(count)`                         | ネットワークのI/O待機中に非同期で処理されたリクエストの回数です。                  |
| `ASYNC_NETWORK_IO(time)`                          | ネットワークのI/O待機中に非同期で処理されたリクエストの合計時間(ミリ秒単位)です。         |
| `Batch_Requests/sec`                              | 1秒当たりの配置リクエストの数です。                                  |
| `Buffer_cache_hit_ratio`                          | データのリクエスト時にバッファキャッシュから読み込んだデータの割合を示します。             |
| `Buffer_cache_hit_ratio_base`                     | \`Buffer_cache_hit_ratio 計算のための基準値です。               |
| `Cache_Hit_Ratio`                                 | キャッシュでデータが見つかった割合を示します。                             |
| `Cache_Hit_Ratio_Base`                            | `Cache_Hit_Ratio`計算のための基準値です。                       |
| `Cache_Pages`                                     | SQL Serverのキャッシュで使用されたページの数です。                      |
| `Cache_Pages(Bound_Trees)`                        | バインドツリー キャッシュに保存されているページの数です。                       |
| `Cache_Pages(Extended_Stored_Procedures)`         | 拡張保存プロシージャで使用されたキャッシュページの数です。                       |
| `Cache_Pages(Object_Plans)`                       | SQLオブジェクト計画で使用されたキャッシュページの数です。                      |
| `Cache_Pages(SQL_Plans)`                          | SQL計画で使用されたキャッシュページの数です。                            |
| `Cache_Pages(Temporary_Tables_&_Table_Variables)` | 一時テーブルとテーブル変数に使用されたキャッシュページの数です。                    |
| `Checkpoint_pages/sec`                            | 1秒当たりのチェックポイントページの数です。                              |
| `Database_Cache_Memory_(KB)`                      | データベースキャッシュで使用されたメモリサイズ(KB)です。                      |
| `Database_pages`                                  | SQL Serverのデータベースで使用されたページの数です。                     |
| `Errors/sec`                                      | 毎秒発生したエラーの数です。                                      |
| `FreeSpace_Scans/sec`                             | 毎秒フリースペースをスキャンした回数です。                               |
| `Free_Memory_(KB)`                                | 使用可能なメモリサイズ(KB)です。                                  |
| `Full_Scans/sec`                                  | 1秒当たりのテーブルまたはインデックスの合計スキャン回数です。                     |
| `LATCH_EX(count)`                                 | 排他的ラッチリクエストの数です。                                    |
| `LATCH_SH(count)`                                 | 共有ラッチリクエストの数です。                                     |
| `LATCH_SH(time)`                                  | 共有ラッチのリクエストにかかった合計時間です。                             |
| `LCK_M_U(count)`                                  | アップデートロックのリクエストの数です。                                |
| `LCK_M_U(time)`                                   | アップデートロックのリクエストにかかった合計時間です。                         |
| `Latch_Waits/sec`                                 | 1秒当たりのラッチの待機回数です。                                   |
| `Lazy_writes/sec`                                 | 1秒当たりのディスクに書かれた遅延したページの数です。                         |
| `Lock_Requests/sec`                               | 1秒当たりのロックリクエストの数です。                                 |
| `Log_Flushes/sec`                                 | 1秒あたりのログフラッシの回数です。                                  |
| `MEMORY_ALLOCATION_EXT(count)`                    | メモリ割当の拡張回数です。                                       |
| `MEMORY_ALLOCATION_EXT(time)`                     | メモリ割当の拡張にかかった合計時間です。                                |
| `Memory_Grants_Outstanding`                       | メモリ割当の待機が完了したリクエストの数です。                             |
| `Memory_Grants_Pending`                           | メモリ割当の待機中のリクエストの数です。                                |
| `Number_of_Deadlocks/sec`                         | 毎秒発生したデッドロック状態(Deadlock)の数です。                       |
| `PAGEIOLATCH_EX(count)`                           | I/O作業の時、排他的ラッチリクエストの回数です。                           |
| `PAGEIOLATCH_EX(time)`                            | I/O作業の時、排他的ラッチリクエストにかかった合計時間です。                     |
| `PAGEIOLATCH_UP(count)`                           | I/O作業の時、アップデートラッチのリクエストの回数です。                       |
| `PAGEIOLATCH_UP(time)`                            | I/O作業の時、アップデートラッチのリクエストにかかった合計時間です。                 |
| `PAGELATCH_EX(count)`                             | ページレベルでの排他的ラッチリクエストの回数です。                           |
| `PAGELATCH_EX(time)`                              | ページレベルでの排他的ラッチリクエストにかかった合計時間です。                     |
| `PAGELATCH_SH(count)`                             | ページレベルでの共有ラッチリクエストの回数です。                            |
| `PAGELATCH_SH(time)`                              | ページレベルでの共有ラッチリクエストにかかった合計時間です。                      |
| `PREEMPTIVE_OS_AUTHENTICATIONOPS(count)`          | 認証作業のプリエンプティブ運用リクエストの回数です。                          |
| `PREEMPTIVE_OS_AUTHENTICATIONOPS(time)`           | 認証作業のプリエンプティブ運用リクエストにかかった合計時間です。                    |
| `PREEMPTIVE_OS_AUTHORIZATIONOPS(count)`           | 権限付与作業のプリエンプティブ運用リクエストの回数です。                        |
| `PREEMPTIVE_OS_DELETESECURITYCONTEXT(count)`      | セキュリティコンテキストの削除作業のプリエンプティブ運用リクエストの回数です。             |
| `PREEMPTIVE_OS_DELETESECURITYCONTEXT(time)`       | セキュリティコンテキストの削除作業にかかった合計時間です。                       |
| `PREEMPTIVE_OS_DISCONNECTNAMEDPIPE(count)`        | 名前付きパイプの接続解除作業のプリエンプティブ運用リクエストの回数です。                |
| `PREEMPTIVE_OS_QUERYCONTEXTATTRIBUTES(count)`     | コンテキスト属性の照会作業のプリエンプティブ運用リクエストの回数です。                 |
| `PREEMPTIVE_OS_QUERYREGISTRY(count)`              | レジストリの照会作業のプリエンプティブ運用リクエストの回数です。                    |
| `PREEMPTIVE_OS_QUERYREGISTRY(time)`               | レジストリの照会作業にかかった合計時間です。                              |
| `PREEMPTIVE_OS_REVERTTOSELF(count)`               | 自分自身に再び切り替える作業のプリエンプティブ運用リクエストの回数です。                |
| `PREEMPTIVE_OS_REVERTTOSELF(time)`                | 自分自身に再び切り替える作業にかかった合計時間です。                          |
| `PREEMPTIVE_XE_CALLBACKEXECUTE(count)`            | イベント追跡のコールバック実行作業のプリエンプティブ運用リクエストの回数です。             |
| `PREEMPTIVE_XE_CALLBACKEXECUTE(time)`             | イベント追跡のコールバック実行作業にかかった合計時間です。                       |
| `PREEMPTIVE_XE_GETTARGETSTATE(count)`             | イベント追跡対象のステータス確認作業のプリエンプティブ運用リクエストの回数です。            |
| `PREEMPTIVE_XE_GETTARGETSTATE(time)`              | イベント追跡対象のステータス確認作業にかかった合計時間です。                      |
| `PREEMPTIVE_XE_SESSIONCOMMIT(count)`              | イベント追跡のセッションコミット作業のプリエンプティブ運用リクエストの回数です。            |
| `PREEMPTIVE_XE_SESSIONCOMMIT(time)`               | イベント追跡のセッションコミット作業にかかった合計時間です。                      |
| `PREEMPTIVE_XE_TARGETFINALIZE(count)`             | イベント追跡対象の終了作業のプリエンプティブ運用リクエストの回数です。                 |
| `PREEMPTIVE_XE_TARGETINIT(count)`                 | イベント追跡対象の初期化作業のプリエンプティブ運用リクエストの回数です。                |
| `Page_life_expectancy`                            | ページがメモリで待機する平均時間です。                                 |
| `Page_lookups/sec`                                | 1秒当たりのページ照会数です。                                     |
| `Page_reads/sec`                                  | 1秒当たりのディスクから読み込んだページ数です。                            |
| `Page_writes/sec`                                 | 1秒当たりのディスクに書かれたページ数です。                              |
| `RESERVED_MEMORY_ALLOCATION_EXT(count)`           | 予約されたメモリ割当拡張の回数です。                                  |
| `RESERVED_MEMORY_ALLOCATION_EXT(time)`            | 予約されたメモリ割当拡張にかかった合計時間です。                            |
| `Range_Scans/sec`                                 | 1秒当たりの範囲スキャンの回数です。                                  |
| `SOS_SCHEDULER_YIELD(count)`                      | スケジューラが作業を処理するために譲歩した回数です。                          |
| `SOS_SCHEDULER_YIELD(time)`                       | スケジューラが作業を処理するために譲歩した合計時間です。                        |
| `SOS_WORK_DISPATCHER(count)`                      | SOSワークディスパッチャーが作業を処理した回数です。                         |
| `SOS_WORK_DISPATCHER(time)`                       | SOSワークディスパッチャーが作業処理にかかった合計時間です。                     |
| `SQL_Compilations/sec`                            | 1秒当たりのSQLコンパイル回数です。 SQLコードが最初に実行された時、コンパイルが発生します。   |
| `SQL_Re-Compilations/sec`                         | 1秒当たりのSQL再コンパイルの回数です。 キャッシュされた計画が無効な時、再コンパイルが発生します。 |
| `Stolen_Server_Memory_(KB)`                       | SQL Serverが内部的に使用するために持っていったメモリサイズ(KB)です。           |
| `Total_Latch_Wait_Time_(ms)`                      | ラッチ待機による総待機時間(ミリ秒単位)です。                             |
| `Total_Server_Memory_(KB)`                        | SQL Serverが現在使用している総メモリサイズ(KB)です。                   |
| `Transactions/sec`                                | 1秒当たりのトランザクション数です。                                  |
| `User_Connections`                                | 現在SQL Serverに接続されているユーザーセッションの数です。                  |
| `WAIT_ON_SYNC_STATISTICS_REFRESH(count)`          | 統計同期の待機リクエストの回数です。                                  |
| `WAIT_ON_SYNC_STATISTICS_REFRESH(time)`           | 統計同期の待機リクエストにかかった合計時間です。                            |
| `WRITELOG(count)`                                 | ログの書き込み作業の回数です。                                     |
| `WRITELOG(time)`                                  | ログの書き込み作業にかかった合計時間です。                               |
| `XE_BUFFERMGR_ALLPROCESSED_EVENT(count)`          | すべてのイベントが処理された追跡バッファマ管理者のイベント数です。                   |
| `XE_BUFFERMGR_ALLPROCESSED_EVENT(time)`           | すべてのイベントが処理された追跡バッファ管理者のイベントの処理時間です。                |
