---
id: nodejs-0_4_94
title: Node.js Agent v0.4.94
toc_max_heading_level: 2
pagination_next: release-notes/nodejs/nodejs-0_4_90
displayed_sidebar: releaseSidebar
---

2024年03月07日

- <Status>Feature</Status> <Link to="http://socket.io">socket.io</Link>モニタリングモジュールを追加

  `trace_sampling_enabled`、`trace_sampling_tps`オプションを使用して、サンプリングされたデータを確認できます。 `trace_ignore_url_prefix`オプションに`/socket.io`経路を追加して追跡できないように設定してください。

  - **trace_sampling_enabled** <span class='type'>Boolean</span>

    既定値 `false`

    トレースデータサンプリングの収集有無を設定できます。

  - **trace_sampling_tps** <span class='type'>Number</span>

    既定値 `1000`

    トレースデータサンプリングの数を設定できます。 設定したサンプリング数を超えるデータは送信せず、1秒ごとに初期化します。

- <Status>Feature</Status>エージェント設定オプションを追加

  - **profile_http_header_ignore_keys** <span class='type'>String</span>

    既定値 `Cookie,cookie,accept,user-agent,referer`

    HTTPヘッダー名を指定して収集情報から除外できます。 指定したHTTPヘッダー名の値は収集から除外され、'#'として表示されます。

  - **profile_http_parameter_keys** <span class='type'>String</span>

    設定されたキーに対応するパラメータ情報のみを記録します。 複数の項目を登録する場合は、コンマ(,)を区切り文字として使用してください。 設定しない場合、すべてのパラメータ情報が記録されます。

- <Status>Changed</Status> <code>profile_http_parameter_enabled</code>オプションが<code>true</code>に設定された場合

  - HTTPリクエストのBodyデータを出力しないように修正
  - HTTPパラメータ情報を暗号化し、*paramkey.txt*値で復号化できるように修正

  :::note

  `profile_http_parameter_enabled`オプションの詳細については、[次の文書](../../nodejs/agent-transaction#profile_http_parameter)を参考にしてください。

  :::

- <Status>Fixed</Status> Mongooseモニタリング例外エラーを修正

:::info

- パッケージ情報：https://www.npmjs.com/package/whatap

- インストール及び適用方法

  ```bash
  npm i whatap
  ```

:::
