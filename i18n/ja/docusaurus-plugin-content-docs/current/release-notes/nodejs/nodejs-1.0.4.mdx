---
id: nodejs-1_0_4
title: Node.js Agent v1.0.4
toc_max_heading_level: 2
pagination_next: release-notes/nodejs/nodejs-1_0_3
displayed_sidebar: releaseSidebar
---

2025年10月16日

- <Status priority='1'>New</Status> **hook_method_patterns**

    - ユーザーアプリケーション内の特定メソッドを監視できるオプションです。

    - 設定ファイルにメソッドパスを指定すると、そのメソッドの実行時間と呼び出し引数が収集されます。

    - デフォルト値: `false`

        :::note

        **設定方法**  
        - クラスメソッド: `./パス/ファイル名/クラス名.メソッド名`  
        - 通常関数: `./パス/ファイル名/関数名`  
        - 複数指定する場合はカンマで区切ります。

        :::

        :::caution

        **注意**  
        - TypeScript プロジェクトの場合は、ビルド後のファイルパスを指定してください（例: `./dist/services/user.service`）。  
        - オプションを削除する場合は、アプリケーションの再起動が必要です。

        :::

- <Status priority='0'>Fixed</Status> PM2 クラスターモードで複数インスタンスを実行する際、`whatap_nodejs` モジュールプロセスの管理を改善しました。

    - 最初のインスタンスのみが `whatap_nodejs` エージェントを起動します。  
    - 以降のインスタンスは、すでに実行中のエージェントに自動的に接続されます。

import DownloadNode2 from './_import_dl-nodejs-agent3.mdx';

<DownloadNode2 ver="1.0.4" />
