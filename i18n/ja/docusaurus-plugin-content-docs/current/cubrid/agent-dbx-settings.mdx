---
id: agent-dbx-settings
title: DBXエージェントの設定
description: whatap.confファイルで設定できるオプションについて説明します。
keywords:
  - CUBRID
  - データベースモニタリング
  - DBXエージェント
---

DBXエージェントに必要な設定は、*whatap.conf*ファイルで作成します。設定できるオプションについては、以下を参照してください。

## 基本オプション

import Dbagentdbxbasicoption from "../common-items/_db-agent-dbx-basic-option.mdx";

<Dbagentdbxbasicoption />

## CUBRID専用オプション{#cubrid}

- **db_port** <span class='type'>Int</span>

  既定値`0`

  アプリケーション接続情報に使用するブローカーのポート情報です。ブローカー設定ファイル(*cubrid_broker.conf*)に`BROKER_PORT`項目に定義された値を入力します。(CUBRIDの既定値 `BROKER_PORT: 33000`)

- **cms_port** <span class='type'>Int</span>

  既定値 `8001`

  **CUBRID Manager**が使用するポートです。**CUBRID Manager**設定ファイル(*cm.conf*)のcm_port\`項目に定義された値を入力します。モニタリング情報を**CUBRID Manager**のapiを使用して読み込むために必要です。

- **cms_token_file** <span class='type'>String</span>

  ユーザーが生成したDBが複数ある場合、WhaTapエージェントをDB数だけインストールして設定する必要があります。この場合、エージェント間でトークンを共有するには、`cms_token_file`パスが必要です。_`{エージェントインストールパス}`/cms_token_に設定してください。 

  例) agent2をインストールした場合、agent1の`cms_token_file`パスを共有するために次のように設定してください。

  ```ini title='whtap.conf'
  cms_token_file=/agent1/cms_token
  ```

- **broker** <span class='type'>String</span>

  既定値 `broker1`、`query_editor`

  CUBRIDをインストールすると`broker1`、`query_editor`でブローカーがデフォルトで実行されます。ユーザーが任意にブローカー名を変更したり、追加で起動したりした場合は、変更を入力します。

  :::note

  `broker`オプションで設定する名前は、`cubrid broker status`コマンドで確認できます。

  :::

## データ収集

import Dbagentsettingdatacollection from "../common-items/_db-agent-setting-data-collection.mdx";

<Dbagentsettingdatacollection />

import SQLMON from "../common-items/_db-agent-setting-sqlmon.mdx";

<SQLMON />

import Dbaes256encrypt from "../common-items/_db-aes-256-encrypt.mdx";

<Dbaes256encrypt />

import Dbsettingagentnamedetails from "../common-items/_db-setting-agent-name-details.mdx";

<Dbsettingagentnamedetails level={2} agentType="DBX" />
