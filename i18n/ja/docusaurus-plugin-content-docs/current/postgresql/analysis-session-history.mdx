---
id: analysis-session-history
title: セッション履歴
description: 長時間実行されたセッションに対して、遂行中のSQLがどれ程リソースを使用したかを確認し、原因を分析することができます。
tags:
  - PostgreSQL
  - データベース
  - 分析
  - セッション履歴
---

ホーム画面>プロジェクト選択>**_分析_**>**_セッション履歴_**

**_セッション履歴_**メニューでは、特定のセッションが照会期間中にどのような遂行を行ったかを照会することができます。 長時間実行されたセッションに対して、遂行中のSQLがどれ程リソースを使用したかを確認し、原因を分析できる情報を提供します。

## 基本的な使い方

必須入力値としてモニタリングしようとするセッション番号(**_プロセスID_**)を入力する必要がありますが、**_インスタンスモニタリング_**メニューからアクセスするのが効率的です。

1. **_ダッシュボード_**>**_インスタンスモニタリング_**メニューへアクセスしてください。

2. 長時間遂行中で、終了していないセッションを選択してください。

   <ImgLang img='db-session-history-01.png' desc='インスタンス' />

3. **_セッション詳細情報_**画面が表示されたら、**_セッション履歴_**ボタンを選択してください。

   <ImgLang img='db-session-history-02.png' desc='セッション履歴' />

選択したセッションのプロセスID(PID)を照会した**_セッション履歴_**メニューへ移動します。

<ImgLang img='db-session-history-03.png' desc='セッション履歴' />

選択したセッションから5秒ごとに収集したアクティブセッション情報を活用してチャートと一覧を構成し、分析に活用できる情報を提供します。 

- **_Wait_**: 待機中のイベントの割合をチャートで確認できます。

- **_Cpu_**: CPU使用量の変化をチャートで確認できます。

- **_Memory_**: メモリ使用量の変化をチャートで確認できます。

- **_Disk I/O_**: ディスク使用量の変化をチャートで確認できます。

- 一覧の一番右の**_query_**カラム項目を選択すると、SQL文を確認できる**_SQL詳細_**画面が表示されます。 選択したクエリ(Query)に対するFullTextおよびPlan情報が含まれています。

## テーブルカラムの設定{#change-column}

{@include: ../common-items/_db-v2-data-edit-column.mdx}
