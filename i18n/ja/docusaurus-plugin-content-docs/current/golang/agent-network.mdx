---
id: agent-network
title: エージェントの通信設定
description: アプリケーションサーバーの通信を設定する方法を提供します。
keywords:
  - Go
  - 通信
  - 設定
  - アプリケーション
---

Goアプリケーションサーバーの通信を設定する方法を提供します。

- **whatap.server.host** <span class='type'>ip\_address</span>

  既定値`127.0.0.1,127.0.1`

  エージェントが収集したデータを転送するサーバーを指定します。 収集サーバーの冗長化で2つ以上のIPで構成された場合、コンマ(,)で区切って指定できます。 指定されたIPには、収集サーバーのProxyデーモンがリスニング状態でサービスされる必要があります。

- **whatap.server.port** <span class='type'>tcp\_port</span>

  既定値`6600`

  収集サーバーのポートを指定します。 ポートは、1つだけ設定できるので、whatap_server_hostオプションに設定された収集サーバーは同じポートを使用する必要があります。

- **tcp_so_timeout** <span class='type'>Millisecond</span>

  既定値`60000`

  収集サーバーと通信するTCPセッションのSocket Timeout値を指定します。

- **tcp_connection_timeout** <span class='type'>Millisecond</span>

  既定値`5000`

  収集サーバーと通信するTCPセッションのConnection Timeout値を指定します。

- **net_send_max_bytes** <span class='type'>Byte</span>

  既定値`5242880`

  収集サーバーにデータを送信する場合、一度に送信される最大サイズを指定します。

- **net_ipc_host** <span class='type'>ip\_address</span>

  既定値`127.0.0.1`

  アプリケーションでIPC/TCPを通じて収集したデータをエージェントに送るためのエージェントのTCPアドレスです。 推奨しませんが、エージェントが外部のサーバーに位置する場合、このオプションを利用できます。

  :::note

  設定したオプションを適用するには、アプリケーションを再起動してください。

  :::

- **net_ipc_port** <span class='type'>tcp_port</span>

  既定値`6600`

  WhaTapエージェントはトレーサーでIPC/TCPを通じて収集したデータを収集サーバーに転送します。 最初にTCPサーバーのポートを設定できます。 既定値の6600ポートが使用中の場合、このオプションを使用します。 エージェントのTCPサーバーポートは、_/usr/whatap/agent/whatap.conf_で変更します。

  :::note

  - サーバーポートの変更後、エージェントの*whatap.con*の設定も修正してください。修正しないと通信できません。

  - 設定したオプションを適用するには、アプリケーションを再起動してください。

  :::

- **net_so_time** <span class='type'>Int</span>

  既定値`120000` (Millisecond)

  TCP接続で、データを読み取る時の最大待ち時間を設定できます。 設定した時間が経過すると、タイムアウトとして処理します。

- **net_write_buffer_size** <span class='type'>Int</span>

  既定値`2*1024*1024` (2Mb)

  ネットワークを通じて収集したデータを送信する時に使用するバッファのサイズを設定するオプションです。
