---
id: agent-control-function
title: エージェント機能の制御
description: アプリケーションサーバーの機能を制御する方法を提供します。
keywords:
  - PHP
  - 機能制御
  - 設定
  - アプリケーション
---

PHPアプリケーションサーバーの機能を制御できます。

- **whatap.stat_enabled** <span class='type'>Boolean</span>

  既定値 `true`

  統計情報の追跡機能をアクティブにします。 5分単位で収集されるトランザクション、SQL、HTTPCALL、UserAgent、Client IPなどの統計データなどが含まれます。

- **whatap.stat_ipurl_enabled** <span class='type'>Boolean</span>

  既定値`false`

  プロジェクトサイドメニューの中で<Cmdname sid="side_statistics" className="uitext" /> &gt; <Cmdname sid="side_statIp" className="uitext" />統計の収集有無を設定します。 

  :::note 

  [次の文書](/php/analysis-apm-trs#statiptx)を参照してください。

  :::

- **whatap.license** <span class='type'>String</span>

  エージェントのインストール時にサーバーから割り当てられたアクセスキーを設定します。アクセスキーには、エージェントが属するプロジェクトとセキュリティ通信のためのパスワードキーが含まれています。

- **whatap.realtime_user_thinktime_max** <span class='type'>Milliseconds</span>

  既定値`300000`

  リアルタイムユーザーを測定する場合は、同一ユーザーとして認識される最大の呼び出し間隔を指定します。

- **whatap.time_sync_interval_ms** <span class='type'>Milliseconds</span>

  既定値`300000`

  エージェントとサーバー間の時間の同期サイクルを指定します。同期しない場合は、0を指定します。

- **whatap.text_reset** <span class='type'>Int</span>

  既定値`0`

  WhaTapエージェントは、一度送信されたテキストタイプのデータをhash処理するため、翌日まで再送信しません。以前の設定値と異なる値を設定する場合は、再送信します。

  :::note

  トランザクションURL、SQL Stringなどがテキストタイプデータに対応します。

  :::

- **whatap.ext.error_enabled** <span class='type'>Boolean</span>

  既定値 `true`

  PHP拡張モジュール(PHP Extension module)からエラー(Error) 情報を収集する機能を有効にします。PHPコンパイルインストールの場合は、*php.ini*にwhatap項目がある場合は、*whatap.ini*の代わりに*php.ini*に追加します。

import Phprestartapply from "../common-items/_php-restart-apply.mdx";

<Phprestartapply />

- **whatap.ext.exception_enabled** <span class='type'>Boolean</span>

  既定値 `true`

  PHP拡張モジュール(PHP Extension module)から例外情報(Exception)を収集する機能を有効にします。PHPコンパイルインストールの場合は、*php.ini*にwhatap項目がある場合は、*whatap.ini*の代わりに*php.ini*に追加します。

<Phprestartapply />

- **whatap.debug_gc_percent** <span class='type'>Int</span>

  既定値`200`

  whatap-phpサービスデーモンのgc呼び出し間隔を増やすことで、CPU負荷を減らすことができます。CPU負荷を減らす代わりに、メモリ使用量が増加します。最大1000まで適用されます。

- **whatap.use_env_first** <span class='type'>Boolean</span> <code className="my">PHP agent v2.8.2 or later</code>

  既定値`false`

  エージェント設定の優先順位は、*whatap.ini*ファイルが最初に適用され、次に環境変数が適用されます。環境変数を優先的に適用するには、`use_env_first`オプションを`true`に設定します。または`WHATAP_USE_ENV_FIRST=true`形式で環境変数を設定できます。
