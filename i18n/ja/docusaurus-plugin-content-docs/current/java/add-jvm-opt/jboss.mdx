---
id: jboss
title: JBoss
description: WhaTapモニタリングソリューションをJBossアプリケーションに統合するためのJVM(Java Virtual Machine) オプションの追加方法についての詳細な案内を提供します。ユーザーは本文書を通じて、Javaエージェントのインストール後、JBossアプリケーションの性能および可用性モニタリングのために必要なJVM設定を適用する方法を段階別に確認することができます。エージェントのインストール過程の中で必須JVMオプションの構成とJBossとの円滑な統合のための最適な設定方法、ヒストグラムの照会方法が含まれています。
tags:
  - Java
  - JBoss
  - アプリケーション
  - エージェント
---

## 環境変数の追加

JBossアプリケーションサーバー環境でJavaモニタリングエージェントを効果的に使用するために必要なJVMオプションを追加する方法を案内します。

JVMオプションに`-javaagent`および`-Djboss.modules.system.pkgs`オプションを追加してください。

### JBoss7.0以降、EAP6.0以降

設定場所：(JBossインストールパス)/bin/standalone.conf(domain.conf)

```bash title=standalone.sh
#!/bin/sh
########## WHATAP ############
WHATAP_HOME=/home/ec2-user/whatap
WHATAP_JAR=`ls ${WHATAP_HOME}/whatap.agent-*.jar | sort -V | tail -1`
JAVA_OPTS="${JAVA_OPTS} -javaagent:${WHATAP_JAR} -Djboss.modules.system.pkgs=whatap"
########## WHATAP ############
```

:::note

JBoss5.0バージョン以下の場合は_(JBossインストールパス)/bin/run.conf_パスで設定してください。エラーが発生した場合は、`-Djboss.platform.mbeanserver=true`オプションを追加してください。

:::

### Java 17バージョン以降

import Java17 from "./_java-17.mdx";

<Java17 /> 

import Setheapmemory from "./_set-heap-memory.mdx";

<Setheapmemory /> 

## モニタリングの開始

import Startapm from "../../common-items/_start-apm.mdx";

<Startapm /> 
