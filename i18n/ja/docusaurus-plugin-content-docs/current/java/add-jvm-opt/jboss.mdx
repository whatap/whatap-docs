---
id: jboss
title: JBoss
description: WhaTapモニタリングソリューションをJBossアプリケーションに統合するためのJVM(Java Virtual Machine) オプションの追加方法についての詳細な案内を提供します。本文書は、Javaエージェントのインストール後、JBossアプリケーションの性能および可用性をモニタリングするために必要なJVM設定を適用する手順を説明します。エージェントをインストールする際に必要なJVMオプションの構成とJBossとの統合に最適な設定方法、ヒープヒストグラムの照会方法が含まれています。
keywords:
  - Java
  - JBoss
  - アプリケーション
  - エージェント
---

## 環境変数の追加

JBossアプリケーションサーバー環境でJavaモニタリングエージェントを効果的に使用するために必要なJVMオプションを追加する方法を案内します。

JVMオプションに`-javaagent`および`-Djboss.modules.system.pkgs`オプションを追加します。

### JBoss7.0以降、EAP6.0以降

設定場所：(JBossインストールパス)/bin/standalone.conf(domain.conf)

```bash title=standalone.sh
#!/bin/sh
########## WHATAP ############
WHATAP_HOME=/home/ec2-user/whatap
WHATAP_JAR=`ls ${WHATAP_HOME}/whatap.agent-*.jar | sort -V | tail -1`
JAVA_OPTS="${JAVA_OPTS} -javaagent:${WHATAP_JAR} -Djboss.modules.system.pkgs=whatap"
########## WHATAP ############
```

:::note

JBoss5.0バージョン以下の場合は_(JBossインストールパス)/bin/run.conf_パスで設定してください。エラーが発生した場合は、`-Djboss.platform.mbeanserver=true`オプションを追加します。

:::

### Java 17バージョン以降

import Java17 from "./_java-17.mdx";

<Java17 />

import Setheapmemory from "./_set-heap-memory.mdx";

<Setheapmemory />

import Nextstep from "../../common-items/_apm-next-step.mdx";

<Nextstep />
