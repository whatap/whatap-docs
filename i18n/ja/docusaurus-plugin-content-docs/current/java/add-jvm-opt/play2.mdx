---
id: play2
title: Play2
description: WhaTapモニタリングソリューションをPlay2アプリケーションに統合するためのJVM(Java Virtual Machine) オプションの追加方法についての詳細な案内を提供します。本文書は、Javaエージェントのインストール後、Play2アプリケーションの性能および可用性をモニタリングするために必要なJVM設定を適用する手順を説明します。エージェントをインストールする際に必要なJVMオプションの構成とPlay2との統合に最適な設定方法、ヒープヒストグラムの照会方法が含まれています。
keywords:
  - Java
  - Play2
  - アプリケーション
  - エージェント
---

## JVMオプションの追加

Play2アプリケーションサーバー環境でJavaモニタリングエージェントを効果的に使用するために必要なJVMオプションを追加する方法を案内します。

_$PLAY_HOME/framework/build_ファイルにエージェントオプションを設定してください。別途利用する開始または停止スクリプトがある場合は、そのファイルに適用してください。

```bash title=$PLAY_HOME/framework/build {6} showLineNumbers
#! /usr/bin/env sh

########## WHATAP START ############
WHATAP_HOME=/apps/whatap
WHATAP_JAR=`ls ${WHATAP_HOME}/whatap.agent-*.jar | sort -V | tail -1`
JAVA_OPTS="${JAVA_OPTS} -Dwhatap.play2=2.2.6 -javaagent:${WHATAP_JAR}"
########## WHATAP END ############

if [ -z "${PLAY_VERSION}" ]; then
  PLAY_VERSION="2.2.6"
...
```

:::note

Playは基本設定に、`-Dwhatap.play2=2.2.6`オプションを追加する必要があります。

:::

:::note

import Java17 from "./_java-17.mdx";

<Java17 />

:::

import Setheapmemory from "./_set-heap-memory.mdx";

<Setheapmemory />

{/* 다음 단계 */}
import Nextstep from "../../common-items/_apm-next-step.mdx";

<Nextstep />
