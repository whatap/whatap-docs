---
id: jetty
title: Jetty
description: WhaTapモニタリングソリューションをJettyアプリケーションに統合するためのJVM(Java Virtual Machine) オプションの追加方法についての詳細な案内を提供します。本文書は、Javaエージェントのインストール後、Jettyアプリケーションの性能および可用性をモニタリングするために必要なJVM設定を適用する手順を説明します。エージェントをインストールする際に必要なJVMオプションの構成とJettyとの統合に最適な設定方法、ヒープヒストグラムの照会方法が含まれています。
keywords:
  - Java
  - Jetty
  - アプリケーション
  - エージェント
---

## JVMオプションの追加

Jettyアプリケーションサーバー環境でJavaモニタリングエージェントを効果的に使用するために必要なJVMオプションを追加する方法を案内します。

- *jetty.sh*ファイルにJVMオプションを追加

  ```bash title='$JETTY_HOME/bin/jetty.sh' {2} showLineNumbers
  ...
  JAVA_OPTIONS+=("-javaagent:/home/vagrant/whatap/whatap.agent-X.Y.Z.jar -Dwhatap.port=8080")
  usage()
  {
      echo "Usage: ${0##*/} [-d] {start|stop|run|restart|check|supervise} [ CONFIGS ... ] "
      exit 1
  }
  [ $# -gt 0 ] || usage
  ...
  ```

- シェルスクリプトがいない状態でJettyの開始

  ```bash
  $ java -javaagent:/home/vagrant/whatap/whatap.agent-X.Y.Z.jar -Dwhatap.port=8080 -jar start.jar &
  ```

:::note

import Java17 from "./_java-17.mdx";

<Java17 />

:::

import Setheapmemory from "./_set-heap-memory.mdx";

<Setheapmemory />

import Nextstep from "../../common-items/_apm-next-step.mdx";

<Nextstep />
