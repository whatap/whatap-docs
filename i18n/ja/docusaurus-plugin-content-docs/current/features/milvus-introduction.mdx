---
id: milvus-introduction
title: Milvusモニタリング
description: この文書は、Milvusモニタリング製品に対する紹介ページです。
displayed_sidebar: featuremonitorSidebar
toc_max_heading_level: 2
keywords:
  - milvus
  - Feature
---

import InstallFeature from '../common-items/_import_feature-install-agent.mdx';
import TR from '@site/src/components/TR';

:::note

**Featureプロジェク**<ScrollToLink anchor='feature-project' />

WhaTapは、ユーザーが希望するソフトウェアのモニタリング支援の有無を簡単に確認し、簡単にモニタリングを開始できるように、新しく**Featureプロジェク**(<code class='Features'>Features</code>)を導入しました。 Featureプロジェクは、既存のモニタリング製品を、ユーザーがモニタリングしようとするソフトウェアに合わせてリパッケージし、最適化されたモニタリングソリューションを提供します。 WhaTapのFeatureプロジェクを通じて、サービスの安定性と性能をより効果的に管理します。 

:::

Milvusは、大規模なベクトルデータを高性能に管理・検索するためのオープンソースデータベースです。 WhaTap ***Milvus***モニタリングは、Milvusクラスタを構成するProxy、Root Coordinator、Query Nodeなどの性能と資源使用量をリアルタイム及びヒストリーで追跡し、検索遅延とメモリ不足及びトランザクション障害などを素早く発見して解決できるようにサポートします。

WhaTapは新しい**Featureプロジェクト**方式で***Milvus***モニタリングを提供します。 Milvusデータベースの性能と状態をリアルタイムで追跡することで、問題を早期に検出して解決できます。

## インストール

WhaTapの***Milvus***モニタリングサービス利用のための基本インストール方法を案内します。 

WhaTapモニタリングサービスを使用するには、[会員登録](https://www.whatap.io/ja/signup/)後、プロジェクトを作成し、ターゲットサーバーにエージェントをインストールする必要があります。 会員登録に関する詳細は、[次の文書](../account/account-manage)を参照してください。 

:::note 

**サポート環境**<ScrollToLink anchor='milvus-supported-env' />

WhaTapの***Milvus***監視エージェントをインストールする前に、対応環境を確認します。 

- **Milvus**: Milvus 2.xもしくは同等のバージョン

- **Ubuntu**: Ubuntu 12.04以降

- **OS**: Red Hat 6 or equivalent(CentOS, Rocky Linux, Amazon Linux)

- **OSアーキテクチャ**: Amd64/X86_64, Arm64/Aarch64

:::

### Featureプロジェクトを作成する

import Createprojectv2 from "../getting-started/_create-project-v2.mdx";

<Createprojectv2 />

### Milvusエージェントインストール

<InstallFeature name='Milvus 에이전트 설치' />

## メインメニュー

### ダッシューボード

ホーム画面&gt; **Featuresプロジェクト**(<code class='Features'>Features</code>)選択&gt; ***Milvus*** &gt; ***Milvusダッシュボード***

WhaTapの***Milvus***モニタリングはベクトル検索データベースであるMilvusの構成要素別の主要指標とグラフを提供します。 WhaTapが提供する***Milvusダッシュボード***は、次の3つのプリセットで構成されています。

- ***Milvus Proxy and Root Coordinator***

  MilvusシステムでProxy遅延時間、QPS及びRoot Coordinatorのコレクションとエンティティ及びDML/DDL作業現況を総合的にモニタリングできるプリセットです。

  <details>
  <summary>ダッシュボード指標案内</summary>

  #### ***Proxyモニタリング***

  - **Latency及びリクエストイベント**

    プロキシで処理されるリクエストの遅延時間をヒストグラムで視覚化し、1秒当たりのリクエスト数(QPS)などを確認できます。

  - **プロセス状態**

    Milvus ProxyのCPU及びメモリ使用量を時系列グラフで表示し、システムリソースの状態を把握します。

  #### ***Root Coordinatorモニタリング***

  - **コレクション及びエンターテインメント情報**

    現在稼働しているコレクションとエンティティの数を使用して、データベースの規模を確認します。

  - **DML及びDDL作業**

    Insert、DeleteなどDML作業とCreate、DropなどDDL作業の処理状況を視覚化して作業頻度を把握します。

  - **ストリーム及びメッセージチャネル**

    データストリーム及びメッセージチャネル数を追跡して、Milvus内部のデータフローを確認します。

  </details>

- ***Milvus Search and Compute Performance***

  ANN、Brute Force、DiskANNなど、検索性能をモニタリングするプリセットです。

  <details>
  <summary>ダッシュボード指標案内</summary>

  #### ***Approximate Nearest Neighbor (ANN) Metrics***

  - **検索リクエスト遅延時間**

    ANN検索の遅延時間をヒストグラム形式で確認して、検索性能を分析します。 

  - **検索リクエスト数(QPS)及び総遅延時間**

    1秒あたりに処理された検索リクエストの回数と累積検索遅延時間を確認して、システムの負荷状態をモニタリングします。

  #### ***BF (Brute Force) Search***

  - **BF検索リクエストあたりの比較オブジェクト数**

    Brute Force検索で1回のリクエストあたりの比較される個体数を確認します。

  - **総BF検索演算量**

    個体の比較回数を使用して、計算コストを追跡し、最適化の機会を探します。

  #### ***Bitset Ratio***

  - **Bitset使用率及び計算量**

    Bitsetを活用した演算最適化の有無をモニタリングして、検索速度を向上させる機会を分析します。

  - **Bitset適用リクエスト数及び適用された個体数**

    検索リクエスト中にBitsetを活用した割合を確認し、インデックス戦略の効率性を評価します。 

  #### ***DiskANN***

  - **DiskANN検索及びインデックス性能**

    DiskANNを使用した検索リクエストの遅延時間と検索回数を追跡して、ディスクベースの検索の性能を分析します。

  - **DiskANNインデックスサイズ及び検索リクエスト数**

    ディスクインデックスが占めるスペースと検索リクエスト数を比較して、効率を最適化します。 

  </details>

- ***Milvus Query Coordinator & Query Node Metrics***

  QueryCoordとQueryNodeの状態と性能指標をリアルタイムでモニタリングできるプリセットです。

  <details>
  <summary>ダッシュボード指標案内</summary>

  #### ***Query Coordinator***

  - ***Number of collections***

    QueryCoordが管理するコレクション数を意味します。

  - ***Number of partitions***

    コレクション内のパーティションの数をモニタリングして、データの分割状態を特定します。

  - ***Number of QueryNodes***

    QueryCoordが管理するQueryNodeの個数を表示します。

  - ***Resource Group Info***

    QueryCoordで割り当てられたリソースグループ情報を確認して、クエリ実行リソースを分析します。

  #### ***Query Node***

  - ***Disk used size(MB)***

    QueryNodeで使用するディスク容量をモニタリングして、ストレージの最適化を行います。

  - ***Number of ready read tasks in readyQueue***

    待機中のクエリリクエストの数をモニタリングして、検索ボトルネックの有無を分析します。

  #### ***Data Coordinator & Data Node***

  - ***Number of collections***

    DataCoordが管理するコレクション数を表示して、データ規模を追跡します。

  - ***Number of data nodes***

    DataCoordが管理するDataNode数を通じてストレージ管理状態を確認します。

  - ***Import tasks grouping by type and state***

    データのImport作業をタイプと状態別に分類し、読み込みと処理速度を分析できます。

  </details>
