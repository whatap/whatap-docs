---
id: analysis-tcp-udp-sessions
title: TCPセッション / UDPセッション
description: エージェントを通じて収集したセッションデータを利用して、障害ポイントを詳細に識別できます。
tags:
  - ネットワーク性能モニタリング
  - 分析
  - TCP
  - UDP
  - セッション
---

ホーム画面 > プロジェクト選択 > <Cmdname sid="analysis" className="uitext" /> > <Cmdname sid="MNU06850" className="uitext" /> または <Cmdname sid="MNU06851" className="uitext" />

エージェントを通じて収集したセッションデータを利用して、障害ポイントを詳細に識別できます。 データを効率的に識別できるように、複数の条件を設定できるフィルター機能を提供します。 識別したデータを別途の資料として活用できるように、csvファイル形式でダウンロードできます。

<ImgLang img="npm-analaysis-tcp-udp.png" desc="セッション検索" />

![数字1](/img/number-01.png)ご希望の時間を設定してから![数字2](/img/number-02.png) ![検索アイコン](/img/ico-btn-search.png)ボタンを選択してください。 テーブルに、ユーザーが設定した条件と一致する条件のデータが表示されます。

:::note

- データ照会条件を新たに設定した後は、![検索アイコン](/img/ico-btn-search.png)ボタンを選択することでマッチングされるデータを出力します。

- この機能はRawデータを活用します。 エージェント1台あたり、1分あたり最大5件を提供します。

:::

## 照会時間の設定

ユーザーが希望する時間を設定してデータを照会することができます。

<ImgLang img='flexboard-time-set-select.png' desc='時刻選択モード' className='noneborder' />

- 緑のボタンを選択して時間設定を選択できます。 最大1時間まで選択できます。

- ![左アイコン](/img/left-arrow.svg)または![右アイコン](/img/right-arrow.svg)ボタンを選択すると、緑のボタンに設定された値だけ時間を移動できます。

- 日付と時間テキスト領域を選択すると、日付と時間を選択するオプションが表示されます。

## セッションデータの照会設定

### インバウンド / アウトバウンド条件設定

<ImgLang img="npm-analysis-select-in-out.png" desc="" />

検索条件を設定する前に、次のトラフィックの種類を選択してください。

- **_In_**: インバウンドトラフィック

- **_Out_**: アウトバウンドトラフィック

### フィルター条件の設定

タグ値とフィールド値に対するマルチフィルター条件を設定してデータを照会することができます。 追加される条件は、`&&`(and) 条件に設定されます。 例えば、`ProcessType`タグ値が'agencyrun'で`Session Count`フィールド値が 2より大きいセッション データを照会するには、次のように設定してください。

<ImgLang img="npm-analysis-filtering.png" desc="タグフィルタリング" />

:::tip

次のようにタグまたはフィールド値を重複設定すると、`||`(or) 条件としてフィルタリングできます。

```text
Local Process Type == agencyrun, Local Process Type == dev-yard
```

:::

1. フィルター入力欄を選択すると、選択できるフィルターの一覧を確認できます。

   文字列形式(`text`)と数字形式(`numeric`)を選択することができます。

   <ImgLang img='npm-analysis-field-list.png' desc='フィールドリスト' />

2. フィルターを選択した後 <Cmdname sid="operator" className="uitext" />(`Operator`)を選択してください。 

   文字列形式と数字形式によって選択できる演算子は異なる場合があります。

   - 文字列形式<br/><ImgLang img='npm-analysis-filter-text-operater.png' desc='' />

   - 数字形式<br/><ImgLang img='npm-analysis-filter-numeric-operater.png' desc='' />

3. 文字列形式を選択した場合は、選択できる値の一覧が表示されます。 希望する値を選択してください。 数字の形式は自分で入力する必要があります。

   <ImgLang img='npm-analysis-filter-text-val-list.png' desc='' />

4. 希望する値を選択するか、数字を入力してください。 フィルター項目を追加するには、Enterキーを入力して上記のプロセスを繰り返してください。

5. フィルター入力欄の右側の ![検索アイコン](/img/ico-btn-search.png)ボタンを選択してください。

### 演算子の種類

| 型式(type)                       | オペレーター | 説明                                                    |
| ------------------------------ | :----: | ----------------------------------------------------- |
| 文字(`text`) / 数字(`numeric`)     |  `==`  | 選択したフィルターの値と一致する文字列をフィルタリングします。                       |
| ^                              |  `!=`  | 選択したフィルターの値を除いた文字列をフィルタリングします。                        |
| 数字(`numeric`)                  |  `>`   | 選択したフィルターの値よりも大きい場合をフィルタリングします。                       |
| ^                              |  `>=`  | 選択したフィルターの値よりも大きいか、同じ場合をフィルタリングします。                   |
| ^                              |  `<`   | 選択したフィルターの値より小さい場合をフィルタリングします。                        |
| ^                              |  `<=`  | 選択したフィルターの値よりも小さいか、同じ場合をフィルタリングします。                   |

## 付加機能

### テーブルカラムの設定

テーブルヘッダーカラムを非表示にしたり、希望する項目を追加することができます。 カラムの順序を変更することもできます。 <Cmdname sid="BTN06441" className="uitext" />ボタンを選択します。

<ImgLang img="npm-analysis-column-settings.png" desc="カラム設定" />

:::note

- 設定を完了した後は、<Cmdname sid="BTN06053" className="uitext" />ボタンを選択すると、設定事項がテーブルに反映されます。

- ![数字3](/img/number-03.png)検索欄にテキストを入力して、希望するカラム項目を検索することができます。 入力したテキストと一致するカラム項目が表示されます。

:::

#### カラムを追加する

![数字1](/img/number-01.png)一覧でテーブルヘッダーカラムに追加する項目を選択してください。 すべての項目を追加するには、<Cmdname sid="BTN06048" className="uitext" />を選択してください。

#### カラムを削除する

![数字1](/img/number-01.png)一覧で削除するカラム項目のチェックボックスを選択解除してください。 または![数字2](/img/number-02.png)一覧で削除する項目の右側の![削除アイコン](/img/ico-remove-white.svg)ボタンを選択してください。

#### カラム順序の変更

![数字2](/img/number-02.png)一覧で順序を変更するアイテムをドラッグして、希望する位置に移動できます。 

#### 設定事項の初期化

変更事項をすべてキャンセルし、初期化するには、![初期化アイコン](/img/ico-reset.svg) <Cmdname sid="initialized" className="uitext" />ボタンを選択してください。

### 照会データのダウンロード

テーブルに出力されたデータをcsvファイル形式でダウンロードするには、![ダウンロードアイコン](/img/ic-csv-download-ms.svg)ボタンを選択してください。
