---
id: user-session-log-search
title: ユーザーセッションログの検索
description: エンドユーザーがウェブページと相互作用する時に発生する性能とエラーデータ、クリックデータを収集して様々な条件で検索し、ユーザーセッションログを特定できます。
keywords:
  - Browser Monitoring
  - 分析
  - ユーザーセッションログの検索
---

ホーム画面 &gt; プロジェクト選択 &gt; <Cmdname sid="side_analysis" className="uitext" /> &gt; <Cmdname sid="side_userSessionEventSearch" className="uitext" />

エンドユーザーがウェブページと相互作用する時に発生する性能とエラーデータ、クリックデータを収集して様々な条件で検索し、ユーザーセッションログを特定できます。 ユーザーセッションログ情報により、エンドユーザーの経路分析、離脱の原因の把握、性能とユーザー体験などを分析するのに役立ちます。

<ImgLang img='browser-search-user-session-log.png' desc='ユーザーセッションログ検索' />

検索する照会時間を<Cmdname sid="time" className="uitext" />オプションで設定した後、![検索アイコン](/img/ico-btn-search.png)ボタンを選択します。 <Cmdname sid="filter" className="uitext" />項目にキー(key)と値(value)で構成した複数の検索条件を設定し、条件と一致するログデータを抽出できます。 ログデータを所定のライン単位で読み込んで一覧に表示し、一覧の下段に移動すると、次のデータを自動的に読み込んで表示します。

:::tip

<Cmdname sid="side_userSessionEventSearch" className="uitext" />メニューの基本動作方式は、<Cmdname sid="side_logSearch" className="uitext" />メニューと同じです。 フィルター設定による検索方法とその他のオプションの詳細については、次の文書を参照にしてください。

- フィルター設定によるログ検索方法の詳細は、<Link to="../log/log-search#log-search-filter" target="_blank">次の文書</Link>を参照にしてください。

- タグオプションの詳細については、<Link to="../log/log-search#log-tag-options" target="_blank">次の文書</Link>を参照にしてください。

- コンテンツハイライト機能の詳細については、<Link to="../log/log-search#content-highlight" target="_blank">次の文書</Link>を参照にしてください。

- <Cmdname sid="table_settings" className="uitext" />機能の詳細については、<Link to="../log/log-search#set-table" target="_blank">次の文書</Link>を参照にしてください。

:::

:::note

- この機能は、**ログ照会**権限を持つメンバーが利用できます。 メンバーのアクセス権限については、[次の文書](../project/project-structure#project-auth)を参照してください。

- <Cmdname sid="time" className="uitext" />オプションの利用方法の詳細については、[次の文書](usage-ui#timeselector)を参照してください。

:::

## 主な検索タグの案内{#guide-search-tag}

### \#Category {#category}

Browser Monitoringで収集するユーザーセッションログは、次のように分類できます。 各**#Category**には、フィルター検索のためのタグの一覧を確認できます。

![Category](/img/browser-search-user-session-category.png)

- ***#BrowserError***：ウェブページで発生するソースエラー、ネットワークエラーなどを収集して提供します。

- ***#PerformanceEvent***：ページロード、AJAX、ルータ変更に関するイベントを収集して提供します。

- ***#UserEvent***：ユーザーのクリックイベントとユーザー定義イベントを収集して提供します。

### ユーザーセッションログ{#usersessionlog}

ユーザーセッションログは、エンドユーザーの環境情報と**#Category**ごとの収集データが含まれています。 一番左の![詳細を見るアイコン](/img/ic-caret-right.svg)ボタンを選択すると、そのログを構成しているすべての内容が確認できます。

![ログメッセージ](/img/browser-search-user-session-log-content.png)

1行目の内容は、エンドユーザーの環境情報と**#Category**ごとの収集データがキー(key)と値(value)で構成されています。 キーと値は<Cmdname sid="filter" className="uitext" />項目で検索のために使用されます。 2行目は、そのユーザーセッションログのメッセージです。

![Key](/img/browser-search-user-session-tag.png)

以下は、ユーザーセッションログの主なキー(Key)についての説明です。

- `PageUrl`：イベントが発生したページのURLです。

- `userID`：イベントを発生させたユーザーIDです。 ユーザーがウェブサイトに初めてアクセスする時、ブラウザーエージェントが発行する固有IDで、有効期間がありません。 ブラウザークッキーに保存します。

- `sessionID`：イベントを発生させたセッションIDです。 ウェブサイトでユーザーがウェブアクセスを開始する際に発行する固有IDです。 セッションの継続時間は最大4時間で、15分間操作がないと、IDが無効になります。 ブラウザークッキーに保存します。

- `type`：発生したイベントの種類です。

  - **pageLoad**：ウェブページロード時に発生するイベント

  - **routeChange**：SPAウェブページのルート変更時に発生するイベント

  - **ajax**：AJAX要求関連イベント

  - **click**：実際のユーザーがウェブページでクリックした時に発生するイベント

  - **rapid_click**：実際のユーザーが同じ座標で素早く複数回クリックした時に発生するイベント

  - **custom**：ユーザー定義イベント

  - **browser_error**：ウェブページで発生するソースエラー、ネットワークエラーなど

:::note

- ユーザーのクリックイベント収集のためのエージェント設定オプション(`collectUserClick: true`)は、[次の文書](apply-agent#setting-agent)を参照にしてください。

- ユーザー定義イベントの収集の詳細については、[次の文書](collect-custom-events)を参照にしてください。

:::

## ユーザーセッションの分析{#analysisusersession}

ユーザーセッションのログ照会一覧で<Cmdname sid="TTL07736" className="uitext" />カラムの<Cmdname sid="analysis" className="uitext" />ボタンを選択します。 選択した項目のユーザーセッションログの詳細情報が確認できる<Cmdname sid="TTL07736" className="uitext" />画面が表示されます。

ユーザーセッションを基準にウェブページと相互作用しながら発生させたイベントやエラーなどを時間順に確認できます。 ユーザーセッションの分析により、次のように活用し、より良いユーザー体験を提供できます。

- **ページ内の行動分析**：ユーザーがウェブページを利用するパターンを理解できます。 どのように動くのか、どのページにとどまっているのか、画面のどのような要素をクリックするのかなど、ユーザーの行動を分析できます。 この機能で、ユーザーがサイトを利用する方法について直観でき、ユーザーの経路を分析してユーザーの行動パターンを把握できます。

- **エラートレース**：JavaScriptエラー、ネットワークエラーなど、ユーザーのセッションから発生するあらゆる種類の技術的問題を追跡できます。 ユーザーのクリック、ページ移動などの行動をモニタリングし、これを分析して障害が発生した原因を特定できます。

- **離脱原因の把握**：特定のページからユーザーが離脱する場合や、特定の作業を完了できない場合を追跡して原因を分析し、その部分を改善することで離脱率を改善できます。

### ユーザーセッション情報

エンドユーザーのブラウザーやOS、ユーザーエージェント、ユーザーID、セッションID、クライアントIPなどの情報を照会できます。

### ユーザーセッションフロー

ユーザーセッションに基づいて、実際のユーザーがウェブサイトと相互作用する際に発生させた性能情報やイベント、エラーを確認できます。

### イベントの詳細情報を確認する

<Cmdname sid="TTL07746" className="uitext" />一覧の<Cmdname sid="title" className="uitext" />カラムに表示されるイベントの種類は、次のように分類されます。 各ユーザー セッションイベントを選択すると、そのイベントの詳細を確認できます。

#### <Cmdname sid="page_load" />(pageLoad)

ウェブページを読み込みする時に発生するイベントです。 イベント区間別の詳細時間情報と読み込みしたリソースの詳細を確認できます。 <Cmdname sid="TTL07736" className="uitext" />タブを選択すると、関連情報を連続して把握できます。

:::note

ページロード分析の詳細は、[次の文書](analyze-pageload)を参照にしてください。

:::

#### <Cmdname sid="TTL07752" />(routeChange)

SPAウェブページでルーター変更時に発生するイベントです。 ルーターの変更にかかった時間を確認できます。

#### <Cmdname sid="TTL07755" />(ajax)

AJAX要求関連のイベントです。 AJAXイベント区間別の詳細時間情報やAJAX要求URL、呼び出しページ情報、エラーメッセージなどが確認できます。 <Cmdname sid="TTL07736" className="uitext" />タブを選択すると、関連情報を連続して把握できます。

:::note

AJAXイベント分析の詳細は、[次の文書](analyze-ajax-hitmap)を参照にしてください。

:::

#### <Cmdname sid="TTL07753" />(click) / <Cmdname sid="TTL07754" />(rapid_click)

ユーザーがクリックした要素のIDであるセレクタとその要素のテキスト情報を確認できます。 この機能で、ユーザーがどのページでどの要素をクリックしたかを把握できます。

:::note

クリックイベントを収集するには、ブラウザーエージェントのオプション(`collectUserClick: true`) 設定が必要です。 詳しい内容は、[次の文書](apply-agent#setting-agent)を参考にしてください。

:::

#### <Cmdname sid="custom" />(custom)

ユーザー定義イベントで収集された情報を確認することができます。 ユーザー定義イベントの代表値であるタイトル(`name`)とContentsに含まれる情報を表示します。

:::note

ユーザー定義イベントの収集の詳細については、[次の文書](collect-custom-events)を参照にしてください。

:::

#### <Cmdname sid="TTL07751" />(browser_error)

ウェブページで発生するソースエラー、ネットワークエラーなどを確認することができます。

:::note

エラートレースの詳細は、[次の文書](tracking-error)を参照にしてください。

:::

### イベントごとにフィルタリングする

1. <Cmdname sid="TTL07746" className="uitext" />リストの右上の<LinkImage img="ico-filter.svg" desc="フィルターアイコン" />ボタンを選択します。

2. <Cmdname sid="filter" className="uitext" />リストでイベントの種類を選択します。

3. <Cmdname sid="apply" className="uitext" />ボタンを選択します。

{/* 세션 리플레이 */}
import Sessionreplay from "../common-items/_browser-analysis-session-replay.mdx";

<Sessionreplay />
