---
id: metrics-ecs
title: Amazon ECSメトリクス
description: Amazon ECSのメトリクスをご案内します。
toc_max_heading_level: 3
displayed_sidebar: awsecsSidebar
keywords:
  - Amazon ECS
  - メトリクス
---

:::note 

WhaTapECSメトリクス**カテゴリ**の表記はプレフィックス(`ecs_`)を活用します。

:::

### `ecs_service`

#### Tags

| タグ名                           | 説明                                                                                               |
| ----------------------------- | ------------------------------------------------------------------------------------------------ |
| ClusterArn                    | Amazon Resource Name(ARN)でECSクラスターを識別します。 各クラスターは、固有のARNを持ち、サービスが配布されたクラスターを指定します。               |
| LaunchType                    | ECSサービスの開始タイプを意味します。 `EC2`または`FARGATE`を値で持ちます。 サービスがEC2インスタンスで実行されるか、サーバーレスFargateで実行されるかを表示します。 |
| PlatformVersion               | Fargate作業で使用されるプラットフォームのバージョンを意味します。 Fargateインフラの特定のバージョンを示し、互換性と機能のサポートを決定します。                  |
| PropagateTags                 | サービスがタスクにタグを渡す方法を意味します。 `TASK_DEFINITION`または`SERVICE`値を持つことがあります。 サービスまたはタスクの定義からタグを継承します。       |
| RoleArn                       | サービスが使用するIAM役割のARNとなります。 この役割はECSがサービスに対して実行できるタスクを定義します。                                        |
| CreatedBy                     | サービスを作成したユーザーを意味します。 ユーザーの識別子または名前である可能性があります。                                                   |
| SchedulingStrategy            | サービスのスケジューリング戦略で`REPLICA`または`DAEMON`値を持つことがあります。 タスクのデプロイ方法を決定します。                               |
| ServiceArn                    | ECSサービスのARNを意味します。 サービスの固有の識別子です。                                                                |
| ServiceName                   | 使用者が指定したECSサービスの名前を意味します。                                                                        |
| TaskDefinition                | サービスで実行されるタスク定義の名前と改訂番号を意味します。                                                                   |
| ^                             | 例、`my-task:1`                                                                                    |
| DeploymentControllerType      | デプロイコントローラーのタイプを意味します。 `ECS`または`CODE_DEPLOY`を値で持ちます。 デプロイ方法を決定します。                               |
| HealthCheckGracePeriodSeconds | サービス開始後、ヘルスチェック猶予期間(秒)を意味します。 この期間中、サービスはヘルスチェックの失敗を無視します。                                       |
| Tags                          | サービスにリンクされているタグのキー値ペアの一覧を意味します。 各タグは、サービスに追加のメタデータを提供します。                                        |

#### Fields

| フィールド名       | 説明                                             |
| ------------ | ---------------------------------------------- |
| Status       | サービスの現在の状態を意味します。                              |
| ^            | 例、`ACTIVE`、`DRAINING`、`INACTIVE`               |
| CreatedAt    | サービスが作成された時間を意味します。 タイムスタンプで保存されます。            |
| DesiredCount | サービスで必要なタスクの数を意味します。 サービスが常に維持しようとしているタスクの数です。 |
| PendingCount | 現在待機中のタスクの数を意味します。 まだ開始されていないタスクの数です。          |
| RunningCount | 現在実行中のタスクの数を意味します。                             |

### `ecs_deployment`

#### Tags

| タグ名             | 説明                                                                                               |
| --------------- | ------------------------------------------------------------------------------------------------ |
| Id              | ECSデプロイの固有の識別子です。 各デプロイは固有のIDを持ち、これにより特定のデプロイを識別できます。                                            |
| LaunchType      | ECSデプロイの開始タイプを意味します。 `EC2`または`FARGATE`を値で持ちます。 サービスがEC2インスタンスで実行されるか、サーバーレスFargateで実行されるかを表示します。 |
| PlatformVersion | Fargate作業で使用されるプラットフォームのバージョンを意味します。 Fargateインフラの特定のバージョンを示し、互換性と機能のサポートを決定します。                  |
| TaskDefinition  | デプロイ時に実行されるタスク定義の名前と改訂番号を意味します。                                                                  |
| ^               | 例、`my-task:1`                                                                                    |

#### Fields

| フィールド名       | 説明                                           |
| ------------ | -------------------------------------------- |
| Status       | デプロイの現在の状態を意味します。 デプロイの進行状況と結果を表示します。        |
| ^            | 例、`PRIMARY`、`ACTIVE`、`FAILED`                |
| CreatedAt    | デプロイが生成された時間を意味します。 タイムスタンプで保存されます。          |
| DesiredCount | デプロイで必要なタスクの数を意味します。 デプロイが常に維持しようとするタスクの数です。 |
| PendingCount | 現在待機中のタスクの数を意味します。 まだ開始されていないタスクの数です。        |
| RunningCount | 現在実行中のタスクの数を意味します。                           |
| UpdatedAt    | デプロイが最後に更新された時間を意味します。 タイムスタンプで保存されます。       |

### `ecs_node`

#### Tags

| タグ名                  | 説明                                                                             |
| -------------------- | ------------------------------------------------------------------------------ |
| Ec2InstanceId        | ECSクラスターで使用されるEC2インスタンスの固有の識別子です。 各インスタンスは、固有のIDを持ちます。 これにより、特定のインスタンスを識別できます。 |
| ContainerInstanceArn | コンテナインスタンスのAmazon Resource Name(ARN)です。 コンテナインスタンスの固有の識別子です。                   |
| DockerVersion        | コンテナインスタンスで実行中のDockerのバージョンを意味します。 Dockerの特定のバージョンを識別し、互換性と機能のサポートを決定します。      |
| AgentVersion         | ECSエージェントのバージョンを意味します。 ECSエージェントはECSクラスターと通信します。 バージョンに基づいて、互換性と機能のサポートを決定します。 |
| PendingTasksCount    | 現在待機中のタスクの数を意味します。 まだ開始されていないタスクの数です。                                          |
| RunningTasksCount    | 現在コンテナインスタンスで実行されているタスクの数を意味します。                                               |
| Tags                 | コンテナインスタンスにリンクされているタグのキー値ペアの一覧を意味します。 各タグは、インスタンスに追加のメタデータを提供します。              |
| Version              | コンテナインスタンスの内部バージョンを意味します。 インスタンスの構成バージョンである可能性があります。                           |

#### Fields

| フィールド名       | 説明                                                 |
| ------------ | -------------------------------------------------- |
| Status       | コンテナインスタンスの現在の状態を意味します。                            |
| ^            | 例、`ACTIVE`、`DRAINING`、`INACTIVE`                   |
| StatusReason | コンテナインスタンスの現在の状態に対する説明と、変更の原因を意味します。               |
| RegisteredAt | コンテナインスタンスがECSクラスターに登録された時間を意味します。 タイムスタンプで保存されます。 |

### `ecs_task`

#### Tags

| タグ名           | 説明                                                    |
| ------------- | ----------------------------------------------------- |
| containerId   | コンテナの固有の識別子です。 各コンテナは固有のIDを持ち、特定のコンテナを識別できます。         |
| containerName | ユーザーが指定したコンテナの名前です。                                   |
| agentOid      | エージェントのOID(Object Identifier)です。 エージェントの固有の識別子を意味します。 |
| agentPcode    | エージェントのコードです。 エージェントの識別を支援するコード値です。                   |
| command       | コンテナの起動時に実行されるコマンドを意味します。                             |
| containerKey  | コンテナのハッシュされたキー値であり、コンテナIDをハッシュして生成された固有キーです。          |
| created       | コンテナが作成された時間です。 タイムスタンプで保存されます。                       |
| image         | コンテナが実行中の画像の名前を意味します。                                 |
| imageHash     | コンテナイメージのハッシュ値です。 イメージ名をハッシュして生成された固有の値です。            |
| imageId       | コンテナイメージのIDです。 イメージの固有の識別子です。                         |
| onode         | コンテナが実行中のノードの固有の識別子です。                                |
| onodeName     | コンテナが実行中のノードの名前です。                                    |
| dimension     | タスクARNとコンテナIDを組み合わせた文字列です。 モニタリングと識別を支援する情報です。        |

#### Fields

| フィールド名               | 説明                                       |
| -------------------- | ---------------------------------------- |
| cpu_user             | コンテナのユーザーモードで使用されたCPU時間です。               |
| cpu_user_millis      | ユーザモードで使用されたCPU(ミリ秒)です。                  |
| cpu_sys              | コンテナのシステムモードで使用されたCPU時間です。               |
| cpu_sys_millis       | システムモードで使用されたCPU時間(ミリ秒)です。               |
| cpu_total            | コンテナで使用された全体CPU時間です。                     |
| cpu_total_millis     | 全体CPU時間(ミリ秒)です。                          |
| mem_usage            | コンテナのメモリ使用量です。                           |
| mem_totalrss         | コンテナの全体RSS(Resident Set Size) メモリの使用量です。 |
| blkio_rbps           | ブロックI/Oの読み取り速度(バイト/秒)です。                 |
| blkio_riops          | ブロックI/O読み取り作業数(I/O作業/秒)です。               |
| blkio_wbps           | ブロックI/O書き込み速度(バイト/秒)です。                  |
| blkio_wiops          | ブロックI/O書き込み作業数(I/O作業/秒)です。               |
| mem_percent          | コンテナのメモリ使用量のパーセンテージです。                   |
| cpu_quota            | コンテナに割り当てられたCPU割当量です。                    |
| cpu_quota_percent    | 割り当てられたCPUのパーセンテージです。                    |
| mem_limit            | コンテナに割り当てられたメモリ限度です。                     |
| cpu_request          | コンテナに要求されたCPUリソースです。                     |
| mem_request          | コンテナに要求されたメモリリソースです。                     |
| cpu_throttledperiods | CPUスロットルされた期間の数です。                       |
| cpu_throttledtime    | CPUスロットルされた時間です。                         |
| mem_failcnt          | メモリ割り当ての失敗回数です。                          |
| mem_maxusage         | メモリの最大使用量です。                             |
| mem_per_request      | 要求されたメモリのパーセンテージです。                      |
| mem_totalcache       | キャッシュされたメモリの総量です。                        |
| mem_totalpgfault     | 全ページのフォールト数です。                           |
| mem_totalrss_percent | 全体のRSSメモリ使用量のパーセンテージです。                  |
| mem_totalunevictable | 全体の非退去可能なメモリの量です。                        |
| mem_workingset       | 作業セットのメモリ使用量です。                          |
| mem_inactivefile     | 非活性ファイルのメモリ使用量です。                        |
| network_rbps         | ネットワークの読み取り速度(バイト/秒)です。                  |
| network_rdropped     | ネットワークの読み取りドロップの数です。                     |
| network_rerror       | ネットワークの読み取りエラーの数です。                      |
| network_riops        | ネットワークの読み取り作業の数(I/O作業/秒)です。              |
| network_wbps         | ネットワークの書き込み速度(バイト/秒)です。                  |
| network_wdropped     | ネットワークの書き込みドロップの数です。                     |
| network_werror       | ネットワークの書き込みエラーの数です。                      |
| network_wiops        | ネットワークの書き込み作業の数(I/O作業/秒)です。              |
| node_cpu             | ノードのCPU使用量です。                            |
| node_mem             | ノードのメモリ使用量です。                            |
| restart_count        | コンテナ再起動の回数です。                            |
| state                | コンテナの状態を意味します。 状態はいくつかの段階に分けられます。        |
| ^                    | 例、実行中、中止                                 |
| status               | コンテナの状態を意味します。 テキスト値で状態を説明します。           |
