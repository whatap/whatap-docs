---
id: container-map-trace
title: Trace
description: WhaTap Kubernetesモニタリングのトレース機能は、コンテナ上で実行中のアプリケーション状態のモニタリング情報を提供します。
tags:
  - Kubernetes
  - Kubernetesモニタリング
  - Trace
---

ホーム画面 > プロジェクト選択 > **_ダッシュボード_** > **_コンテナマップ_** > 対象を選択後**詳細を見る**画面に入り > **_トレース_**

## コンテナ化されたアプリケーショントレース

Kubernetesをモニタリングする場合、Kubernetes環境内で実行中のアプリケーションを追跡せずにクラスターをモニタリングするだけでは、現在の状態や問題の原因を特定することは容易ではありません。

問題の原因を追跡する場合、特定のトランザクションのSQL処理の遅延、ビジネスロジックのエラーなど、アプリケーションレベルの問題である場合が多いからです。

WhaTap Kubernetesのトレース機能は、コンテナ上で実行中のアプリケーション状態のモニタリング情報を提供します。

:::note

Kubernetes上で実行中のアプリケーションを追跡するには、Java、Node.js、Pythonなどの各アプリケーションコンテナにWhaTapモニタリングエージェントがインストールされている必要があります。エージェントインストールの詳細については、[次の文書](install-application-agent)を参照してください。

:::

<ImgLang img='whatap_kubernetes_container_map_trace_example.png' desc='トレース' />

**_トレース_**機能の下位メニューは、**_ダッシュボード_**、**_TXリスト_**で構成されています。

## ダッシュボード

ダッシュボードは、次のようなアプリケーションのコア情報を一目で確認できます。

-   **_Active Transaction_**：現在実行中のトランザクションで、トランザクションの実行時間によって色分けされます。

    -   <span class='vslow'>赤色</span>(<span class='vslow'>Very slow</span>): 8秒以上
    -   <span class='slow'>橙色</span>(<span class='slow'>Slow</span>): 3秒~8秒
    -   <span class='normal'>青色</span>(<span class='normal'>Normal</span>): 0秒~3秒

-   **_Active Transaction Count_**(アクティブトランザクションの推移)

-   **_Htimap_**(ヒートマップ)：終了したトランザクションレスポンス時間の分布図

    -   横軸：トランザクションの終了時間
    -   縦軸：実行時間
    -   実行時間の長いトランザクションは、分布図の上部にあります。
    -   特定の領域をドラッグすると、トランザクション情報を確認できます

-   **_TPS_**(Transaction Per Second)：毎秒処理されたトランザクション数

-   **_Conrurrent User_**：同時ユーザー

-   **_Apdex \* 100_**(Application Performance Index)：ウェブアプリケーションのユーザー満足度の測定

-   **_HTTP Call Count_**：HTTP呼び出し件数

-   **_HTTP Call Error Count_**：HTTP呼び出しエラー件数

-   **_SQL Count_**

-   **_SQL Error Count_**

-   **_Transaction Total Conunt_**：トランザクション件数

-   **_Transaction Error Conunt_**：トランザクションError件数

-   **_Response Time_**：レスポンス時間

-   **_Heap Memory Usage_**：Heap Memory使用量、使用可能な最大/現在のメモリ

    -   時間の経過に伴うメモリ使用量の変化をリアルタイムに把握可能
    -   PythonのProcess Totalメモリ使用量

-   **_ThreadCount_**：Thread件数、Node.js、Pythonを除く

-   **_GC Count_**：GC回数、Node.js、Pythonを除く

-   **_GC Old Generation Count_**：Old領域のGC回数、Node.js、Pythonを除く

## TXリスト

**_トランザクション一覧_**画面は、指定された時間帯のトランザクション一覧情報を表示します。トランザクションの分布図を確認して特定の区間のトランザクションのみを表示する場合は、トレースの上の**_ダッシュボード_**のヒートマップチャートから対象を選択(ドラッグ)してください。

<ImgLang img='k8s-tx-list.png' desc='TXリスト' />
