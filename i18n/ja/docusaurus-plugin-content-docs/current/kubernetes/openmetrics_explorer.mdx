---
id: openmetrics_explorer
title: OpenMetricsエクスプローラー
description: OpenMetricsを探索して確認します。
toc_max_heading_level: 3
keywords:
  - OpenMetrics
  - Kubernetes
  - Kubernetesモニタリング
---

ホーム画面 &gt; プロジェクトを選択 &gt; <Cmdname sid="side_analysis" className="uitext" /> &gt; <b>OpenMetricsエクスプローラー</b> <code class="Beta">ベータ</code>

**オープンメトリックエクスプローラー**は、PrometheusベースのカスタムメトリックをPromQLで直接探索し、さまざまな形式で視覚化してメトリックの状態を確認したり、インサイトを得ることができる機能です。

この機能を使用することで、必要なメトリックを自由に照会し、有意義なデータを抽出したり、ダッシュボードと連携して継続的にモニタリングすることができます。

:::note

オープンメトリックエクスプローラーを使用するには、オープンエージェントのインストールが必要です。

- [WhaTapオペレーターのインストール](install-whatap-operator)ドキュメントを参照してください。

:::

## PromQLを探索する

**OpenMetricsエクスプローラー**でPromQLを実行し、さまざまな可視化オプションで結果を確認できます。

<ImgLang img='openmetrics-explorer.png' desc='openmetrics-explorer' />

#### Graph

- **Line**: 基本的な時系列のラインチャート

- **Bar**: バーチャート形式での可視化

- **StackBar**: 積み上げられた値を表示するスタック型バーチャート

#### Table / Raw

- **Table**: 各時系列の値を時間順に並べて表形式で表示

- **Raw**: Prometheus APIのレスポンス（JSON形式）をそのまま確認可能

### PromQL文法のサポートおよび自動補完

`node_cpu_seconds_total`、`container_memory_usage_bytes`などのメトリクスを入力すると、自動補完機能によりメトリクスおよび演算子のリストが表示されます。

`{pod="example"}`形式のラベルフィルタリングもサポートされています。

## ダッシュボードに追加する

取得したPromQLクエリをダッシュボードウィジェットとして保存することで、希望するメトリクスを継続的にモニタリングできます。

### 追加方法

1. **オープンメトリック探索機**画面右上の**+ ダッシュボードに追加**ボタンをクリックすると、**ダッシュボードに追加**モーダルウィンドウが表示されます。

2. **ダッシュボードに追加**ウィンドウで、既存のダッシュボードを選択するか、新規のダッシュボードを作成します。 

3. **適用**ボタンをクリックすると、該当のウィジェットが指定したダッシュボードに追加されます。

   - 追加されたダッシュボードでウィジェットの名前と説明を入力できます。

   - 追加されたウィジェットはFlexボードのGridレイアウトで自由に配置を調整でき、PromQLの修正も可能です。
