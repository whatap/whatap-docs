## フィルター適用

過去のデータを照会する場合、フィルターを適用して希望するデータだけを照会できます。

1. タイムセレクターで一時停止(![一時停止アイコン](/img/ico-pause.svg))ボタンをクリックすると、フィルター入力ボックスが表示されます。

2. フィルター入力ボックスをクリックすると、以下のように選択できるフィルター項目の一覧が表示されます。

   - 一般フィルター  

     | 項目                         | 説明                                                           |
     | -------------------------- | ------------------------------------------------------------ |
     | ログインID                     | ユーザーのログイン識別子(ID)で照会                                          |
     | WClientID                  | クライアント別の固有識別子で照会<br /> ※ 完全一致で照会                             |
     | TXID                       | 個別トランザクションの固有識別子<br /> ※ 完全一致で照会                             |
     | リファラー                      | トランザクションリクエスト時に渡されたReferer(参照ページアドレス)で照会                     |
     | マルチTXID                    | 複数のトランザクションを束ねる固有識別子<br /> ※ 完全一致で照会                         |
     | カスタムTID                    | ユーザーが直接定義したトランザクション識別子(Custom Transaction ID)で照会             |
     | エラー(クラス、段階、メッセージ)          | トランザクションで発生したエラーの種類、段階、メッセージで照会(部分一致を含む)                     |
     | 都市                         | トランザクションが発生したユーザーの都市情報で照会                                    |
     | 国/地域                       | トランザクションが発生したユーザーの国家情報で照会                                    |
     | HTTPメソッド                   | HTTPリクエスト方式(GET、POSTなど) <br /> ※ 完全一致で照会                     |
     | ユーザーエージェント                 | トランザクションリクエストに使用されたブラウザまたはクライアント情報(User Agent)で照会            |

   - ステップ(STEP)フィルター\
     STEPとは、トランザクションを実行するときに収集されるプロファイルデータを意味します。 ヒートマップのドラッグ時、トランザクションLISTでトランザクションをクリックして見るTable ViewやTree Viewに表示される順次データをSTEPといいます。

     ```
     | 項目       | 説明                                                                                                                                                   |
     | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
     | DBC       | トランザクション実行時に実行されるメソッド情報が保存されているSTEP                                                                                                             |
     | HTTPC     | HTTP呼び出し情報が保存されているSTEP                                                                                                                             |
     | MESSAGE   | トランザクション実行時の様々なテキスト情報が保存されているSTEP                                                                                                                |
     | METHOD    | トランザクション実行時に実行されるメソッド情報が保存されているSTEP                                                                                                             |
     | SQL       | 実行されたクエリ情報が保存されているSTEP                                                                                                                             |
     | SQL_BIND  | 実際には存在せず、SQLステップに含まれるデータ<br /> SQL呼び出し時にバインド変数と置換変数を照会できるSTEP <br />※ 敏感な情報照会権限と復号化キーがなければ照会できない |
     | ALL       | 上記のすべてのSTEP情報を照会するステップ<br /> ※ 敏感な情報照会権限と復号化キーがなければ照会できない                                                          |
     ```

   - 数値フィルター  

     | 項目             | 説明                         |
     | -------------- | -------------------------- |
     | 経過時間           | トランザクションが実行されるのにかかった全体時間   |
     | HTTPコール時間      | HTTPリクエストに対する応答時間          |
     | HTTPコール件数      | トランザクション中に発生したHTTPリクエストの回数 |
     | SQL時間          | トランザクションで実行されたSQLクエリの総実行時間 |
     | SQL件数          | トランザクションで実行されたSQLクエリの数     |
     | 状態             | トランザクションの状態(例: 正常、エラーなど)   |

3. フィルタリング項目に希望する値を入力します。 フィルタリングには、フィルターキー、演算子、値のすべてを入力する必要があります。 入力が完了していないフィルターが残っている場合、検索はできません。

4. フィルター入力完了後![検索アイコン](/img/ico-btn-search.png)ボタンをクリックします。 

***Top 30***一覧と<Cmdname sid="transaction_map" className="uitext" />チャートにフィルタリングしたデータを更新します。

:::note

- 複数の条件を設定してフィルタリングすることができます。 追加した条件は、`&&`を基準として適用されます。 例えば、トランザクションが`/account/save/employee/seoul`でありながら経過時間が3秒以上の場合は、次のように適用できます。

  > `TX` `=` `/account/save/employee/seoul` `経過時間 (ms)` `>=` `3`

:::
