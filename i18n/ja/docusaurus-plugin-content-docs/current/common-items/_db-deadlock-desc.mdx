## デッドロック

ホーム画面 &gt; プロジェクト選択 &gt; <Cmdname sid="side_analysis" className="uitext" /> &gt; <Cmdname sid="side_deadLock" className="uitext" />

デッドロック（Dead Lock）とは、複数のプロセスまたはトランザクションがそれぞれ他のトランザクションに必要なデータベースリソース（テーブルまたは行）をロックして互いに進行できない状態に陥ることを指します。頻繁に発生するデッドロックは、エンドユーザーに不便を与え、サービス品質の低下につながります。<Cmdname sid="side_deadLock" className="uitext" /> メニューでは、デッドロックが発生した時点と関連情報を確認できます。この情報はアプリケーション設計上の問題を特定し、解決するのに役立ちます。

<ProdImg img='db-deadlock-basic.png' desc='デッドロック' />

データベースで発生したデッドロックに関する情報を確認できます。

1. <Cmdname sid="time" className="uitext" />で照会したい時間を設定します。

2. <Cmdname sid="instance" className="uitext" />で照会したいインスタンス名を選択します。

3. ![検索アイコン](/img/ico-btn-search.png)ボタンを選択します。

取得したデッドロック情報をテーブル形式で提供します。

:::note

- 照会時間は最大3週間まで選択できます。

:::

### 収集方法

エージェントは一定の周期ごとに SHOW ENGINE INNODB STATUS コマンドを実行してデッドロック情報を収集します。このコマンドの特性上、最も最近発生したデッドロック情報のみを確認できます。収集した情報が以前と重複する場合は、別途保存しません。

### 収集間隔

基本的に **1時間ごと** に情報を収集し、次のエージェントオプションを通じて周期を調整できます。

- **deadlock_interval** (Int)\
  デフォルト値: `60` (単位: 分)\
  デッドロック情報を収集する間隔を設定します。設定した周期内に発生したデッドロックの中で **最も最近発生した1つのデッドロック情報のみを収集** します。

:::note

データ収集に関するオプションの使用方法は [次の文書](https://docs.whatap.io/mysql/agent-dbx-settings#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%88%98%EC%A7%91) を参照してください。

:::

### アラーム設定

デッドロック発生に対するアラームを設定できます。ただし、デッドロック情報は `deadlock_interval` の周期ごとに確認されるため、 **アラームはリアルタイムで発生せず、該当周期ごとに確認されたデッドロックに対して発生** します。