## デッドロック

ホーム画面 &gt; プロジェクト選択 &gt; <Cmdname sid="side_analysis" className="uitext" /> &gt; <Cmdname sid="side_deadLock" className="uitext" />

デッドロック(Dead Lock)は、2つ以上のプロセスまたはトランザクションがそれぞれ異なるトランザクションに必要なデータベースリソース(テーブルまたは行)をロックし、互いに進行できないようにブロックするときに発生します。頻繁に発生するデッドロックは、エンドユーザーに不快感を与え、サービスの品質を低下させます。<Cmdname sid="side_deadLock" className="uitext" />メニューではデッドロックが発生した時点とこれに関する情報を照会することができます。この情報は、アプリケーション設計で問題を特定し、解決するのに役立ちます。

<ProdImg img='db-deadlock-basic.png' desc='デッドロック' />

データベースで発生したデッドロックに関する情報を確認できます。

1. <Cmdname sid="time" className="uitext" />で照会したい時間を設定します。

2. <Cmdname sid="instance" className="uitext" />で照会したいインスタンス名を選択します。

3. ![検索アイコン](/img/ico-btn-search.png)ボタンを選択します。

取得したデッドロック情報をテーブル形式で提供します。

:::note

- 照会時間は最大3週間まで選択できます。

- <Cmdname sid="time" className="uitext" />オプションの利用方法の詳細については、[次の文書](usage-ui#timeselector)を参照してください。

:::

## デッドロックの収集

### 収集方法

エージェントは定期的に `SHOW ENGINE INNODB STATUS` コマンドを実行してデッドロック情報を収集します。このコマンドの特性上、**最新の1件のデッドロック情報のみ**が確認できます。収集した情報が前回と重複する場合は保存されません。

### 収集間隔

デフォルトでは、**1時間ごと**に情報が収集されます。次のエージェントオプションで間隔を調整できます。

- **deadlock_interval** (Int)  
  デフォルト値: `60`（単位：分）  
  デッドロック情報の収集間隔を設定します。指定した間隔内に発生した **最後の1件のデッドロック情報のみを収集**します。

:::note

データ収集オプションの詳細については、[次の文書](https://docs.whatap.io/mysql/agent-dbx-settings#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%88%98%EC%A7%91)をご参照ください。

:::

### アラーム設定

デッドロック発生に対するアラームを設定できます。ただし、デッドロック情報は `deadlock_interval` の間隔で確認されるため、**アラームはリアルタイムで発生せず、各間隔で検出されたデッドロックに基づいて発生**します。