## テンプレート {#template}

### メトリックスイベント

<Cmdname sid="side_event" className="uitext" /> &gt; <Cmdname sid="side_eventSetting" className="uitext" /> &gt; <Cmdname sid="metrics" className="uitext" />セクションで<Cmdname sid="add_notification" className="uitext" />ボタンを選択します。 <Cmdname sid="template" className="uitext" />で希望する項目を選択します。

- <Cmdname sid="application_alert_template_1" className="uitext" />

  ヒープメモリ(Heap Memory)のOld Generation領域でGCが発生したらアラート通知を送信します。

- <Cmdname sid="application_alert_template_2" className="uitext" />

  実行中のクエリが5秒以上で非常に遅いクエリが発生したらアラート通知を送信します。

- <Cmdname sid="application_alert_template_3" className="uitext" />

  8秒を超えるアクティブトランザクションの数が100を超えると、アラート通知を送信します。

- <Cmdname sid="normal_alert_template_1" className="uitext" />

  **APDEX**数値が0.7を下回ったらアラート通知を送信します。

### 複合メトリクスイベント {#composite-metrics-template}

- ***非活性化のエージェントが見つかりました。***

  条件：`num_of_current_agents` \< 6

  プロジェクトに含まれたすべてのエージェントの中で、正常なエージェント数が6つ未満になるイベントが発生したらアラート通知を送信します。

- ***非常に遅いアクティブセッションが見つかりました。***

  条件：`very_slow_tx_cnt_m5_avg` \> 10

  プロジェクトに含まれた特定の`okind`に属するエージェントから、8秒を超えたトランザクションの数の合計が10件を超えたらアラート通知を送信します。

- ***先週と比べたTPSが30％以上変化しました。***

  条件：`one_week_diff_abs` \> `current_tps` \* 0.3

  プロジェクトに含まれた特定の`okind`に属するエージェントのTPSの合計が、7日前と比較して30%以上変化したらアラート通知を送信します。

:::tip

複数のエージェントから受信したデータに対して、総合的なイベント判定を行う場合は、次の複合メトリクステンプレートを設定してください。

- ***非活性化のエージェントが見つかりました。***
- ***非常に遅いアクティブセッションが見つかりました。***

過去のデータと現在のデータを比較してイベント判定を行う場合は、次の複合メトリクステンプレートを設定してください。

- ***先週と比べたTPSが30％以上変化しました。***

:::
