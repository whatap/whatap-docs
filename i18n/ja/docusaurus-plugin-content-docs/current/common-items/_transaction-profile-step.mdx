トランザクション性能とは、トランザクションの開始と終了までの要約指標や属性を意味します。一方、トランザクショントレースは、トランザクションが実行されているステップのトレースです。トランザクションが遅い場合やエラーが発生した場合は、その原因を追跡するために実行履歴をステップごとに追跡する必要があります。これを**トランザクショントレーシング**と呼ばれます。

WhaTapが収集するステップの種類は、大きく分けてSQLステップ、HTTP CALLステップ、メッセージステップ、SOCKETオープンステップ、DB接続ステップ、メソッドステップなどがあります。 

:::note

WhaTapのステップ(Step)は、スパン(Span)と同じ意味で使用します。

:::

* * *

- **DB接続ステップ** <span class='type'>START-END</span>

  RDBへの接続のパフォーマンスが含まれます。ステップ情報には、名前、応答時間、エラーが含まれます。

- **SQLステップ** <span class='type'>START-END</span>

  JDBC SQLのパフォーマンスが含まれます。ステップ情報には接続情報、SQL文、エラーが含まれています。

- **HTTP Callステップ** <span class='type'>START-END</span>

  外部HTTPサービス呼び出しのパフォーマンスが含まれます。ステップ情報にはurl、host、port、応答時間、エラーが含まれます。

- **Messageステップ** <span class='type'>ADD</span>

  トレースを収集する過程で、非構造化のすべての間隔の履歴を収集する際にメッセージステップを使用します。  

- **SOCKETステップ** <span class='type'>ADD</span>

  Socketオープンを表現するステップです。

- **METHODステップ** <span class='type'>START-END</span>

  メソッド応答時間を追跡します。

- **ACTIVE STACK ステップ** <span class='type'>START-END</span>

  アクティブスタックに関する情報が含まれます。別のスレッドを作成し、トレースに追加することで収集されます。

* * *
