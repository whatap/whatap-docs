<Title level={props.level} hashid="filtering">参照結果フィルタリング</Title>

<InDoc pages="analysis-sql">

照会結果は次の基準でフィルタリングできます。

- **sql_id** 

- **sql_hash_value**

- **after_plan_hash_value**

- **before_plan_hash_value**

</InDoc>

<Title level={props.level + 1}>フィルター条件を追加する</Title>

<InDoc pages="stat">

照会された結果からSQLテキスト値またはエージェント名、DBユーザー名などに基づいて希望するフィルタリングが可能です。

</InDoc>

1. <Cmdname sid="filter" className="uitext" />オプションで<LinkImage img="ico-add.svg" className="ico" />ボタンを選択します。

2. <Cmdname sid="TTL06740" className="uitext" />項目で目的のフィルタリング基準を選択します。

   - 選択した項目の値が文字に該当する場合は<Cmdname sid="includes" className="uitext" />(青)、<Cmdname sid="excludes" className="uitext" />(赤) の条件を選択できます。

     <InDoc pages="stat,top-sql"><ImgLang img="db-sql-filter-condition-color.png" desc="example" multi /></InDoc>

     <InDoc pages="analysis-sql"><ImgLang img="db-sql-analysis-filter-condition-color.png" desc="example" multi /></InDoc>

   - 選択した項目の値が数字に該当する場合は`==`(等しい), `>=`(より大きいか等しい), `<=`(より小さいか等しい) 条件を選択できます。

3. <Cmdname sid="condition" className="uitext" />項目で条件を選択します。

4. 条件に一致する文字列または数字を入力します。

5. <Cmdname sid="apply" className="uitext" />ボタンを選択します。

:::note

**フィルター条件の追加と削除**

- フィルタリング条件を追加するには、<Cmdname sid="bsm_button_add" className="uitext" /> ボタンをクリックし、手順 1～5 を繰り返します。追加された条件は AND（`&&`）条件として適用されます。

- 条件追加中に一部の項目を削除する場合は、フィルター条件の右側にある ![削除アイコン](/img/ico-trash.svg) ボタンをクリックします。すべての条件を削除するには、![削除アイコン](/img/ico-trash.svg) <Cmdname sid="BTN06616" className="uitext" /> ボタンをクリックします。

- <Cmdname sid="filter" className="uitext" /> オプションに適用された条件をすばやく削除するには、<LinkImage img="ico-close.svg" className="ico" /> ボタンをクリックします。

<InDoc pages="stat,top-sql">

- `sqlText`に「WhaTap」が含まれている場合は、除外するようにデフォルトで設定されています。

  <ImgLang img='db-sql-filter-default.png' desc='WhaTap' />

</InDoc>

:::

<Title level={props.level + 1}>フィルター条件を修正する</Title>

1. 画面上部の <Cmdname sid="filter" className="uitext" /> オプションで、適用されている項目をクリックします。

1. <Cmdname sid="TTL06737" className="uitext" /> ウィンドウで目的の項目を修正し、<Cmdname sid="apply" className="uitext" /> ボタンをクリックします。