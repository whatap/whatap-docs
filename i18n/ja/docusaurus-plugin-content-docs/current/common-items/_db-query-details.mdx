## クエリの詳細を見る {#query-details}

現在実行中のセッションのSQLクエリ情報を確認するには<Cmdname sid="active_sessions" className="uitext" />セクションの<span class="uitext">query</span>カラム項目を選択してください。 <Cmdname sid="TTL06224" className="uitext" />画面が表示されます。 SQLクエリ文とPlan情報を確認することができます。

<InDoc product="postgresql,postgresql-v1,mysql,mysql-v1">

<ImgLang img="db-sql-details-postgresql.png" desc="SQL詳細" />

</InDoc>

<Xclude product="postgresql,postgresql-v1,mysql,mysql-v1">

<ImgLang img="db-sql-details-common.png" desc="SQL詳細" />

</Xclude>

- <Cmdname sid="BTN06225" className="uitext" />: 該当SQLクエリ文に関する統計情報が確認できる<Cmdname sid="statistics_sql" className="uitext" />メニューへ移動できます。

- **_Default Bind_**: クエリ文で変数として設定された部分をデフォルト値としてバインディングできます。

- **_Reset Bind_**: バインディングされたデフォルト値を解除し、変数を確認できます。

- **_Formatting_**: SQLクエリ文にインデントおよびフォーマットを適用して可読性を高めることができます。

- **_Plan_**: Plan情報を確認するには**DB Name**、**User Name**、**Password**を入力してから、![検索アイコン](/img/ico-btn-search.png)ボタンを選択してください。

  <InDoc product='postgresql,postgresql-v1,mysql,mysql-v1'>

  - **_Text_**: テキスト形式でプラン情報を確認できます。

  - **_JSON_**: JSON形式でプラン情報を照会すると、ボトルネックが発生した箇所がすばやく確認できます。

  </InDoc>

  <InDoc product='postgresql,postgresql-v1'>

  :::note

  **_JSON_**形式でプラン情報を照会する機能は、DBXエージェント1.6.12バージョン以降から対応しています。

  :::

  </InDoc>

  <InDoc product='mysql,mysql-v1'>

  :::note

  **_JSON_**形式でプラン情報を照会する機能は、DBXエージェント1.6.15バージョン以降から対応しています。

  :::

  </InDoc>

- 画面右上に![垂直分割アイコン](/img/ic-column.svg)ボタンを選択すると**_Query_**と**_Plan_**セクションを左右に配置します。

- 画面右上に![垂直分割アイコン](/img/ic-layout-horizontal.svg)ボタンを選択すると**_Query_**と **_Plan_**セクションを上下に配置します。

<InDoc product='postgresql,postgresql-v1,mysql,mysql-v1'>

:::tip

**_JSON_**形式でプラン情報を照会した状態でtableまたはindex項目を選択すると、テーブルの**column**、 **index**構成が確認できる**_Object detail_**ウィンドウが表示されます。

<ImgLang img='db-sql-objectdetail-pg.png' desc='Object detail' />

この機能は、DBXエージェント1.6.15バージョン以降に対応しています。 データベース権限に関する設定は、[次の文書](install-agent#uid)を参考にしてください。

:::

</InDoc>
