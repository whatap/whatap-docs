<Title level={props.level} hashid="dbagentspec" >エージェントの最小インストール仕様</Title>

- **CPU**: 1コアあたり約20個のエージェントのインストールが可能(DBサーバーの負荷によって変動可能)

- **メモリー**: 200MB

- **ディスク**: 100MB(エージェントスペース50MB + ログファイル作成スペース50MB)

:::note

エージェント数による最小インストール仕様 

| エージェントインストール数 | CPU | メモリ | ディスク |
| :-----------: | :-: | :-: | :--: |
|      10個      | 1コア | 2GB |  1GB |
|      20個      | 1コア | 4GB |  2GB |
|      40個      | 2コア | 8GB |  4GB |

:::

<Title level={props.level} hashid="dbagentrunning" >エージェント方式</Title>

DBエージェントは、次のような方式で基本動作します。

- **遂行周期**: 5秒(既定値)

- **実行クエリ数**: 5~6個

- **速度**: サーバーの負荷が正常な場合、1秒以内に終了

- 最大2つのセッション(5秒収集セッション、その他の情報収集セッション)

収集クエリのタイムアウトが発生すると、DBエージェントは負荷を最小化するために次の方法で動作します。

- 以前の収集クエリが終了するまで、新しい収集クエリを実行しません。

- タイムアウトが12秒を超えた場合(リフレッシュ周期が2回を超えた場合)は、セッション終了後に再接続します。

- 3回以上タイムアウトが発生した場合は、10秒待機してから再試行します。

:::note

DBサーバーの負荷状態によって収集クエリの結果がWhaTapモニタリングサービス画面に出力されるまでに長い時間がかかったり、タイムアウトが発生することがあります。

:::
