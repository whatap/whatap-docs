### SQLパラメータの照会 {#transaction-parameter}

<Cmdname sid="TTL06126" className="uitext" />タブでSQLステップを選択するか、<Cmdname sid="TTL06127" className="uitext" />タブで![ポップアップ](/img/ic-popup.svg)ボタンを選択します。 パラメータを照会できる<UI>SQL</UI>画面が表示されます。

<ImgLang img='sql-parameter-query.png' desc='SQL' />

<Xclude product='java,php,golang'>

- <Cmdname sid="BTN06764" className="uitext" />：復号化されたパラメータの値を確認できます。 パスワードは*`WHATAP_HOME`/paramkey.txt*ファイル内の6桁の文字列です。 別の文字列に変更できます。

  :::note

  *paramkey.txt*内のキーは、SQL変数の検索、HTTPクエリの検索、Threadの停止に必要です。

  :::

</Xclude>

<InDoc product='java'>

- <Cmdname sid="BTN06764" className="uitext" />：復号化されたパラメータの値を確認できます。 パスワードは*`WHATAP_HOME`/security.conf*ファイル内の6桁の文字列(`paramkey`)です。 別の文字列に変更できます。

  :::note

  <Cmdname sid="BTN06764" className="uitext" />は、SQL変数の照会、HTTPクエリの照会、Threadの中止に必要です。 詳細については、[次の文書](install-agent#security)を参照してください。

  :::

</InDoc>

<InDoc product='php,golang'>

- <Cmdname sid="BTN06764" className="uitext" />：復号化されたパラメータの値を確認できます。 パスワードは*`WHATAP_HOME`/security.conf*ファイル内の6桁の文字列(`paramkey`)です。 別の文字列に変更できます。

  :::note

  エージェントのバージョンによっては、パスワード設定ファイルが異なる場合があります。 *security.conf*ファイルまたは*paramkey.txt*ファイル内の文字列を変更します。

  :::

</InDoc>

- <Cmdname sid="format" className="uitext" />：SQL文をインデントまたはフォーマット化して可読性を高めることができます。

- ![コピーアイコン](/img/ico-copy.svg)：SQL文章をクリップボードにコピーできます。

- <Cmdname sid="statistics" className="uitext" />: <Cmdname sid="side_statistics" className="uitext" /> &gt; <Cmdname sid="side_statSql" className="uitext" />メニューに移動します。

<Xclude product='kubernetes'>

:::tip

SQL変数とHTTPクエリを照会するには、次のオプションをエージェント設定に追加します。

- SQLパラメータ情報の記録に関するエージェント設定は、[次の文書](agent-dbsql#profile-sql-param)を参照にしてください。

- HTTPパラメータ情報の記録に関するエージェント設定は、[次の文書](agent-transaction#profile_http_parameter)を参照にしてください。

<InDoc product="php">

```ini title='whatap.conf'
# SQLパラメータ照会オプション: オプションが適用されるとSQLパラメータを暗号化して収集します。
whatap.profile_sql_param_enabled=true 

# HTTPパラメータ照会オプション: オプションが適用されると、HTTPクエリパラメータを暗号化して収集します。
whatap.profile_http_parameter_enabled=true 
```

</InDoc>

<Xclude product="php">

```ini title='whatap.conf'
# SQLパラメータ照会オプション：オプションが適用されるとSQLパラメータを暗号化して収集します。
profile_sql_param_enabled=true 

# HTTPパラメータ照会オプション：オプションが適用されると、HTTPクエリパラメータを暗号化して収集します。
profile_http_parameter_enabled=true 
```

</Xclude>

:::

</Xclude>

<InDoc product='kubernetes'>

:::tip

SQL変数とHTTPクエリを照会するには、次のオプションをエージェント設定に追加します。 DB、SQLに関するエージェント設定の詳細は[次の文書](../java/agent-dbsql)を参照してください。

```ini title='whatap.conf'
# SQLパラメータ照会オプション：オプションが適用されるとSQLパラメータを暗号化して収集します。
profile_sql_param_enabled=true 

# HTTPパラメータ照会オプション：オプションが適用されると、HTTPクエリパラメータを暗号化して収集します。
profile_http_parameter_enabled=true 
```

:::

</InDoc>
