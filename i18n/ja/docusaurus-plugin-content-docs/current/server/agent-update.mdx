---
id: agent-update
title: エージェントのアップデート
description: サーバーエージェントの更新方法について説明します。
keywords:
  - Server
  - アップデート
  - 管理
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

:::note

以前のバージョンをインストールする場合は、support@whatap.io までお問い合わせください。

:::

## Linux

インストールされているエージェントを最新バージョンにアップデートするには、次のコマンドを実行してください。

- **Debian / Ubuntu**

  ```bash title=SH
  sudo apt-get update
  sudo apt-get install whatap-infra
  sudo service whatap-infra restart
  ```

  特定のバージョンをインストールする場合は、インストール時にバージョン情報を指定します。

  ```bash
  sudo apt-get install whatap-infra={version}
  ```

- **CentOS / Amazon Linux / SUSE**

  ```bash title=SH
  sudo yum update whatap-infra
  sudo service whatap-infra restart
  ```

  特定のバージョンをインストールする場合は、インストール時にバージョン情報を指定します。

  ```bash
  sudo yum install whatap-infra-{version}
  ```

## Unix

- **FreeBSD**

  インストールされているエージェントを最新バージョンにアップデートするには、次のコマンドを実行してください。

  ```bash title=SH
  wget http://repo.whatap.io/freebsd/10/whatap-infra.txz
  pkg install whatap-infra.txz
  ```

- **AIX** 

  インストールされているエージェントを最新バージョンにアップデートするには、次のコマンドを実行してください。 

  ```bash
  stopsrc -s whatap-infra
  cp /usr/whatap/infra/conf/whatap.conf /tmp/whatap.conf
  rpm -e whatap-infra
  rpm -Uvh http://repo.whatap.io/aix/noarch/whatap-infra-latest.noarch.rpm
  cp /tmp/whatap.conf /usr/whatap/infra/conf/whatap.conf
  startsrc -s whatap-infra
  ```

- **Oracle Solaris** 

  インストールされているエージェントを最新バージョンにアップデートするには、次のコマンドを実行してください。 

  ```bash
  cp /usr/whatap/infra/conf/whatap.conf /tmp
  /etc/init.d/whatap-infra stop
  pkgrm whatap-infra
  wget https://repo.whatap.io/sunos/11/whatap-infra.latest.SPARC.pkg.tar.gz
  tar xzvf whatap-infra.latest.SPARC.pkg.tar.gz
  pkgadd -d .
  cp /tmp/whatap.conf /usr/whatap/infra/conf/whatap.conf
  /etc/init.d/whatap-infra start
  ```

- **HP-UX** 

  インストールされているエージェントを最新バージョンにアップデートするには、次のコマンドを実行してください。 

<Tabs>
<TabItem value="ia64" label="IA64" default>

```bash title='IA64'
cp /usr/whatap/infra/conf/whatap.conf /tmp
/sbin/init.d/whatap-infra stop
gunzip -c whatap-infra.latest.ia64.tar.gz | tar xvf -
yes n | ./whatap-infra/install.sh
cp /tmp/whatap.conf /usr/whatap/infra/conf/whatap.conf
/sbin/init.d/whatap-infra start
```

</TabItem>

<TabItem value="parisc" label="PA-RISC">

```bash title='PA-RISC'
cp /usr/whatap/infra/conf/whatap.conf /tmp
/sbin/init.d/whatap-infra stop
gunzip -c whatap-infra.latest.pa.tar.gz   | tar xvf -
yes n | ./whatap-infra/install.sh
cp /tmp/whatap.conf /usr/whatap/infra/conf/whatap.conf
/sbin/init.d/whatap-infra start
```

</TabItem>

</Tabs>

## Windows

インストール済みのエージェントを最新バージョンにアップデートするには、<Cmdname sid="side_management" className="uitext" /> &gt; <Cmdname sid="side_agentInstall" className="uitext" />メニューに移動します。<Cmdname sid="agent-setup-guide" className="uitext" />セクションの<Cmdname sid="server_installAgent_win_download" className="uitext" />の指示に従って、Windowsサーバー用のインストーラーをダウンロードし、*whatap_infra.exe*ファイルを実行します。エージェントのアップデート後、サービスが再起動されます。

:::note

セキュリティ設定により、 _.exe_ 形式のファイルがダウンロードできないユーザーは、_.zip_ 形式のファイルを提供します。 詳しい内容は [次の文書](../server/server-os/server-windows)を参照してください。

:::
