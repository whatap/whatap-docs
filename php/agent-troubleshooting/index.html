<!doctype html>
<html lang="ko-KR" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-php/agent-troubleshooting" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">설치 및 설정 오류 해결 | WhaTap Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.whatap.io/img/og/whatap.png"><meta data-rh="true" name="twitter:image" content="https://www.whatap.io/img/og/whatap.png"><meta data-rh="true" property="og:url" content="https://docs.whatap.io/whatap-docs/php/agent-troubleshooting"><meta data-rh="true" property="og:locale" content="ko_KR"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="ja_JP"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="설치 및 설정 오류 해결 | WhaTap Docs"><meta data-rh="true" name="description" content="PHP 에이전트 설치 시 발생할 수 있는 문제를 확인할 수 있습니다."><meta data-rh="true" property="og:description" content="PHP 에이전트 설치 시 발생할 수 있는 문제를 확인할 수 있습니다."><meta data-rh="true" name="keywords" content="PHP,PHP 모니터링,애플리케이션,애플리케이션 모니터링,Troubleshooting,문제 해결"><link data-rh="true" rel="icon" href="/whatap-docs/img/whatap-favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.whatap.io/whatap-docs/php/agent-troubleshooting"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/php/agent-troubleshooting" hreflang="ko-KR"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/en/php/agent-troubleshooting" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/ja/php/agent-troubleshooting" hreflang="ja-JP"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/php/agent-troubleshooting" hreflang="x-default"><script>!function(e,t,a,o,r){e=e[r]=e[r]||{config:{projectAccessKey:"x4t5020boh2ln-z6pi7d91ds6c1a-z7t4b2lrgnub4o",pcode:29856,sampleRate:100,sessionReplaySampleRate:100,ignorePageUrls:[/^.*localhost.*$/i,/^.*ngrok-free.app.*$/i,/^.*whatap.github.io.*$/i],collectUserClick:!0}},(r=t.createElement(a)).async=1,r.src=o,(o=t.getElementsByTagName(a)[0]).parentNode.insertBefore(r,o)}(window,document,"script","https://repo.whatap-browser-agent.io/rum/prod/v1/whatap-browser-agent.js","WhatapBrowserAgent")</script>
<script>let curLang=document.documentElement.lang.split("-")[0];CRISP_RUNTIME_CONFIG={locale:curLang},window.$crisp=[],window.CRISP_WEBSITE_ID="9a0c342f-a5b1-4c4a-a22f-92c7b4b9b477",d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)</script>


<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-KT747XQX",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<meta name="keywords" content="WhaTap, 와탭, 매뉴얼, 사용법, WhaTap 사용법, WhaTap 매뉴얼, 기술 문서, APM, 애플리케이션 모니터링, 로그 모니터링, 쿠버네티스 모니터링, 서버 모니터링, 데이터베이스 모니터링, URL 모니터링, 클라우드 모니터링, 브라우저 모니터링, Browser monitoring, Application Monitoring, Log Monitoring, Kubernetes Monitoring, Server Monitoring, Database Monitoring, URL Monitoring, Cloud Monitoring, Manual, User Guide, Docs, WhaTap Manual, WhaTap Docs, WhaTap Documents, 트랜잭션, Transaction, 트레이싱, Tracing, 마스터, Master, 노드, Node, 데드락, Deadlock, 락 트리, Lock tree, 멀티 트랜잭션, Multi Trancsaction, 메트릭스, Metrics, 소프트웨어 프록시, Software proxy, 스택, Stack, 슬로우 쿼리, Slow query, 액티브 트랜잭션, Active transaction, 컨테이너, Container, 히트맵, Hitmap, Garbage Collection, GC, MXQL, Method 추적, Trace method, OOM Killed 컨테이너, OOM Killed Container, Oracle, Tibero, PostgreSQL, MySQL, MongoDB, SQL Server, CUBRID, Altibase, Redis, WebLogic, WebSphere">
<meta name="description" content="WhaTap Docs 페이지입니다. 애플리케이션, 서버, 쿠버네티스, 데이터베이스, 브라우저 등 다양한 모니터링 솔루션의 사용법을 제공합니다.">
<meta name="naver-site-verification" content="0c21fc5664a467108fb762ade47a3f81ee9b88ed">
<meta name="google-site-verification" content="rIlfJkbbogFOIDc3DgJZmOGbUMJWytyvZSKEgV7EMsE"><link rel="stylesheet" href="/whatap-docs/assets/css/styles.5afef6a4.css">
<script src="/whatap-docs/assets/js/runtime~main.c57d938b.js" defer="defer"></script>
<script src="/whatap-docs/assets/js/main.c365b86d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>

<script async defer="defer" crossorigin="anonymous" src="https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&amp;version=v17.0&amp;appId=169051789422006&amp;autoLogAppEvents=1" nonce="y4U7YSrt"></script>
<div id="fb-root"></div>



<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KT747XQX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:none;color:#ffffff" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><div id="announce-banner"> Preview Docs</div></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/whatap-docs/"><div class="navbar__logo"><img src="/whatap-docs/img/whatap-docs-logo.svg" alt="WhaTap Docs" class="themedComponent_mlkZ themedComponent--light_NVdE" height="43px" width="154px"><img src="/whatap-docs/img/whatap-docs-logo.svg" alt="WhaTap Docs" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="43px" width="154px"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">상품</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/whatap-docs/java/introduction">Java</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/whatap-docs/php/introduction">PHP</a></li><li><a class="dropdown__link" href="/whatap-docs/nodejs/introduction">Node.js</a></li><li><a class="dropdown__link" href="/whatap-docs/python/introduction">Python</a></li><li><a class="dropdown__link" href="/whatap-docs/dotnet/introduction">.NET</a></li><li><a class="dropdown__link" href="/whatap-docs/golang/introduction">Go</a></li><li><a class="dropdown__link" href="/whatap-docs/server/introduction">Server</a></li><li><a class="dropdown__link" href="/whatap-docs/kubernetes/introduction">Kubernetes</a></li><li><a class="dropdown__link" href="/whatap-docs/postgresql/monitoring-intro">PostgreSQL</a></li><li><a class="dropdown__link" href="/whatap-docs/oracle/monitoring-intro">Oracle</a></li><li><a class="dropdown__link" href="/whatap-docs/oracle-pro/monitoring-intro">Oracle Pro</a></li><li><a class="dropdown__link" href="/whatap-docs/mysql/monitoring-intro">MySQL</a></li><li><a class="dropdown__link" href="/whatap-docs/mssql/monitoring-intro">SQL Server</a></li><li><a class="dropdown__link" href="/whatap-docs/tibero/monitoring-intro">Tibero</a></li><li><a class="dropdown__link" href="/whatap-docs/cubrid/monitoring-intro">CUBRID</a></li><li><a class="dropdown__link" href="/whatap-docs/altibase/monitoring-intro">Altibase</a></li><li><a class="dropdown__link" href="/whatap-docs/redis/monitoring-intro">Redis</a></li><li><a class="dropdown__link" href="/whatap-docs/mongodb/monitoring-intro">MongoDB</a></li><li><a class="dropdown__link" href="/whatap-docs/db2/monitoring-intro">IBM DB2</a></li><li><a class="dropdown__link" href="/whatap-docs/sapase/monitoring-intro">SAP ASE</a></li><li><a class="dropdown__link" href="/whatap-docs/url/url-intro">URL</a></li><li><a class="dropdown__link" href="/whatap-docs/browser">Browser</a></li><li><a class="dropdown__link" href="/whatap-docs/mobile/mobile-intro">Mobile</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/amazon-cloudwatch/install-agent">Amazon CloudWatch</a></li><li><a class="dropdown__link" href="/whatap-docs/amazon-ecs/introduction">Amazon ECS</a></li><li><a class="dropdown__link" href="/whatap-docs/aws-log/introduction">AWS Log</a></li><li><a class="dropdown__link" href="/whatap-docs/azure/install-agent">Azure Monitor</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/ncloud/install-agent">Naver Cloud Monitoring</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/oracle-cloud/install-agent">Oracle Cloud Monitor</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/npm/introduction">Network Performance Monitoring</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/nms/introduction">Network Management System</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/features/introduction">Feature Project</a></li><li><a class="dropdown__link" href="/whatap-docs/log/introduction">Log</a></li><li><a class="dropdown__link" href="/whatap-docs/extensions">Extensions</a></li><li><a class="dropdown__link" href="/whatap-docs/openmetrics/introduction">OpenMetrics</a></li></ul></div><a class="navbar__item navbar__link hidden" href="/whatap-docs/java/introduction">Java 모니터링</a><a aria-current="page" class="navbar__item navbar__link hidden navbar__link--active" href="/whatap-docs/php/introduction">PHP 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/nodejs/introduction">Node.js 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/python/introduction">Python 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/dotnet/introduction">.NET 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/golang/introduction">Go 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/server/introduction">Server 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/kubernetes/introduction">Kubernetes 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/postgresql/monitoring-intro">PostgreSQL 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/oracle/monitoring-intro">Oracle V2 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/oracle-pro/monitoring-intro">Oracle Pro 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mysql/monitoring-intro">MySQL 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mssql/monitoring-intro">SQL Server V2 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/tibero/monitoring-intro">Tibero 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/cubrid/monitoring-intro">CUBRID V2 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/altibase/monitoring-intro">Altibase V2 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/redis/monitoring-intro">Redis 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mongodb/monitoring-intro">MongoDB 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/db2/monitoring-intro">IBM DB2 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/sapase/monitoring-intro">SAP ASE 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/url/url-intro">URL 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/amazon-cloudwatch/install-agent">Amazon CloudWatch</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/amazon-ecs/introduction">Amazon ECS</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/aws-log/introduction">AWS Log</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/azure/install-agent">Azure Monitor</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/ncloud/install-agent">Naver Cloud Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/oracle-cloud/install-agent">Oracle Cloud Monitor</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/log/introduction">Log 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/browser">Browser</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mobile/mobile-intro">Mobile 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/npm/introduction">NPM</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/extensions">확장 도구</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/opentelemetry/introduction">OpenTelemetry</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/openmetrics/introduction">OpenMetrics</a><a class="navbar__item navbar__link" href="/whatap-docs/manage">관리 기능</a><a class="navbar__item navbar__link" href="/whatap-docs/openapi-spec">Open API</a><a class="navbar__item navbar__link" href="/whatap-docs/faq/">FAQ</a><a class="navbar__item navbar__link iflang-link" href="/whatap-docs/learning-guides">Learning</a><a class="navbar__item navbar__link" href="/whatap-docs/release-notes">Release Notes</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link oneColumn localeDropdown"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_DSK9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span class="langLabel_L4uU">KOR</span></a><ul class="dropdown__menu"><li><a href="/whatap-docs/php/agent-troubleshooting" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ko-KR">KOR</a></li><li><a href="/whatap-docs/en/php/agent-troubleshooting" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">ENG</a></li><li><a href="/whatap-docs/ja/php/agent-troubleshooting" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja-JP">JPN</a></li></ul></div><div class="navbarSearchContainer_dCNk"><div id="docsearch"></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 system mode)"><svg viewBox="0 0 24 24" width="24" height="24" fill="none" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M10.9901 0H13.0099V4.06189C15.2205 4.33486 17.1538 5.49222 18.4373 7.16513L21.9901 5.13397L23 6.86603L19.4486 8.89635C19.8546 9.8507 20.0791 10.8994 20.0791 12C20.0791 13.1006 19.8546 14.1493 19.4486 15.1036L23 17.134L21.9901 18.866L18.4373 16.8349C17.1538 18.5078 15.2205 19.6651 13.0099 19.9381V24H10.9901V19.9381C8.77946 19.6651 6.84617 18.5078 5.56273 16.8349L2.00989 18.866L1 17.134L4.5514 15.1036C4.14535 14.1493 3.9209 13.1006 3.9209 12C3.9209 10.8994 4.14535 9.8507 4.5514 8.89635L1 6.86603L2.00989 5.13397L5.56273 7.16513C6.84617 5.49222 8.77946 4.33486 10.9901 4.06189V0ZM5.94068 12C5.94068 8.68629 8.65353 6 12 6C15.3465 6 18.0593 8.68629 18.0593 12C18.0593 15.3137 15.3465 18 12 18C8.65353 18 5.94068 15.3137 5.94068 12Z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M5.05011 4.409C6.46482 2.9943 8.14585 2.02264 9.90788 1.5C8.84446 5.08024 9.63565 8.99454 12.3303 11.6892C15.025 14.3839 18.9393 15.1751 22.5191 14.1129C21.9969 15.8737 21.0253 17.5548 19.6106 18.9695C15.322 23.2581 8.58587 23.4752 4.56511 19.4545C0.544352 15.4337 0.761495 8.69762 5.05011 4.409ZM7.26586 5.19608C6.97785 5.42391 6.70099 5.67022 6.43684 5.93437C2.99054 9.38066 2.80435 14.782 6.02096 17.9986C9.23756 21.2152 14.6389 21.029 18.0852 17.5827C18.4373 17.2307 18.7577 16.856 19.0448 16.4625C15.9881 16.4646 13.0552 15.3261 10.8743 13.1452C8.77411 11.045 7.6407 8.24751 7.56194 5.31354L7.55754 4.97444L7.26586 5.19608ZM17.3387 2.30478H19.3979V4.36394H21.4571V6.4231H19.3979V8.48226H17.3387V6.4231H15.2795V4.36394H17.3387V2.30478Z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_mhZE"><div class="hold-menu"><ul><li><a href="/" class="home">WhaTap Docs</a></li><li><a href="https://www.whatap.io" target="_blank" rel="noopener noreferrer" class="ext">와탭 홈페이지 바로가기</a></li></ul></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP menuWithAnnouncementBar_fPny"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/whatap-docs/php/introduction">PHP 모니터링</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/supported-spec">지원 환경</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/install-agent">에이전트 설치</a><button aria-label="Expand sidebar category &#x27;에이전트 설치&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/install-check">설치 점검</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/whatap-docs/php/agent-troubleshooting">설치 문제 해결</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/set-agent">설정하기</a><button aria-label="Expand sidebar category &#x27;설정하기&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/whatap-docs/php/agent-update">관리하기</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/dashboard-intro">대시보드</a><button aria-label="Expand sidebar category &#x27;대시보드&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/analysis-report-intro">분석</a><button aria-label="Expand sidebar category &#x27;분석&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/metrics-intro">메트릭스</a><button aria-label="Expand sidebar category &#x27;메트릭스&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/track-transactions-intro">트랜잭션</a><button aria-label="Expand sidebar category &#x27;트랜잭션&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/topology">토폴로지</a><button aria-label="Expand sidebar category &#x27;토폴로지&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item newfunc"><a class="menu__link" tabindex="0" href="/whatap-docs/php/topology-application">애플리케이션 토폴로지</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/analysis-apm-trs">통계</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/report-intro">보고서</a><button aria-label="Expand sidebar category &#x27;보고서&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/apm-set-notice">경고 알림</a><button aria-label="Expand sidebar category &#x27;경고 알림&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/instance-performance-analysis">인스턴스 성능 관리</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/linked-projects">연계 프로젝트 관리</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/log/introduction">Log 모니터링</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/labs">실험실</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/whatap-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item item-1"><a class="breadcrumbs__link" itemprop="item" href="/whatap-docs/php/introduction"><span itemprop="name">PHP 모니터링</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active item-2"><span class="breadcrumbs__link" itemprop="name">설치 문제 해결</span><meta itemprop="position" content="2"></li></ul><div class="breadcrumbs-hidden"><span itemprop="name">PHP 모니터링<cite>&gt;</cite></span><span itemprop="name">설치 문제 해결</span></div></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_XdKt"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>설치 및 설정 오류 해결</h1></header><p>WhaTap PHP 설치 및 설정 오류를 진단하고 해결하는 방법을 안내합니다.</p>
<section class="remark-sectionize-h2"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="linuxfreebsd">Linux/FreeBSD<a href="#linuxfreebsd" class="hash-link" aria-label="Linux/FreeBSD에 대한 직접 링크" title="Linux/FreeBSD에 대한 직접 링크">​</a></h2><section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="extension-modul-manual-setting">PHP 확장 모듈 및 whatap-php 서비스 수동 설정<a href="#extension-modul-manual-setting" class="hash-link" aria-label="PHP 확장 모듈 및 whatap-php 서비스 수동 설정에 대한 직접 링크" title="PHP 확장 모듈 및 whatap-php 서비스 수동 설정에 대한 직접 링크">​</a></h3><p>PHP 확장 모듈과 whatap-php 서비스 설치 및 선택 설치(<em>install.sh</em>)가 정상적으로 이루어지지 않을 경우 수동으로 설정하는 방법을 설명합니다. PHP 컴파일 설치 등의 이유로 환경 정보를 확인할 수 없는 경우 사용하세요.</p></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="whatapini-생성">whatap.ini 생성<a href="#whatapini-생성" class="hash-link" aria-label="whatap.ini 생성에 대한 직접 링크" title="whatap.ini 생성에 대한 직접 링크">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> /usr/whatap/php/template.ini /usr/whatap/php/whatap.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> /usr/whatap/php/whatap.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 상단에 내용 추가</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> Enable whatap extension module</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">extension</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">whatap.so</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.license</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 발급된 액세스 키</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.server.host</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 발급된 서버 IP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.app_name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">           </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 웹서버 구분 APHP, FPHP (apache : APHP, php-fpm : FPHP)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.app_process_name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># apache, php-fpm 의 프로세스 이름(httpd,php-fpm)</span><br></span></code></pre></div></div><table><thead><tr><th>설정</th><th>설명</th></tr></thead><tbody><tr><td>whatap.license</td><td><strong>프로젝트 메뉴</strong> &gt; <strong>관리</strong> &gt; <strong>에이전트 설치</strong> 페이지에서 발급된 액세스 키를 확인할 수 있습니다.</td></tr><tr><td>whatap.server.host</td><td><strong>프로젝트 메뉴</strong> &gt; <strong>관리</strong> &gt; <strong>에이전트 설치</strong> 페이지에서 발급된 서버 IP를 확인할 수 있습니다.</td></tr><tr><td>whatap.app_name</td><td>Apache 서버는 <code>APHP</code>, php-fpm 은 <code>FPHP</code>를 사용합니다.</td></tr><tr><td>whatap.app_process_name</td><td>Apache 또는 php-fpm 의 실행 프로세스 이름 설정으로 정확한 프로세스명 입력하면, 해당 프로세스에 대한 사용 메모리를 수집합니다. 예시로 <code>httpd</code>, <code>apache2</code>, <code>php-fpm</code> 등을 들 수 있습니다.</td></tr></tbody></table></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-php-cli-path">PHP 명령어(CLI) 경로 확인<a href="#check-php-cli-path" class="hash-link" aria-label="PHP 명령어(CLI) 경로 확인에 대한 직접 링크" title="PHP 명령어(CLI) 경로 확인에 대한 직접 링크">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">which</span><span class="token plain"> php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/usr/bin/php</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="whatap-php-서비스-환경-변수-설정">whatap-php 서비스 환경 변수 설정<a href="#whatap-php-서비스-환경-변수-설정" class="hash-link" aria-label="whatap-php 서비스 환경 변수 설정에 대한 직접 링크" title="whatap-php 서비스 환경 변수 설정에 대한 직접 링크">​</a></h4><p><code>$WHATAP_PHP_BIN</code> 환경 변수에 PHP CLI 명령어의 경로를 설정하세요.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> /etc/init.d/whatap-php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">WHATAP_PHP_BIN</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># PHP 명령어 위치(/usr/bin/php)</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="php-api-버전-확인">PHP API 버전 확인<a href="#php-api-버전-확인" class="hash-link" aria-label="PHP API 버전 확인에 대한 직접 링크" title="PHP API 버전 확인에 대한 직접 링크">​</a></h4><p><code>$WHATAP_PHP_BIN</code> 환경 변수에 PHP CLI 명령어의 경로를 설정하세요.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PHP API&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PHP API </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20100412</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="php-ztszend-thread-safe-지원-여부-확인">PHP ZTS(Zend Thread Safe) 지원 여부 확인<a href="#php-ztszend-thread-safe-지원-여부-확인" class="hash-link" aria-label="PHP ZTS(Zend Thread Safe) 지원 여부 확인에 대한 직접 링크" title="PHP ZTS(Zend Thread Safe) 지원 여부 확인에 대한 직접 링크">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> apachectl </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-V</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> MPM</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Server MPM: Prefork      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ZTS 지원 안함</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Server MPM: Worker       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ZTS 지원</span><br></span></code></pre></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php-fpm </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> Thread</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Thread Safety </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> disabled       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ZTS 지원 안함</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Thread Safety </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> enabled       	</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ZTS 지원</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="php-확장-모듈-경로-확인-및-설정">PHP 확장 모듈 경로 확인 및 설정<a href="#php-확장-모듈-경로-확인-및-설정" class="hash-link" aria-label="PHP 확장 모듈 경로 확인 및 설정에 대한 직접 링크" title="PHP 확장 모듈 경로 확인 및 설정에 대한 직접 링크">​</a></h4></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="check-php-extension-module">PHP 확장 모듈 경로 확인<a href="#check-php-extension-module" class="hash-link" aria-label="PHP 확장 모듈 경로 확인에 대한 직접 링크" title="PHP 확장 모듈 경로 확인에 대한 직접 링크">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> extension_dir</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">extension_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /usr/lib64/php/modules </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /usr/lib64/php/modules</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="php-확장-모듈-설정">PHP 확장 모듈 설정<a href="#php-확장-모듈-설정" class="hash-link" aria-label="PHP 확장 모듈 설정에 대한 직접 링크" title="PHP 확장 모듈 설정에 대한 직접 링크">​</a></h5><p>PHP API 버전, PHP ZTS 지원 여부를 확인하여 환경에 적합한 라이브러리를 선택하세요. PHP 확장 모듈(PHP Extension module) 경로에 <em>whatap.so</em> 파일명을 복사하세요.</p><ul>
<li>
<p>PHP ZTS를 지원할 경우 - <em>whatap_zts_[PHP API 버전].so</em></p>
</li>
<li>
<p>PHP ZTS를 지원하지 않을 경우 - <em>whatap_[PHP API 버전].so</em></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># PHP ZTS 지원하지 않을 경우 예시</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> /usr/whatap/php/modules/x64/whatap_20100412.so /usr/lib64/php/modules/whatap.so</span><br></span></code></pre></div></div>
</li>
</ul></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="whatap-php-서비스-환경-변수-설정-1">whatap-php 서비스 환경 변수 설정<a href="#whatap-php-서비스-환경-변수-설정-1" class="hash-link" aria-label="whatap-php 서비스 환경 변수 설정에 대한 직접 링크" title="whatap-php 서비스 환경 변수 설정에 대한 직접 링크">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> /etc/init.d/whatap-php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">WHATAP_PHP_EXT_HOME</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># PHP Extension 경로(/usr/lib64/php/modules)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">WHATAP_PHP_EXT_SRC</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 와탭 라이브러리 경로 및 파일명</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                              </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># (/usr/whatap/php/modules/x64/whatap_20100412.so)]</span><br></span></code></pre></div></div><ol>
<li><code>$WHATAP_PHP_EXT_HOME</code> 환경변수에 PHP 확장 모듈 경로를 설정하세요.</li>
<li><code>$WHATAP_PHP_EXT_SRC</code> 환경변수에 와탭 라이브  러리 전체 파일 경로를 설정하세요.</li>
</ol></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="php-ini-path">whatap.ini 설정<a href="#php-ini-path" class="hash-link" aria-label="whatap.ini 설정에 대한 직접 링크" title="whatap.ini 설정에 대한 직접 링크">​</a></h4><ol>
<li>
<p>PHP 추가 ini 설정 경로를 확인하세요.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.ini files&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scan this </span><span class="token function" style="color:rgb(130, 170, 255)">dir</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> additional .ini files </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /etc/php.d</span><br></span></code></pre></div></div>
</li>
<li>
<p><em>whatap.ini</em>를 해당 경로에 복사하세요.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> /usr/whatap/php/whatap.ini /etc/php.d/whtap/ini</span><br></span></code></pre></div></div>
</li>
</ol></section></section>
<section class="remark-sectionize-h2"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Windows에 대한 직접 링크" title="Windows에 대한 직접 링크">​</a></h2></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="php-확장-모듈-및-whatap-php-서비스-수동-설정">PHP 확장 모듈 및 WhaTap PHP 서비스 수동 설정<a href="#php-확장-모듈-및-whatap-php-서비스-수동-설정" class="hash-link" aria-label="PHP 확장 모듈 및 WhaTap PHP 서비스 수동 설정에 대한 직접 링크" title="PHP 확장 모듈 및 WhaTap PHP 서비스 수동 설정에 대한 직접 링크">​</a></h3><p>PHP 확장 모듈이나 whatap-php 서비스 설치 및 선택 설치(<em>install.sh</em>)가 정상적 설치되지 않은 경우, 수동 설정 방법을 안내합니다.</p></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="php-환경-정보-확인">PHP 환경 정보 확인<a href="#php-환경-정보-확인" class="hash-link" aria-label="PHP 환경 정보 확인에 대한 직접 링크" title="PHP 환경 정보 확인에 대한 직 접 링크">​</a></h4><p>PHP 환경 정보를 확인합니다.</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM PHP API 버전 확인</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr &quot;PHP API&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Thread Safety 확인</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr &quot;Thread Safety&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Extension 디렉토리 확인</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr extension_dir</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM PHP 설정 파일 위치 확인</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php --ini</span><br></span></code></pre></div></div><ul>
<li><strong>예시</strong></li>
</ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">PHP API =&gt; 20230831</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Thread Safety =&gt; disabled</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">extension_dir =&gt; C:\PHP\ext</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Configuration File (php.ini) Path: C:\Windows</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Loaded Configuration File:         C:\PHP\php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scan for additional .ini files in: C:\PHP\conf.d</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Additional .ini files parsed:      (none)</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="php_whatapdll-복사">php_whatap.dll 복사<a href="#php_whatapdll-복사" class="hash-link" aria-label="php_whatap.dll 복사에 대한 직접 링크" title="php_whatap.dll 복사에 대한 직접 링크">​</a></h4><p>확인한 extension_dir 경로에 적절한 DLL을 복사합니다.</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 위에서 확인한 extension_dir 사용</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 예: extension_dir =&gt; C:\PHP\ext</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Non-ZTS 버전</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy &quot;C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_[API_VERSION].dll&quot; &quot;C:\PHP\ext\php_whatap.dll&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM ZTS 버전</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy &quot;C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_zts_[API_VERSION].dll&quot; &quot;C:\PHP\ext\php_whatap.dll&quot;</span><br></span></code></pre></div></div><ul>
<li><strong>예시</strong></li>
</ul><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM PHP 8.3 (API 20230831) NTS, extension_dir = C:\PHP\ext</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy &quot;C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_20230831.dll&quot; &quot;C:\PHP\ext\php_whatap.dll&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM PHP 8.3 (API 20230831) ZTS, extension_dir = C:\Program Files\PHP\v8.3\ext</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy &quot;C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_zts_20230831.dll&quot; &quot;C:\Program Files\PHP\v8.3\ext\php_whatap.dll&quot;</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="whatapini-생성-또는-phpini-수정">whatap.ini 생성 또는 php.ini 수정<a href="#whatapini-생성-또는-phpini-수정" class="hash-link" aria-label="whatap.ini 생성 또는 php.ini 수정에 대한 직접 링크" title="whatap.ini 생성 또는 php.ini 수정에 대한 직접 링크">​</a></h4></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="scan-directory가-있는-경우">Scan Directory가 있는 경우<a href="#scan-directory가-있는-경우" class="hash-link" aria-label="Scan Directory가 있는 경우에 대한 직접 링크" title="Scan Directory가 있는 경우에 대한 직접 링크">​</a></h5><p><code>php --ini</code>에서 확인한 Scan Directory에 whatap.ini 파일을 생성합니다.</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 예: Scan for additional .ini files in: C:\PHP\conf.d</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">notepad &quot;C:\PHP\conf.d\whatap.ini&quot;</span><br></span></code></pre></div></div><ul>
<li><strong>whatap.ini</strong></li>
</ul><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key attr-name" style="color:rgb(255, 203, 107)">extension</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">php_whatap.dll</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="scan-directory가-없는-경우">Scan Directory가 없는 경우<a href="#scan-directory가-없는-경우" class="hash-link" aria-label="Scan Directory가 없는 경우에 대한 직접 링크" title="Scan Directory가 없는 경우에 대한 직접 링크">​</a></h5><p><code>php --ini</code>에서 확인한 php.ini 파일에 직접 추가합니다.</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 예: Loaded Configuration File: C:\PHP\php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">notepad &quot;C:\PHP\php.ini&quot;</span><br></span></code></pre></div></div><ul>
<li><strong>php.ini에 추가할 내용</strong></li>
</ul><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token section punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token section section-name selector" style="color:rgb(199, 146, 234)">whatap</span><span class="token section punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">extension</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">php_whatap.dll</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="whatapini-설정">whatap.ini 설정<a href="#whatapini-설정" class="hash-link" aria-label="whatap.ini 설정에 대한 직접 링크" title="whatap.ini 설정에 대한 직접 링크">​</a></h4><p><em>C:\Program Files\WhaTap\PHP\whatap.ini</em> 파일을 편집합니다.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key attr-name" style="color:rgb(255, 203, 107)">whatap.license</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">your_access_key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">whatap.server.host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">13.124.11.223</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">whatap.app_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">APHP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">whatap.app_process_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">httpd.exe</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="환경-변수-설정">환경 변수 설정<a href="#환경-변수-설정" class="hash-link" aria-label="환경 변수 설정에 대한 직접 링크" title="환경 변수 설정에 대한 직접 링크">​</a></h4><p>WhaTap PHP 에이전트가 사용하는 환경 변수를 설정합니다.</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 필수: WhaTap PHP 설치 디렉토리</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">setx WHATAP_PHP_HOME &quot;C:\Program Files\WhaTap\PHP&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 필수: whatap.ini 파일 이름 또는 경로</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">setx WHATAP_PHP_CONFIG &quot;whatap.ini&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 선택: 라이센스 키 (whatap.ini 대신 환경 변수로 지정 가능)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM setx WHATAP_LICENSE &quot;your_access_key&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 선택: 수집 서버 주소 (whatap.ini 대신 환경 변수로 지정 가능)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM setx WHATAP_SERVER_HOST &quot;13.124.11.223&quot;</span><br></span></code></pre></div></div><ul>
<li><strong>설치 프로그램이 자동으로 설정하는 환경 변수</strong></li>
</ul><table><thead><tr><th>환경 변수</th><th>설명</th><th>설정 시점</th><th>기본값</th></tr></thead><tbody><tr><td><code>WHATAP_PHP_HOME</code></td><td>WhaTap PHP 설치 디렉토리</td><td>항상</td><td><code>C:\Program Files\WhaTap\PHP</code></td></tr><tr><td><code>WHATAP_PHP_CONFIG_HOME</code></td><td>whatap.ini 파일이 위치한 디렉토리</td><td>항상</td><td><code>C:\Program Files\WhaTap\PHP</code></td></tr><tr><td><code>WHATAP_PHP_CONFIG</code></td><td>whatap.ini 파일 이름</td><td>항상</td><td><code>whatap.ini</code></td></tr><tr><td><code>WHATAP_DATETIME_MODE</code></td><td>시간 모드 (Windows 전용)</td><td>항상</td><td><code>WINDOWS</code></td></tr><tr><td><code>WHATAP_PHP_BIN</code></td><td>php.exe 전체 경로</td><td>PHP 감지 시</td><td>(감지된 경로)</td></tr><tr><td><code>WHATAP_PHP_DIR</code></td><td>PHP 설치 디렉토리</td><td>PHP 감지 시</td><td>(감지된 경로)</td></tr><tr><td><code>WHATAP_PHP_API_VERSION</code></td><td>PHP API 버전 (예: 20230831)</td><td>PHP 감지 시</td><td>(감지된 버전)</td></tr><tr><td><code>WHATAP_PHP_EXTENSION_DIR</code></td><td>PHP extension 디렉토리</td><td>PHP 감지 시</td><td>(감지된 경로)</td></tr><tr><td><code>WHATAP_PHP_INI_FILE</code></td><td>php.ini 파일 전체 경로</td><td>PHP 감지 시</td><td>(감지된 경로)</td></tr><tr><td><code>WHATAP_PHP_THREAD_SAFETY</code></td><td>Thread Safety (enabled/disabled)</td><td>PHP 감지 시</td><td>(감지된 값)</td></tr></tbody></table><ul>
<li><strong>사용자가 선택적으로 설정 가능한 환경 변수(whatap.ini 대신 사용)</strong></li>
</ul><table><thead><tr><th>환경 변수</th><th>설명</th><th>우선순위</th><th>기본값</th></tr></thead><tbody><tr><td><code>WHATAP_LICENSE</code></td><td>라이센스 키</td><td>환경변수 &gt; whatap.ini</td><td>-</td></tr><tr><td><code>WHATAP_SERVER_HOST</code></td><td>수집 서버 주소</td><td>환경변수 &gt; whatap.ini</td><td>-</td></tr></tbody></table><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>노트</div><div class="admonitionContent_BuS1"><p><strong>참고</strong></p><ul>
<li>
<p><code>setx</code> 명령은 영구적으로 환경 변수를 설정합니다. (재부팅 후에도 유지)</p>
</li>
<li>
<p>설정 후 새로운 명령 프롬프트나 서비스 재시작 필요</p>
</li>
<li>
<p>시스템 전체 환경 변수로 설정하려면 관리자 권한으로 실행 후 <code>/M</code> 옵션 사용</p>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">setx WHATAP_PHP_HOME &quot;C:\Program Files\WhaTap\PHP&quot; /M</span><br></span></code></pre></div></div>
</li>
</ul></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="서비스-등록-및-시작">서비스 등록 및 시작<a href="#서비스-등록-및-시작" class="hash-link" aria-label="서비스 등록 및 시작에 대한 직접 링크" title="서비스 등록 및 시작에 대한 직접 링크">​</a></h4><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 서비스 등록</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sc create &quot;WhaTap PHP&quot; binPath=&quot;C:\Program Files\WhaTap\PHP\whatap_php.exe&quot; start=auto</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 서비스 시작</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">net start &quot;WhaTap PHP&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 웹 서버 재시작</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">net stop Apache2.4 &amp;&amp; net start Apache2.4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 또는</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">iisreset</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h2"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="운영-환경-점검">운영 환경 점검<a href="#운영-환경-점검" class="hash-link" aria-label="운영 환경 점검에 대한 직접 링크" title="운영 환경 점검에 대한 직접 링크">​</a></h2></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="php-환경-정보-수집">PHP 환경 정보 수집<a href="#php-환경-정보-수집" class="hash-link" aria-label="PHP 환경 정보 수집에 대한 직접 링크" title="PHP 환경 정보 수집에 대한 직접 링크">​</a></h3><ul>
<li><strong>Windows</strong></li>
</ul><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Windows</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -v &gt; php_version.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i &gt; phpinfo.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -m &gt; modules.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php --ini &gt; ini.txt</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="네트워크-연결-테스트">네트워크 연결 테스트<a href="#네트워크-연결-테스트" class="hash-link" aria-label="네트워크 연결 테스트에 대한 직접 링크" title="네트워크 연결 테스트에 대한 직접 링크">​</a></h3><ul>
<li><strong>Windows</strong></li>
</ul><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Windows PowerShell</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">Test-NetConnection</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">ComputerName 13</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">124</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">11</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">223 </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">Port 6600</span><br></span></code></pre></div></div><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Windows CMD</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">telnet 13.124.11.223 6600</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tracert 13.124.11.223</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="프로세스-상태-확인">프로세스 상태 확인<a href="#프로세스-상태-확인" class="hash-link" aria-label="프로세스 상태 확인에 대한 직접 링크" title="프로세스 상태 확인에 대한 직접 링크">​</a></h3><ul>
<li><strong>Windows</strong></li>
</ul><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Windows</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tasklist | findstr whatap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tasklist | findstr php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">netstat -ano | findstr 6600</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h2"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="추가-문제-해결">추가 문제 해결<a href="#추가-문제-해결" class="hash-link" aria-label="추가 문제 해결에 대한 직접 링크" title="추가 문제 해결에 대한 직접 링크">​</a></h2><section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="php-추가-ini-설정-경로-확인-불가">PHP 추가 ini 설정 경로 확인 불가<a href="#php-추가-ini-설정-경로-확인-불가" class="hash-link" aria-label="PHP 추가 ini 설정 경  로 확인 불가에 대한 직접 링크" title="PHP 추가 ini 설정 경로 확인 불가에 대한 직접 링크">​</a></h3><p>PHP 컴파일(Compile) 설치 옵션 <code>--with-config-file-scan-dir=PATH</code>이 설정되지 않은 경우, 누락되면 추가 ini 경로를 인식하지 못하는 문제가 발생합니다.</p></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="확인하기">확인하기<a href="#확인하기" class="hash-link" aria-label="확인하기에 대한 직접 링크" title="확인하기에 대한 직접 링크">​</a></h4><ul>
<li><strong>Linux/FreeBSD</strong></li>
</ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.ini files&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scan this </span><span class="token function" style="color:rgb(130, 170, 255)">dir</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> additional .ini files </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">none</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div><ul>
<li><strong>Windows</strong></li>
</ul><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">php --ini</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="해결하기">해결하기<a href="#해결하기" class="hash-link" aria-label="해결하기에 대한 직접 링크" title="해결하기에 대한 직접 링크">​</a></h4><p><em>whatap.ini</em> 파일 내용을 <em>php.ini</em> 마지막에 추가하세요.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="linux">Linux<a href="#linux" class="hash-link" aria-label="Linux에 대한 직접 링크" title="Linux에 대한 직접 링크">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;php.ini&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Loaded Configuration File </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /etc/php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 파일 마지막에 추가</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">whatap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">Enable whatap extension module</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">extension</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">whatap.so</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.ext.error_enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.ext.exception_enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.trace_user_enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.trace_user_using_ip</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">false</span><br></span></code></pre></div></div><p>이외 옵션은 <em>/usr/whatap/php/whatap.ini</em> 를 사용하세요.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Windows에 대한 직접 링크" title="Windows에 대한 직접 링크">​</a></h5><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM whatap.ini 내용을 php.ini에 추가</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">type &quot;C:\Program Files\WhaTap\PHP\template.ini&quot; &gt;&gt; C:\PHP\php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 또는 직접 편집</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">notepad C:\PHP\php.ini</span><br></span></code></pre></div></div><ul>
<li><strong>php.ini에 추가할 내용(Windows 기준)</strong></li>
</ul><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token section punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token section section-name selector" style="color:rgb(199, 146, 234)">whatap</span><span class="token section punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">extension</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">php_whatap.dll</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># whatap.ini 설정은 C:\Program Files\WhaTap\PHP\whatap.ini 참조</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="whatap-php-서비스service-환경-변수-설정">whatap-php 서비스(Service) 환경 변수 설정<a href="#whatap-php-서비스service-환경-변수-설정" class="hash-link" aria-label="whatap-php 서비스(Service) 환경 변수 설정에 대한 직접 링크" title="whatap-php 서비스(Service) 환경 변수 설정에 대한 직접 링크">​</a></h4><p><code>$WHATAP_CONFIG_HOME</code> 환경변수에 <em>whatap.ini</em> 경로를 설정하세요.</p><p>PHP 추가 ini 경로를 확인 할 수 없는 경우 <em>whatap.ini</em>를 생성한 <em>/usr/whatap/php</em> 경로를 설정하세요.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> /etc/init.d/whatap-php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">WHATAP_CONFIG_HOME</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># whatap.ini 경로(/etc/php.d)</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="서비스-재시작">서비스 재시작<a href="#서비스-재시작" class="hash-link" aria-label="서비스 재시작에 대한 직접 링크" title="서비스 재시작에 대한 직접 링크">​</a></h4><ul>
<li>
<p>Apache 및 PHP-FPM 서비스 재시작</p>
</li>
<li>
<p>whatap-php 서비스 재시작</p>
</li>
</ul></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="error-not-found-php-api">Error: Not found PHP API<a href="#error-not-found-php-api" class="hash-link" aria-label="Error: Not found PHP API에 대한 직접 링크" title="Error: Not found PHP API에 대한 직접 링크">​</a></h4><p>PHP 명령어(CLI)를 찾지 못하는 경우 발생합니다.</p><p><a href="#check-php-cli-path">PHP 명령어(CLI)의 위치</a>를 정확히 확인하고 <a href="#extension-modul-manual-setting">PHP 확장 모듈 및 whatap-php 서비스 선택 설치</a> 항목을 진행하세요.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="linux-1">Linux<a href="#linux-1" class="hash-link" aria-label="Linux에 대한 직접 링크" title="Linux에 대한 직접 링크">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_OeMC">Check PHP API version</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PHP API&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PHP API </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20100412</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="windows-1">Windows<a href="#windows-1" class="hash-link" aria-label="Windows에 대한 직접 링크" title="Windows에 대한 직접 링크">​</a></h5><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM PHP 경로 확인</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">where php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 환경 변수 PATH에 PHP 경로 추가</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">setx PATH &quot;%PATH%;C:\PHP&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 또는 시스템 환경 변수에서 직접 추가</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sysdm.cpl → 고급 → 환경 변수 → PATH 편집</span><br></span></code></pre></div></div></section><section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="php-ini-디렉토리를-찾을-수-없음">PHP ini 디렉토리를 찾을 수 없음<a href="#php-ini-디렉토리를-찾을-수-없음" class="hash-link" aria-label="PHP ini 디렉토리를 찾을 수 없음에 대한 직접 링크" title="PHP ini 디렉토리를 찾을 수 없음에 대한 직접 링크">​</a></h3><blockquote>
<p>Error: Not found PHP ini directory</p>
</blockquote><p>PHP 환경 중 <code>Scan this dir for additional .ini files</code> 항목의 값을 확인하지 못한 경우 발생합니다. PHP 컴파일 설치 옵션 <code>--with-config-file-scan-dir=PATH</code>이 설정되지 않으면 해당 환경 정보가 출력되지 않습니다.</p><p><a href="#check-php-cli-path">PHP 명령어(CLI)의 위치</a>를 정확히 확인하고 <a href="#extension-modul-manual-setting">PHP 확장 모듈 및 whatap-php 서비스 선택 설치</a> 항목을 진행하세요.</p></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="확인하기">확인하기<a href="#확인하기" class="hash-link" aria-label="확인하기에 대한 직접 링크" title="확인하기에 대한 직접 링크">​</a></h4><p>아래 명령어를 통해 PHP가 추가 ini 디렉토리를 인식하고 있는지 확인합니다.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="linuxfreebsd">Linux/FreeBSD<a href="#linuxfreebsd" class="hash-link" aria-label="Linux/FreeBSD에 대한 직접 링크" title="Linux/FreeBSD에 대한 직접 링크">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.ini files&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scan this </span><span class="token function" style="color:rgb(130, 170, 255)">dir</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> additional .ini files </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">none</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Windows에 대한 직접 링크" title="Windows에 대한 직접 링크">​</a></h5><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">php --ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Configuration File (php.ini) Path: /etc/php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Loaded Configuration File:         /etc/php/php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scan for additional .ini files in: (none)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Additional .ini files parsed:      (none)</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="해결하기">해결하기<a href="#해결하기" class="hash-link" aria-label="해결하기에 대한 직접 링크" title="해결하기에 대한 직접 링크">​</a></h4><p>추가 ini 디렉토리가 설정되지 않은 경우, <em>whatap.ini</em> 내용을 <em>php.ini</em>에 직접 병합하여 설정을 적용할 수 있습니다.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="windows-1">Windows<a href="#windows-1" class="hash-link" aria-label="Windows에 대한 직접 링크" title="Windows에 대한 직접 링크">​</a></h5><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM whatap.ini 내용을 php.ini에 추가</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">type &quot;C:\Program Files\WhaTap\PHP\template.ini&quot; &gt;&gt; C:\PHP\php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 또는 직접 편집</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">notepad C:\PHP\php.ini</span><br></span></code></pre></div></div><p><strong>php.ini에 추가할 내용</strong></p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token section punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token section section-name selector" style="color:rgb(199, 146, 234)">whatap</span><span class="token section punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">extension</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">php_whatap.dll</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">; whatap.ini 설정은 C:\Program Files\WhaTap\PHP\whatap.ini 참조</span><br></span></code></pre></div></div></section><section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="응답-시간-분포도에-트랜잭션이-표시되지-않음">응답 시간 분포도에 트랜잭션이 표시되지 않음<a href="#응답-시간-분포도에-트랜잭션이-표시되지-않음" class="hash-link" aria-label="응답 시간 분포도에 트랜잭션이 표시되지 않음에 대한 직접 링크" title="응답 시간 분포도에 트랜잭션이 표시되지 않음에 대한 직접 링크">​</a></h3><p>CPU와 Memory 그래프를 볼 수 있지만 응답 시간 분포도 즉 히트맵을 볼 수 없는 현상은 다음과 같은 경우에 발생합니다.</p><ul>
<li>에이전트가 수집 서버와 정상적으로 연결되었으나 트레이서가 정상적으로 PHP 확장 모듈에 적용되지 않은 경우</li>
<li>설정 후 Apache 및 PHP-FPM 서비스를 재시작하지 않은 경우</li>
</ul><ol>
<li>
<p>PHP 모듈 로드를 확인하세요.</p>
<ul>
<li><strong>Linux/FreeBSD</strong></li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-m</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">PHP Modules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bz2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">calendar</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Core</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ctype</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">…</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">whatap               </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 와탭 모듈 로드 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">…</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Zend Modules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre></div></div>
<ul>
<li><strong>Windows</strong></li>
</ul>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -m | findstr whatap</span><br></span></code></pre></div></div>
<ul>
<li><strong>예시. 정상 출력</strong></li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">whatap</span><br></span></code></pre></div></div>
</li>
<li>
<p>웹 서비스를 재시작하세요.</p>
<ul>
<li><strong>Windows</strong></li>
</ul>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Apache</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">net stop Apache2.4 &amp;&amp; net start Apache2.4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM IIS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">iisreset</span><br></span></code></pre></div></div>
</li>
<li>
<p>확장 파일 위치를 확인하세요.</p>
<ul>
<li><strong>Windows</strong></li>
</ul>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM PHP 확장 디렉토리 확인</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr extension_dir</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 출력 예: extension_dir =&gt; C:\PHP\ext</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM php_whatap.dll 파일 존재 확인 (위에서 확인한 경로 사용)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dir &quot;C:\PHP\ext\php_whatap.dll&quot;</span><br></span></code></pre></div></div>
<p>파일이 없으면 수동으로 복사합니다. (확인한 extension_dir 경로 사용)</p>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM PHP API 버전 확인</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr &quot;PHP API&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 출력 예: PHP API =&gt; 20230831</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Thread Safety 확인</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr &quot;Thread Safety&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 출력 예: Thread Safety =&gt; disabled</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 적절한 DLL 복사 (확인한 extension_dir 경로 사용)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy &quot;C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_20230831.dll&quot; &quot;C:\PHP\ext\php_whatap.dll&quot;</span><br></span></code></pre></div></div>
</li>
<li>
<p>PHP 설정 파일을 확인하세요. <em>whatap.so</em> 또는 <em>whatap.ini</em> 파일 경로가 PHP 환경과 일치하는지 확인하세요.</p>
<ul>
<li><strong>Windows</strong></li>
</ul>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">php --ini</span><br></span></code></pre></div></div>
</li>
<li>
<p>로그를 확인하세요.</p>
<ul>
<li><strong>Windows</strong></li>
</ul>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 설치 로그 확인</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">type &quot;C:\Program Files\WhaTap\PHP\logs\whatap-install.log&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 부팅 로그 확인 (최신 파일)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dir &quot;C:\Program Files\WhaTap\PHP\logs\whatap-boot-*.log&quot; /O-D</span><br></span></code></pre></div></div>
</li>
</ol><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>노트</div><div class="admonitionContent_BuS1"><p><a href="#check-php-cli-path">PHP 명령어(CLI) 경로</a>, <a href="#check-php-extension-module">PHP 확장 모듈 경로</a>, <a href="#php-ini-path">PHP 추가 ini 설정 경로</a> 항목들을 확인하세요.</p></div></div></section><section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="segmentation-fault-sig-bus-오류">Segmentation fault, Sig bus 오류<a href="#segmentation-fault-sig-bus-오류" class="hash-link" aria-label="Segmentation fault, Sig bus 오류에 대한 직접 링크" title="Segmentation fault, Sig bus 오류에 대한 직접 링크">​</a></h3><p>PHP 모니터링을 적용한 후 서비스에 오류가 발생할 경우 Apache 또는 PHP-FPM의 error log를 확인하세요.</p><p>error log 내용 중 <code>segmentation fault</code>, <code>sig bus</code> 등의 오류 문구가 있는지 확인하세요. <code>kill child process</code>, <code>exit child</code>, <code>exit process</code> 등의 문구와 같이 발생합니다.</p><p>해당 오류가 발생하는 경우는 PHP Extension 모듈인 <em>whatap.so</em> 모듈에서 충돌이 발생하는 것으로 볼 수 있습니다. PHP Extension 모듈인 <em>whatap.so</em> 를 중지한 후에 Apache 또는 PHP-FPM을 재시작하세요.</p><p>서비스에 영향을 주지 않는 환경에서 Apache 및 PHP-FPM에 <code>Core dump</code> 설정을 추가한 후 <em>whatap.so</em>를 다시 로딩하세요. 이후 오류가 발생하면 <em>dump</em> 파일이 생성됩니다. <em>dump</em> 파일을 gdb로 분석하여 원인을 해결하세요.</p></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="모듈-비활성화-및-로그-확인">모듈 비활성화 및 로그 확인<a href="#모듈-비활성화-및-로그-확인" class="hash-link" aria-label="모듈 비활성화 및 로그 확인에 대한 직접 링크" title="모듈 비활성화 및 로그 확인에 대한 직접 링크">​</a></h4><p>오류 원인을 파악하기 위해 먼저 모듈을 비활성화하고 로그를 확인하세요.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Windows에 대한 직접 링크" title="Windows에 대한 직접 링크">​</a></h5><p><strong>비활성화 테스트</strong></p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM php_whatap.dll 임시 비활성화</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ren &quot;C:\PHP\conf.d\whatap.ini&quot; &quot;whatap.ini.disabled&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 웹 서버 재시작</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">net stop Apache2.4 &amp;&amp; net start Apache2.4</span><br></span></code></pre></div></div><p><strong>오류 로그 확인</strong></p><ul>
<li><strong>Apache</strong></li>
</ul><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type &quot;C:\Apache24\logs\error.log&quot;</span><br></span></code></pre></div></div><ul>
<li><strong>IIS</strong></li>
</ul><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM 이벤트 뷰어 확인</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">eventvwr.msc</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">→ Windows 로그 → 응용 프로그램</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="core-dump-설정">Core Dump 설정<a href="#core-dump-설정" class="hash-link" aria-label="Core Dump 설정에 대한 직접 링크" title="Core Dump 설정에 대한 직접 링크">​</a></h4><ol>
<li>
<p><em>dump</em> 파일을 생성할 디렉터리의 권한을 부여하세요</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">chmod </span><span class="token number" style="color:rgb(247, 140, 108)">0777</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">home</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">httpd</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">core</span><br></span></code></pre></div></div>
</li>
<li>
<p>시스템 설정을 하세요.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ulimit </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">c unlimited</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sysctl fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">suid_dumpable</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sysctl kernel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">core_uses_pid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sysctl kernel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">core_pattern</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">home</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">httpd</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">core</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">core</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">%p&#x27;</span><br></span></code></pre></div></div>
</li>
</ol></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="apache">Apache<a href="#apache" class="hash-link" aria-label="Apache에 대한 직접 링크" title="Apache에 대한 직접 링크">​</a></h4><ol>
<li>
<p>Apache conf 에 CoreDumpDirectory 항목을 설정하세요.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">vi </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">etc</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">httpd</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">conf</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">httpd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">conf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">CoreDumpDirectory</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">home</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">httpd</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">core</span><br></span></code></pre></div></div>
</li>
<li>
<p>Apache를 재시작하면 설정이 완료됩니다.</p>
</li>
<li>
<p>오류가 발생하 면 <em>dump</em> 파일이 생성됩니다. <em>dump</em> 파일이 생성되면 gdb를 통해 오류 원인을 확인합니다. <code>bt full</code> 명령어를 통해서 전체 스택 정보를 확인하세요.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># gdb </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">usr</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">sbin</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">httpd </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">home</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">httpd</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">core</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">core</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">httpd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token number" style="color:rgb(247, 140, 108)">31832</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> bt full</span><br></span></code></pre></div></div>
</li>
</ol></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="php-fpm">PHP-FPM<a href="#php-fpm" class="hash-link" aria-label="PHP-FPM에 대한 직접 링크" title="PHP-FPM에 대한 직접 링크">​</a></h4><ol>
<li>
<p>FPM 설정 파일에서 <code>rlimit_core</code> 를 설정하세요.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rlimit_core </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> unlimited</span><br></span></code></pre></div></div>
</li>
<li>
<p>PHP-FPM을 재시작하면 설정이 완료됩니다.</p>
</li>
<li>
<p>오류가 발생하면 <em>dump</em> 파일이 생성됩니다. <em>dump</em> 파일이 생성되면 gdb를 통해 오류 원인을 확인하세요. <code>bt full</code> 명령어를 통해서 전체 스택 정보를 확인하세요.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># gdb </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">usr</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">sbin</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">php</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">fpm </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">home</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">httpd</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">core</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">core</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">php</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">fpm</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token number" style="color:rgb(247, 140, 108)">31832</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> bt full</span><br></span></code></pre></div></div>
</li>
</ol></section></section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><div class="btnwrapper_gsW7"><button class="modalopenbtn_jIdz">피드백</button></div></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="문서 탐색"><a class="pagination-nav__link pagination-nav__link--prev" href="/whatap-docs/php/install-check"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">설치 점검</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/whatap-docs/php/set-agent"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">PHP 에이전트 설정</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_pzBX thin-scrollbar"></div><div class="fbsharebutton_dZBI" data-href="https://docs.whatap.io/whatap-docs/php/agent-troubleshooting" data-layout="" data-size=""><button type="button" class="fb_xfbml_parse_ignore_BpHP">공유</button></div><div class="btnprint_EBmh"><button>PDF</button></div><div class="btnwrapper_gsW7"><button class="modalopenbtn_jIdz">피드백</button></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 WhaTap Labs Inc. All rights reserved. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>