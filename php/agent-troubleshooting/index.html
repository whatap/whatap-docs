<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-php/agent-troubleshooting" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Troubleshooting | WhaTap Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.whatap.io/img/og/whatap.png"><meta data-rh="true" name="twitter:image" content="https://www.whatap.io/img/og/whatap.png"><meta data-rh="true" property="og:url" content="https://docs.whatap.io/whatap-docs/php/agent-troubleshooting"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="ko_KR"><meta data-rh="true" property="og:locale:alternate" content="ja_JP"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Troubleshooting | WhaTap Docs"><meta data-rh="true" name="description" content="You can check the problems that may occur during PHP agent installation."><meta data-rh="true" property="og:description" content="You can check the problems that may occur during PHP agent installation."><meta data-rh="true" name="keywords" content="PHP,PHP Monitoring,Application,Application Monitoring,Troubleshooting"><link data-rh="true" rel="icon" href="/whatap-docs/img/whatap-favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.whatap.io/whatap-docs/php/agent-troubleshooting"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/php/agent-troubleshooting" hreflang="ko-KR"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/en/php/agent-troubleshooting" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/ja/php/agent-troubleshooting" hreflang="ja-JP"><link data-rh="true" rel="alternate" href="https://docs.whatap.io/whatap-docs/php/agent-troubleshooting" hreflang="x-default"><script>!function(e,t,a,o,r){e=e[r]=e[r]||{config:{projectAccessKey:"x4t5020boh2ln-z6pi7d91ds6c1a-z7t4b2lrgnub4o",pcode:29856,sampleRate:100,sessionReplaySampleRate:100,ignorePageUrls:[/^.*localhost.*$/i,/^.*ngrok-free.app.*$/i,/^.*whatap.github.io.*$/i],collectUserClick:!0}},(r=t.createElement(a)).async=1,r.src=o,(o=t.getElementsByTagName(a)[0]).parentNode.insertBefore(r,o)}(window,document,"script","https://repo.whatap-browser-agent.io/rum/prod/v1/whatap-browser-agent.js","WhatapBrowserAgent")</script>
<script>let curLang=document.documentElement.lang.split("-")[0];CRISP_RUNTIME_CONFIG={locale:curLang},window.$crisp=[],window.CRISP_WEBSITE_ID="9a0c342f-a5b1-4c4a-a22f-92c7b4b9b477",d=document,s=d.createElement("script"),s.src="https://client.crisp.chat/l.js",s.async=1,d.getElementsByTagName("head")[0].appendChild(s)</script>


<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-KT747XQX",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<meta name="keywords" content="WhaTap, 와탭, 매뉴얼, 사용법, WhaTap 사용법, WhaTap 매뉴얼, 기술 문서, APM, 애플리케이션 모니터링, 로그 모니터링, 쿠버네티스 모니터링, 서버 모니터링, 데이터베이스 모니터링, URL 모니터링, 클라우드 모니터링, 브라우저 모니터링, Browser monitoring, Application Monitoring, Log Monitoring, Kubernetes Monitoring, Server Monitoring, Database Monitoring, URL Monitoring, Cloud Monitoring, Manual, User Guide, Docs, WhaTap Manual, WhaTap Docs, WhaTap Documents, 트랜잭션, Transaction, 트레이싱, Tracing, 마스터, Master, 노드, Node, 데드락, Deadlock, 락 트리, Lock tree, 멀티 트랜잭션, Multi Trancsaction, 메트릭스, Metrics, 소프트웨어 프록시, Software proxy, 스택, Stack, 슬로우 쿼리, Slow query, 액티브 트랜잭션, Active transaction, 컨테이너, Container, 히트맵, Hitmap, Garbage Collection, GC, MXQL, Method 추적, Trace method, OOM Killed 컨테이너, OOM Killed Container, Oracle, Tibero, PostgreSQL, MySQL, MongoDB, SQL Server, CUBRID, Altibase, Redis, WebLogic, WebSphere">
<meta name="description" content="WhaTap Docs 페이지입니다. 애플리케이션, 서버, 쿠버네티스, 데이터베이스, 브라우저 등 다양한 모니터링 솔루션의 사용법을 제공합니다.">
<meta name="naver-site-verification" content="0c21fc5664a467108fb762ade47a3f81ee9b88ed">
<meta name="google-site-verification" content="rIlfJkbbogFOIDc3DgJZmOGbUMJWytyvZSKEgV7EMsE"><link rel="stylesheet" href="/whatap-docs/assets/css/styles.6dcc49bb.css">
<script src="/whatap-docs/assets/js/runtime~main.fe6a4d36.js" defer="defer"></script>
<script src="/whatap-docs/assets/js/main.e5304b9b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>

<script async defer="defer" crossorigin="anonymous" src="https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&amp;version=v17.0&amp;appId=169051789422006&amp;autoLogAppEvents=1" nonce="y4U7YSrt"></script>
<div id="fb-root"></div>



<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KT747XQX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:none;color:#ffffff" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><div id="announce-banner"> Preview Docs</div></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/whatap-docs/"><div class="navbar__logo"><img src="/whatap-docs/img/whatap-docs-logo.svg" alt="WhaTap Docs" class="themedComponent_mlkZ themedComponent--light_NVdE" height="43px" width="154px"><img src="/whatap-docs/img/whatap-docs-logo.svg" alt="WhaTap Docs" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="43px" width="154px"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Product</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/whatap-docs/java/introduction">Java</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/whatap-docs/php/introduction">PHP</a></li><li><a class="dropdown__link" href="/whatap-docs/nodejs/introduction">Node.js</a></li><li><a class="dropdown__link" href="/whatap-docs/python/introduction">Python</a></li><li><a class="dropdown__link" href="/whatap-docs/dotnet/introduction">.NET</a></li><li><a class="dropdown__link" href="/whatap-docs/golang/introduction">Go</a></li><li><a class="dropdown__link" href="/whatap-docs/server/introduction">Server</a></li><li><a class="dropdown__link" href="/whatap-docs/kubernetes/introduction">Kubernetes</a></li><li><a class="dropdown__link" href="/whatap-docs/postgresql/monitoring-intro">PostgreSQL</a></li><li><a class="dropdown__link" href="/whatap-docs/oracle/monitoring-intro">Oracle</a></li><li><a class="dropdown__link" href="/whatap-docs/oracle-pro/monitoring-intro">Oracle Pro</a></li><li><a class="dropdown__link" href="/whatap-docs/mysql/monitoring-intro">MySQL</a></li><li><a class="dropdown__link" href="/whatap-docs/mssql/monitoring-intro">SQL Server</a></li><li><a class="dropdown__link" href="/whatap-docs/tibero/monitoring-intro">Tibero</a></li><li><a class="dropdown__link" href="/whatap-docs/cubrid/monitoring-intro">CUBRID</a></li><li><a class="dropdown__link" href="/whatap-docs/altibase/monitoring-intro">Altibase</a></li><li><a class="dropdown__link" href="/whatap-docs/redis/monitoring-intro">Redis</a></li><li><a class="dropdown__link" href="/whatap-docs/mongodb/monitoring-intro">MongoDB</a></li><li><a class="dropdown__link" href="/whatap-docs/db2/monitoring-intro">IBM DB2</a></li><li><a class="dropdown__link" href="/whatap-docs/sapase/monitoring-intro">SAP ASE</a></li><li><a class="dropdown__link" href="/whatap-docs/url/url-intro">URL</a></li><li><a class="dropdown__link" href="/whatap-docs/browser">Browser</a></li><li><a class="dropdown__link" href="/whatap-docs/mobile/mobile-intro">Mobile</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/amazon-cloudwatch/install-agent">Amazon CloudWatch</a></li><li><a class="dropdown__link" href="/whatap-docs/amazon-ecs/introduction">Amazon ECS</a></li><li><a class="dropdown__link" href="/whatap-docs/aws-log/introduction">AWS Log</a></li><li><a class="dropdown__link" href="/whatap-docs/azure/install-agent">Azure Monitor</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/ncloud/install-agent">Naver Cloud Monitoring</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/oracle-cloud/install-agent">Oracle Cloud Monitor</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/npm/introduction">Network Performance Monitoring</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/nms/introduction">Network Management System</a></li><li><a class="dropdown__link narrow" href="/whatap-docs/features/introduction">Feature Project</a></li><li><a class="dropdown__link" href="/whatap-docs/log/introduction">Log</a></li><li><a class="dropdown__link" href="/whatap-docs/extensions">Extensions</a></li><li><a class="dropdown__link" href="/whatap-docs/openmetrics/introduction">OpenMetrics</a></li></ul></div><a class="navbar__item navbar__link hidden" href="/whatap-docs/java/introduction">Java Monitoring</a><a aria-current="page" class="navbar__item navbar__link hidden navbar__link--active" href="/whatap-docs/php/introduction">PHP Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/nodejs/introduction">Node.js Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/python/introduction">Python Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/dotnet/introduction">.NET Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/golang/introduction">Go Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/server/introduction">Server Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/kubernetes/introduction">Kubernetes Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/postgresql/monitoring-intro">PostgreSQL Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/oracle/monitoring-intro">Oracle V2 Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/oracle-pro/monitoring-intro">Oracle Pro Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mysql/monitoring-intro">MySQL Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mssql/monitoring-intro">SQL Server V2 Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/tibero/monitoring-intro">Tibero Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/cubrid/monitoring-intro">CUBRID V2 Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/altibase/monitoring-intro">Altibase V2 Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/redis/monitoring-intro">Redis Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mongodb/monitoring-intro">MongoDB Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/db2/monitoring-intro">IBM DB2 Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/sapase/monitoring-intro">SAP ASE Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/url/url-intro">URL Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/amazon-cloudwatch/install-agent">Amazon CloudWatch</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/amazon-ecs/introduction">Amazon ECS</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/aws-log/introduction">AWS Log</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/azure/install-agent">Azure Monitor</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/ncloud/install-agent">Naver Cloud Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/oracle-cloud/install-agent">Oracle Cloud Monitor</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/log/introduction">Log Monitoring</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/browser">Browser</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/mobile/mobile-intro">Mobile 모니터링</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/npm/introduction">NPM</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/extensions">Extension Tool</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/opentelemetry/introduction">OpenTelemetry</a><a class="navbar__item navbar__link hidden" href="/whatap-docs/openmetrics/introduction">OpenMetrics</a><a class="navbar__item navbar__link" href="/whatap-docs/manage">Management</a><a class="navbar__item navbar__link" href="/whatap-docs/openapi-spec">Open API</a><a class="navbar__item navbar__link" href="/whatap-docs/faq/">FAQ</a><a class="navbar__item navbar__link iflang-link" href="/whatap-docs/learning-guides">Learning</a><a class="navbar__item navbar__link" href="/whatap-docs/release-notes">Release Notes</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link oneColumn localeDropdown"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_DSK9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span class="langLabel_L4uU">ENG</span></a><ul class="dropdown__menu"><li><a href="/whatap-docs/php/agent-troubleshooting" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko-KR">KOR</a></li><li><a href="/whatap-docs/en/php/agent-troubleshooting" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">ENG</a></li><li><a href="/whatap-docs/ja/php/agent-troubleshooting" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja-JP">JPN</a></li></ul></div><div class="navbarSearchContainer_dCNk"><div id="docsearch"></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" fill="none" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M10.9901 0H13.0099V4.06189C15.2205 4.33486 17.1538 5.49222 18.4373 7.16513L21.9901 5.13397L23 6.86603L19.4486 8.89635C19.8546 9.8507 20.0791 10.8994 20.0791 12C20.0791 13.1006 19.8546 14.1493 19.4486 15.1036L23 17.134L21.9901 18.866L18.4373 16.8349C17.1538 18.5078 15.2205 19.6651 13.0099 19.9381V24H10.9901V19.9381C8.77946 19.6651 6.84617 18.5078 5.56273 16.8349L2.00989 18.866L1 17.134L4.5514 15.1036C4.14535 14.1493 3.9209 13.1006 3.9209 12C3.9209 10.8994 4.14535 9.8507 4.5514 8.89635L1 6.86603L2.00989 5.13397L5.56273 7.16513C6.84617 5.49222 8.77946 4.33486 10.9901 4.06189V0ZM5.94068 12C5.94068 8.68629 8.65353 6 12 6C15.3465 6 18.0593 8.68629 18.0593 12C18.0593 15.3137 15.3465 18 12 18C8.65353 18 5.94068 15.3137 5.94068 12Z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M5.05011 4.409C6.46482 2.9943 8.14585 2.02264 9.90788 1.5C8.84446 5.08024 9.63565 8.99454 12.3303 11.6892C15.025 14.3839 18.9393 15.1751 22.5191 14.1129C21.9969 15.8737 21.0253 17.5548 19.6106 18.9695C15.322 23.2581 8.58587 23.4752 4.56511 19.4545C0.544352 15.4337 0.761495 8.69762 5.05011 4.409ZM7.26586 5.19608C6.97785 5.42391 6.70099 5.67022 6.43684 5.93437C2.99054 9.38066 2.80435 14.782 6.02096 17.9986C9.23756 21.2152 14.6389 21.029 18.0852 17.5827C18.4373 17.2307 18.7577 16.856 19.0448 16.4625C15.9881 16.4646 13.0552 15.3261 10.8743 13.1452C8.77411 11.045 7.6407 8.24751 7.56194 5.31354L7.55754 4.97444L7.26586 5.19608ZM17.3387 2.30478H19.3979V4.36394H21.4571V6.4231H19.3979V8.48226H17.3387V6.4231H15.2795V4.36394H17.3387V2.30478Z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_mhZE"><div class="hold-menu"><ul><li><a href="/en" class="home">WhaTap Docs</a></li><li><a href="https://www.whatap.io/en" target="_blank" rel="noopener noreferrer" class="ext">Shortcut for WhaTap Home</a></li></ul></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP menuWithAnnouncementBar_fPny"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/whatap-docs/php/introduction">PHP Monitoring</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/supported-spec">Support Environment</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/install-agent">Agent Installation</a><button aria-label="Expand sidebar category &#x27;Agent Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/install-check">Installation checking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/whatap-docs/php/agent-troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/set-agent">Configuration</a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/whatap-docs/php/agent-update">Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/dashboard-intro">Dashboard</a><button aria-label="Expand sidebar category &#x27;Dashboard&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/analysis-report-intro">Analysis</a><button aria-label="Expand sidebar category &#x27;Analysis&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/metrics-intro">Metrics</a><button aria-label="Expand sidebar category &#x27;Metrics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/track-transactions-intro">Transactions</a><button aria-label="Expand sidebar category &#x27;Transactions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/topology">Topology</a><button aria-label="Expand sidebar category &#x27;Topology&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item newfunc"><a class="menu__link" tabindex="0" href="/whatap-docs/php/topology-application">Application Topology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/analysis-apm-trs">Statistics</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/report-intro">Report</a><button aria-label="Expand sidebar category &#x27;Report&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/whatap-docs/php/apm-set-notice">Alert</a><button aria-label="Expand sidebar category &#x27;Alert&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/instance-performance-analysis">Instance Performance Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/linked-projects">Correlated project management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/log/introduction">Log Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/whatap-docs/php/labs">Laboratory</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/whatap-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item item-1"><a class="breadcrumbs__link" itemprop="item" href="/whatap-docs/php/introduction"><span itemprop="name">PHP Monitoring</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active item-2"><span class="breadcrumbs__link" itemprop="name">Troubleshooting</span><meta itemprop="position" content="2"></li></ul><div class="breadcrumbs-hidden"><span itemprop="name">PHP Monitoring<cite>&gt;</cite></span><span itemprop="name">Troubleshooting</span></div></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_XdKt"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Troubleshooting</h1></header><section class="remark-sectionize-h2"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting-installation-and-configuration-issues">Troubleshooting Installation and Configuration Issues<a href="#troubleshooting-installation-and-configuration-issues" class="hash-link" aria-label="Direct link to Troubleshooting Installation and Configuration Issues" title="Direct link to Troubleshooting Installation and Configuration Issues">​</a></h2><p>This guide explains how to diagnose and resolve errors that may occur during installation and configuration of the WhaTap PHP Agent.</p></section>
<section class="remark-sectionize-h2"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="linuxfreebsd">Linux/FreeBSD<a href="#linuxfreebsd" class="hash-link" aria-label="Direct link to Linux/FreeBSD" title="Direct link to Linux/FreeBSD">​</a></h2><section class="remark-sectionize-h2"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="extension-modul-manual-setting">Manual configuration of PHP extension module and whatap-php service<a href="#extension-modul-manual-setting" class="hash-link" aria-label="Direct link to Manual configuration of PHP extension module and whatap-php service" title="Direct link to Manual configuration of PHP extension module and whatap-php service">​</a></h2><p>If installation of the PHP extension module and whatap-php service (<em>install.sh</em>) has not been successful, you can install them manually. Use this method when environment information cannot be checked for any reasons such as PHP compile installation.</p></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creation-of-whatapini">Creation of whatap.ini<a href="#creation-of-whatapini" class="hash-link" aria-label="Direct link to Creation of whatap.ini" title="Direct link to Creation of whatap.ini">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> /usr/whatap/php/template.ini /usr/whatap/php/whatap.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> /usr/whatap/php/whatap.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Add this content at the top</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> Enable whatap extension module</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">extension</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">whatap.so</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.license</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Issued access key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.server.host</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Issued server IP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.app_name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">           </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Web server classification: APHP, FPHP (apache: APHP, php-fpm : FPHP)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.app_process_name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Process name of apache and php-fpm (httpd,php-fpm)</span><br></span></code></pre></div></div><table><thead><tr><th>Configuration</th><th>Description</th></tr></thead><tbody><tr><td>whatap.license</td><td>The access key issued from <strong><em>Project Menu</em></strong> &gt; <strong><em>Management</em></strong> &gt; <strong><em>Agent Installation</em></strong> can be checked.</td></tr><tr><td>whatap.server.host</td><td>You can see the server IP issued from <strong><em>Project Menu</em></strong> &gt; <strong><em>Management</em></strong> &gt; <strong><em>Agent Installation</em></strong>.</td></tr><tr><td>whatap.app_name</td><td><code>APHP</code> is used for the Apache server and <code>FPHP</code> is used for php-fpm.</td></tr><tr><td>whatap.app_process_name</td><td>If you enter the exact value as the execution process name of Apache or php-fpm, the memory usage for the process is collected. For example, they are <code>httpd</code>, <code>apache2</code>, <code>php-fpm</code>, and such.</td></tr></tbody></table></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="check-php-cli-path">Checking the PHP command (CLI)<a href="#check-php-cli-path" class="hash-link" aria-label="Direct link to Checking the PHP command (CLI)" title="Direct link to Checking the PHP command (CLI)">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">which</span><span class="token plain"> php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/usr/bin/php</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-environment-variables-for-the-whatap-php-service">Configuring the environment variables for the whatap-php service<a href="#configuring-the-environment-variables-for-the-whatap-php-service" class="hash-link" aria-label="Direct link to Configuring the environment variables for the whatap-php service" title="Direct link to Configuring the environment variables for the whatap-php service">​</a></h3><p>Set the PHP CLI command&#x27;s path in the <code>$WHATAP_PHP_BIN</code> environment variable.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> /etc/init.d/whatap-php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">WHATAP_PHP_BIN</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># PHP command&#x27;s location (/usr/bin/php)</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="checking-the-php-api-version">Checking the PHP API version<a href="#checking-the-php-api-version" class="hash-link" aria-label="Direct link to Checking the PHP API version" title="Direct link to Checking the PHP API version">​</a></h3><p>Set the PHP CLI command&#x27;s path in the <code>$WHATAP_PHP_BIN</code> environment variable.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PHP API&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PHP API </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20100412</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="checking-whether-php-zts-zend-thread-safe-is-available">Checking whether PHP ZTS (Zend Thread Safe) is available<a href="#checking-whether-php-zts-zend-thread-safe-is-available" class="hash-link" aria-label="Direct link to Checking whether PHP ZTS (Zend Thread Safe) is available" title="Direct link to Checking whether PHP ZTS (Zend Thread Safe) is available">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> apachectl </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-V</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> MPM</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Server MPM: Prefork      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ZTS unavailable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Server MPM: Worker       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ZTS available</span><br></span></code></pre></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php-fpm </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> Thread</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Thread Safety </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> disabled       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ZTS unavailable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Thread Safety </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> enabled       	</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ZTS available</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="checking-and-configuring-the-php-extension-modules-path">Checking and configuring the PHP extension module&#x27;s path<a href="#checking-and-configuring-the-php-extension-modules-path" class="hash-link" aria-label="Direct link to Checking and configuring the PHP extension module&#x27;s path" title="Direct link to Checking and configuring the PHP extension module&#x27;s path">​</a></h3></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-php-extension-module">Checking the PHP extension module&#x27;s path<a href="#check-php-extension-module" class="hash-link" aria-label="Direct link to Checking the PHP extension module&#x27;s path" title="Direct link to Checking the PHP extension module&#x27;s path">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> extension_dir</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">extension_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /usr/lib64/php/modules </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /usr/lib64/php/modules</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-php-extension-module">Configuring the PHP extension module<a href="#configuring-the-php-extension-module" class="hash-link" aria-label="Direct link to Configuring the PHP extension module" title="Direct link to Configuring the PHP extension module">​</a></h4><p>After checking the PHP API version and PHP ZTS&#x27;s availability, select a library that meets the environment. In the PHP extension module&#x27;s path, copy the <em>whatap.so</em> file name.</p><ul>
<li>In case PHP ZTS is available - <em>whatap_zts_[PHP API version].so</em></li>
<li>In case PHP ZTS is unavailable - <em>whatap_[PHP API version].so</em>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Example in case the PHP ZTS is not supported</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> /usr/whatap/php/modules/x64/whatap_20100412.so /usr/lib64/php/modules/whatap.so</span><br></span></code></pre></div></div>
</li>
</ul></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-environment-variables-for-the-whatap-php-service-1">Configuring the environment variables for the whatap-php service<a href="#configuring-the-environment-variables-for-the-whatap-php-service-1" class="hash-link" aria-label="Direct link to Configuring the environment variables for the whatap-php service" title="Direct link to Configuring the environment variables for the whatap-php service">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> /etc/init.d/whatap-php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">WHATAP_PHP_EXT_HOME</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># PHP extension path (/usr/lib64/php/modules)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">WHATAP_PHP_EXT_SRC</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># whatap library path and file name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                              </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># (/usr/whatap/php/modules/x64/whatap_20100412.so)]</span><br></span></code></pre></div></div><ol>
<li>In the <code>$WHATAP_PHP_EXT_HOME</code> environment variable, set the PHP extension module&#x27;s path.</li>
<li>In the <code>$WHATAP_PHP_EXT_SRC</code> environment variable, set the whatap library&#x27;s full file path.</li>
</ol></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="php-ini-path">whatap.ini configuration<a href="#php-ini-path" class="hash-link" aria-label="Direct link to whatap.ini configuration" title="Direct link to whatap.ini configuration">​</a></h3><ol>
<li>
<p>Check the PHP ini file&#x27;s path that has been added.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.ini files&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scan this </span><span class="token function" style="color:rgb(130, 170, 255)">dir</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> additional .ini files </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /etc/php.d</span><br></span></code></pre></div></div>
</li>
<li>
<p>Copy <em>whatap.ini</em> and paste it to the path.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> /usr/whatap/php/whatap.ini /etc/php.d/whtap/ini</span><br></span></code></pre></div></div>
</li>
</ol></section></section>
<section class="remark-sectionize-h2"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Direct link to Windows" title="Direct link to Windows">​</a></h2></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="manual-configuration-of-php-extension-module-and-whatap-php-service">Manual Configuration of PHP Extension Module and WhaTap PHP Service<a href="#manual-configuration-of-php-extension-module-and-whatap-php-service" class="hash-link" aria-label="Direct link to Manual Configuration of PHP Extension Module and WhaTap PHP Service" title="Direct link to Manual Configuration of PHP Extension Module and WhaTap PHP Service">​</a></h3><p>If the PHP extension module or the whatap-php service was not installed correctly, or the optional installation (<em>install.sh</em>) did not complete properly, follow the manual configuration steps below.</p></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="checking-php-environment-information">Checking PHP Environment Information<a href="#checking-php-environment-information" class="hash-link" aria-label="Direct link to Checking PHP Environment Information" title="Direct link to Checking PHP Environment Information">​</a></h4><p>Check your PHP environment:</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Check PHP API version</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr &quot;PHP API&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Check Thread Safety</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr &quot;Thread Safety&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Check extension directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr extension_dir</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Check PHP configuration file location</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php --ini</span><br></span></code></pre></div></div><p><em>Example Output</em></p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">PHP API =&gt; 20230831</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Thread Safety =&gt; disabled</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">extension_dir =&gt; C:\PHP\ext</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Configuration File (php.ini) Path: C:\Windows</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Loaded Configuration File:         C:\PHP\php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scan for additional .ini files in: C:\PHP\conf.d</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Additional .ini files parsed:      (none)</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="copying-php_whatapdll">Copying php_whatap.dll<a href="#copying-php_whatapdll" class="hash-link" aria-label="Direct link to Copying php_whatap.dll" title="Direct link to Copying php_whatap.dll">​</a></h4><p>Copy the correct DLL to the extension_dir path you confirmed:</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Example: extension_dir =&gt; C:\PHP\ext</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Non-ZTS version</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy &quot;C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_[API_VERSION].dll&quot; &quot;C:\PHP\ext\php_whatap.dll&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM ZTS version</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy &quot;C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_zts_[API_VERSION].dll&quot; &quot;C:\PHP\ext\php_whatap.dll&quot;</span><br></span></code></pre></div></div><p><em>Examples</em></p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM PHP 8.3 (API 20230831) NTS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy &quot;C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_20230831.dll&quot; &quot;C:\PHP\ext\php_whatap.dll&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM PHP 8.3 (API 20230831) ZTS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy &quot;C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_zts_20230831.dll&quot; &quot;C:\Program Files\PHP\v8.3\ext\php_whatap.dll&quot;</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-whatapini-or-editing-phpini">Creating whatap.ini or Editing php.ini<a href="#creating-whatapini-or-editing-phpini" class="hash-link" aria-label="Direct link to Creating whatap.ini or Editing php.ini" title="Direct link to Creating whatap.ini or Editing php.ini">​</a></h4></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="when-scan-directory-exists">When Scan Directory Exists<a href="#when-scan-directory-exists" class="hash-link" aria-label="Direct link to When Scan Directory Exists" title="Direct link to When Scan Directory Exists">​</a></h5><p>Create <em>whatap.ini</em> in the Scan Directory detected by <code>php --ini</code>.</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Example: Scan for additional .ini files in: C:\PHP\conf.d</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">notepad &quot;C:\PHP\conf.d\whatap.ini&quot;</span><br></span></code></pre></div></div><p><em>whatap.ini</em></p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key attr-name" style="color:rgb(255, 203, 107)">extension</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">php_whatap.dll</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="when-scan-directory-does-not-exist">When Scan Directory Does Not Exist<a href="#when-scan-directory-does-not-exist" class="hash-link" aria-label="Direct link to When Scan Directory Does Not Exist" title="Direct link to When Scan Directory Does Not Exist">​</a></h5><p>Add configuration directly to php.ini:</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Example: Loaded Configuration File: C:\PHP\php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">notepad &quot;C:\PHP\php.ini&quot;</span><br></span></code></pre></div></div><p><em>Add to php.ini</em></p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token section punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token section section-name selector" style="color:rgb(199, 146, 234)">whatap</span><span class="token section punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">extension</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">php_whatap.dll</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="editing-whatapini">Editing whatap.ini<a href="#editing-whatapini" class="hash-link" aria-label="Direct link to Editing whatap.ini" title="Direct link to Editing whatap.ini">​</a></h4><p>Edit the configuration file located at <em>C:\Program Files\WhaTap\PHP\whatap.ini</em>:</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key attr-name" style="color:rgb(255, 203, 107)">whatap.license</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">your_access_key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">whatap.server.host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">13.124.11.223</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">whatap.app_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">APHP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">whatap.app_process_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">httpd.exe</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-environment-variables">Setting Environment Variables<a href="#setting-environment-variables" class="hash-link" aria-label="Direct link to Setting Environment Variables" title="Direct link to Setting Environment Variables">​</a></h4><p>Configure the environment variables required by the WhaTap PHP Agent:</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Required: Installation directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">setx WHATAP_PHP_HOME &quot;C:\Program Files\WhaTap\PHP&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Required: Configuration file name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">setx WHATAP_PHP_CONFIG &quot;whatap.ini&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Optional: License key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM setx WHATAP_LICENSE &quot;your_access_key&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Optional: Server host</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM setx WHATAP_SERVER_HOST &quot;13.124.11.223&quot;</span><br></span></code></pre></div></div><p><em>Environment variables automatically set by the installer</em></p><table><thead><tr><th>Variable</th><th>Description</th><th>When Set</th><th>Default</th></tr></thead><tbody><tr><td>WHATAP_PHP_HOME</td><td>Installation directory</td><td>Always</td><td>C:\Program Files\WhaTap\PHP</td></tr><tr><td>WHATAP_PHP_CONFIG_HOME</td><td>Directory of whatap.ini</td><td>Always</td><td>C:\Program Files\WhaTap\PHP</td></tr><tr><td>WHATAP_PHP_CONFIG</td><td>whatap.ini file name</td><td>Always</td><td>whatap.ini</td></tr><tr><td>WHATAP_DATETIME_MODE</td><td>Time mode (Windows only)</td><td>Always</td><td>WINDOWS</td></tr><tr><td>WHATAP_PHP_BIN</td><td>Path to php.exe</td><td>When PHP is detected</td><td>(detected)</td></tr><tr><td>WHATAP_PHP_DIR</td><td>PHP installation directory</td><td>When PHP is detected</td><td>(detected)</td></tr><tr><td>WHATAP_PHP_API_VERSION</td><td>PHP API version</td><td>When PHP is detected</td><td>(detected)</td></tr><tr><td>WHATAP_PHP_EXTENSION_DIR</td><td>PHP extension directory</td><td>When PHP is detected</td><td>(detected)</td></tr><tr><td>WHATAP_PHP_INI_FILE</td><td>php.ini path</td><td>When PHP is detected</td><td>(detected)</td></tr><tr><td>WHATAP_PHP_THREAD_SAFETY</td><td>enabled/disabled</td><td>When PHP is detected</td><td>(detected)</td></tr></tbody></table><p><em>Optional user-set environment variables</em></p><table><thead><tr><th>Variable</th><th>Description</th><th>Priority</th><th>Default</th></tr></thead><tbody><tr><td>WHATAP_LICENSE</td><td>License key</td><td>Env &gt; INI</td><td>-</td></tr><tr><td>WHATAP_SERVER_HOST</td><td>Server host</td><td>Env &gt; INI</td><td>-</td></tr></tbody></table><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><p><code>setx</code> writes permanent environment variables.<br>
<!-- -->Reload your terminal or restart services for changes to apply.<br>
<!-- -->For system-wide variables:</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">setx WHATAP_PHP_HOME &quot;C:\Program Files\WhaTap\PHP&quot; /M</span><br></span></code></pre></div></div></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="registering-and-starting-the-service">Registering and Starting the Service<a href="#registering-and-starting-the-service" class="hash-link" aria-label="Direct link to Registering and Starting the Service" title="Direct link to Registering and Starting the Service">​</a></h4><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sc create &quot;WhaTap PHP&quot; binPath=&quot;C:\Program Files\WhaTap\PHP\whatap_php.exe&quot; start=auto</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">net start &quot;WhaTap PHP&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Restart web server</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">net stop Apache2.4 &amp;&amp; net start Apache2.4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM or</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">iisreset</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h2"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="checking-runtime-environment">Checking Runtime Environment<a href="#checking-runtime-environment" class="hash-link" aria-label="Direct link to Checking Runtime Environment" title="Direct link to Checking Runtime Environment">​</a></h2></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="collecting-php-environment-information">Collecting PHP Environment Information<a href="#collecting-php-environment-information" class="hash-link" aria-label="Direct link to Collecting PHP Environment Information" title="Direct link to Collecting PHP Environment Information">​</a></h3><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -v &gt; php_version.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i &gt; phpinfo.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -m &gt; modules.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php --ini &gt; ini.txt</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-connectivity-test">Network Connectivity Test<a href="#network-connectivity-test" class="hash-link" aria-label="Direct link to Network Connectivity Test" title="Direct link to Network Connectivity Test">​</a></h3><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">Test-NetConnection</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">ComputerName 13</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">124</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">11</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">223 </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">Port 6600</span><br></span></code></pre></div></div><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">telnet 13.124.11.223 6600</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tracert 13.124.11.223</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="checking-processes">Checking Processes<a href="#checking-processes" class="hash-link" aria-label="Direct link to Checking Processes" title="Direct link to Checking Processes">​</a></h3><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">tasklist | findstr whatap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tasklist | findstr php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">netstat -ano | findstr 6600</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h2"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-troubleshooting">Additional Troubleshooting<a href="#additional-troubleshooting" class="hash-link" aria-label="Direct link to Additional Troubleshooting" title="Direct link to Additional Troubleshooting">​</a></h2><section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="unable-to-detect-additional-php-ini-scan-directory">Unable to Detect Additional PHP ini Scan Directory<a href="#unable-to-detect-additional-php-ini-scan-directory" class="hash-link" aria-label="Direct link to Unable to Detect Additional PHP ini Scan Directory" title="Direct link to Unable to Detect Additional PHP ini Scan Directory">​</a></h3><p>If PHP was compiled without the <code>--with-config-file-scan-dir=PATH</code> option, the additional ini scan directory will not be detected, resulting in missing configuration loading.</p></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-check">How to Check<a href="#how-to-check" class="hash-link" aria-label="Direct link to How to Check" title="Direct link to How to Check">​</a></h4><ul>
<li><strong>Linux/FreeBSD</strong></li>
</ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.ini files&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scan this </span><span class="token function" style="color:rgb(130, 170, 255)">dir</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> additional .ini files </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">none</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div><ul>
<li><strong>Windows</strong></li>
</ul><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">php --ini</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-fix">How to Fix<a href="#how-to-fix" class="hash-link" aria-label="Direct link to How to Fix" title="Direct link to How to Fix">​</a></h4><p>Append the contents of <em>whatap.ini</em> to the end of the <em>php.ini</em> file.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="linux">Linux<a href="#linux" class="hash-link" aria-label="Direct link to Linux" title="Direct link to Linux">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;php.ini&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Loaded Configuration File </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> /etc/php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Add at the end of the file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">whatap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">Enable whatap extension module</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">extension</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">whatap.so</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.ext.error_enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.ext.exception_enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.trace_user_enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">whatap.trace_user_using_ip</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">false</span><br></span></code></pre></div></div><p>For all other options, refer to <em>/usr/whatap/php/whatap.ini</em>.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Direct link to Windows" title="Direct link to Windows">​</a></h5><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Append whatap.ini content to php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">type &quot;C:\Program Files\WhaTap\PHP\template.ini&quot; &gt;&gt; C:\PHP\php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Or edit manually</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">notepad C:\PHP\php.ini</span><br></span></code></pre></div></div><ul>
<li><strong>Content to append to php.ini (Windows example)</strong></li>
</ul><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token section punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token section section-name selector" style="color:rgb(199, 146, 234)">whatap</span><span class="token section punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">extension</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">php_whatap.dll</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># For additional whatap.ini settings, see C:\Program Files\WhaTap\PHP\whatap.ini</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-environment-variable-for-whatap-php-service">Setting Environment Variable for whatap-php Service<a href="#setting-environment-variable-for-whatap-php-service" class="hash-link" aria-label="Direct link to Setting Environment Variable for whatap-php Service" title="Direct link to Setting Environment Variable for whatap-php Service">​</a></h4><p>Set the <em>whatap.ini</em> directory path to the <code>$WHATAP_CONFIG_HOME</code> environment variable.</p><p>If PHP cannot detect the additional ini scan directory, set the path where you created <em>whatap.ini</em> (e.g., <em>/usr/whatap/php</em>).</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> /etc/init.d/whatap-php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">WHATAP_CONFIG_HOME</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Path to whatap.ini (/etc/php.d)</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="restart-services">Restart Services<a href="#restart-services" class="hash-link" aria-label="Direct link to Restart Services" title="Direct link to Restart Services">​</a></h4><ul>
<li>Restart Apache and PHP-FPM services</li>
<li>Restart whatap-php service</li>
</ul></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="error-not-found-php-api">Error: Not found PHP API<a href="#error-not-found-php-api" class="hash-link" aria-label="Direct link to Error: Not found PHP API" title="Direct link to Error: Not found PHP API">​</a></h4><p>This occurs when the PHP CLI command cannot be located.</p><p>Verify the correct <a href="#check-php-cli-path">location of the PHP CLI</a>, then complete the steps in<br>
<a href="#extension-modul-manual-setting">Manual Installation of PHP Extension Module and whatap-php Service</a>.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="linux-1">Linux<a href="#linux-1" class="hash-link" aria-label="Direct link to Linux" title="Direct link to Linux">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_OeMC">Check PHP API version</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PHP API&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PHP API </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20100412</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="windows-1">Windows<a href="#windows-1" class="hash-link" aria-label="Direct link to Windows" title="Direct link to Windows">​</a></h5><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Check PHP path</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">where php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Add PHP path to environment PATH</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">setx PATH &quot;%PATH%;C:\PHP&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Or add manually via system environment variables</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sysdm.cpl → Advanced → Environment Variables → Edit PATH</span><br></span></code></pre></div></div></section><section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="php-ini-directory-not-found">PHP ini Directory Not Found<a href="#php-ini-directory-not-found" class="hash-link" aria-label="Direct link to PHP ini Directory Not Found" title="Direct link to PHP ini Directory Not Found">​</a></h3><blockquote>
<p>Error: Not found PHP ini directory</p>
</blockquote><p>This issue occurs when PHP cannot detect the value of the <code>Scan this dir for additional .ini files</code> field.<br>
<!-- -->If PHP was compiled without the <code>--with-config-file-scan-dir=PATH</code> option, this information will not appear.</p><p>Check the correct <a href="#check-php-cli-path">location of the PHP CLI</a>, then proceed with<br>
<a href="#extension-modul-manual-setting">Manual setup of PHP extension module and whatap-php service</a>.</p></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-check">How to Check<a href="#how-to-check" class="hash-link" aria-label="Direct link to How to Check" title="Direct link to How to Check">​</a></h4><p>Use the following commands to verify whether PHP recognizes an additional ini directory.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="linuxfreebsd">Linux/FreeBSD<a href="#linuxfreebsd" class="hash-link" aria-label="Direct link to Linux/FreeBSD" title="Direct link to Linux/FreeBSD">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-i</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.ini files&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scan this </span><span class="token function" style="color:rgb(130, 170, 255)">dir</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> additional .ini files </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">none</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Direct link to Windows" title="Direct link to Windows">​</a></h5><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">php --ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Configuration File (php.ini) Path: /etc/php</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Loaded Configuration File:         /etc/php/php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scan for additional .ini files in: (none)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Additional .ini files parsed:      (none)</span><br></span></code></pre></div></div></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-fix">How to Fix<a href="#how-to-fix" class="hash-link" aria-label="Direct link to How to Fix" title="Direct link to How to Fix">​</a></h4><p>If no additional ini directory is configured, merge the <em>whatap.ini</em> content directly into <em>php.ini</em>.</p></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="windows-1">Windows<a href="#windows-1" class="hash-link" aria-label="Direct link to Windows" title="Direct link to Windows">​</a></h5><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Append whatap.ini content to php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">type &quot;C:\Program Files\WhaTap\PHP\template.ini&quot; &gt;&gt; C:\PHP\php.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Or edit manually</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">notepad C:\PHP\php.ini</span><br></span></code></pre></div></div><p><strong>Content to add into php.ini</strong></p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token section punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token section section-name selector" style="color:rgb(199, 146, 234)">whatap</span><span class="token section punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">extension</span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token value attr-value">php_whatap.dll</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">; Refer to C:\Program Files\WhaTap\PHP\whatap.ini for additional settings</span><br></span></code></pre></div></div></section><section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="response-time-heatmap-not-displayed">Response Time Heatmap Not Displayed<a href="#response-time-heatmap-not-displayed" class="hash-link" aria-label="Direct link to Response Time Heatmap Not Displayed" title="Direct link to Response Time Heatmap Not Displayed">​</a></h3><p>You may see CPU and memory graphs, but the response time distribution (heatmap) does not appear.<br>
<!-- -->This occurs in the following cases:</p><ul>
<li>The agent is connected to the collector, but the tracer is not properly applied to the PHP extension module.</li>
<li>Apache or PHP-FPM was not restarted after configuration changes.</li>
</ul><ol>
<li>
<p>Check whether the PHP module is loaded.</p>
<ul>
<li><strong>Linux/FreeBSD</strong></li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> php </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-m</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">PHP Modules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bz2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">calendar</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Core</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ctype</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">…</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">whatap               </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Verify that the WhaTap module is loaded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">…</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Zend Modules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre></div></div>
<ul>
<li><strong>Windows</strong></li>
</ul>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -m | findstr whatap</span><br></span></code></pre></div></div>
<ul>
<li><strong>Example (normal output)</strong></li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">whatap</span><br></span></code></pre></div></div>
</li>
<li>
<p>Restart the web service.</p>
<ul>
<li><strong>Windows</strong></li>
</ul>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Apache</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">net stop Apache2.4 &amp;&amp; net start Apache2.4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM IIS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">iisreset</span><br></span></code></pre></div></div>
</li>
<li>
<p>Check the extension directory.</p>
<ul>
<li><strong>Windows</strong></li>
</ul>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Check PHP extension directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr extension_dir</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Example output: extension_dir =&gt; C:\PHP\ext</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Verify php_whatap.dll exists (use the directory confirmed above)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dir &quot;C:\PHP\ext\php_whatap.dll&quot;</span><br></span></code></pre></div></div>
<p>If the file does not exist, copy it manually (use the directory confirmed above).</p>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Check PHP API version</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr &quot;PHP API&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Example: PHP API =&gt; 20230831</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Check Thread Safety</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">php -i | findstr &quot;Thread Safety&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Example: Thread Safety =&gt; disabled</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Copy the appropriate DLL (use the correct extension_dir path)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy &quot;C:\Program Files\WhaTap\PHP\modules\x64\php_whatap_20230831.dll&quot; &quot;C:\PHP\ext\php_whatap.dll&quot;</span><br></span></code></pre></div></div>
</li>
<li>
<p>Check the PHP configuration file.<br>
<!-- -->Make sure the path of <em>whatap.so</em> or <em>whatap.ini</em> matches your PHP environment.</p>
<ul>
<li><strong>Windows</strong></li>
</ul>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">php --ini</span><br></span></code></pre></div></div>
</li>
<li>
<p>Check the logs.</p>
<ul>
<li><strong>Windows</strong></li>
</ul>
<div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Installation log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">type &quot;C:\Program Files\WhaTap\PHP\logs\whatap-install.log&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Latest boot log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dir &quot;C:\Program Files\WhaTap\PHP\logs\whatap-boot-*.log&quot; /O-D</span><br></span></code></pre></div></div>
</li>
</ol><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><p>Check the following items:<br>
<a href="#check-php-cli-path">PHP CLI Path</a>,<br>
<a href="#check-php-extension-module">PHP Extension Module Path</a>,<br>
<a href="#php-ini-path">PHP Additional ini Path</a>.</p></div></div></section><section class="remark-sectionize-h3"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="segmentation-fault-sig-bus-error">Segmentation fault, Sig bus Error<a href="#segmentation-fault-sig-bus-error" class="hash-link" aria-label="Direct link to Segmentation fault, Sig bus Error" title="Direct link to Segmentation fault, Sig bus Error">​</a></h3><p>If an error occurs after applying PHP monitoring, check the Apache or PHP-FPM error log.</p><p>Check whether the error log contains messages such as <code>segmentation fault</code> or <code>sig bus</code>.<br>
<!-- -->These errors often appear together with messages like <code>kill child process</code>, <code>exit child</code>, or <code>exit process</code>.</p><p>If these errors occur, it indicates a conflict with the PHP extension module <em>whatap.so</em>.<br>
<!-- -->Disable the PHP extension module <em>whatap.so</em> and restart Apache or PHP-FPM.</p><p>In an environment that does not affect the service, enable the <code>Core dump</code> configuration for Apache and PHP-FPM, then reload <em>whatap.so</em>.<br>
<!-- -->If an error occurs afterward, a <em>dump</em> file will be generated.<br>
<!-- -->Analyze the <em>dump</em> file using gdb to identify the cause.</p><hr></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="disable-module--check-logs">Disable Module &amp; Check Logs<a href="#disable-module--check-logs" class="hash-link" aria-label="Direct link to Disable Module &amp; Check Logs" title="Direct link to Disable Module &amp; Check Logs">​</a></h4><p>Disable the module first and check the logs to identify the issue.</p><hr></section>
<section class="remark-sectionize-h5"><h5 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Direct link to Windows" title="Direct link to Windows">​</a></h5><p><strong>Disable Test</strong></p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Temporarily disable php_whatap.dll</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ren &quot;C:\PHP\conf.d\whatap.ini&quot; &quot;whatap.ini.disabled&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Restart web server</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">net stop Apache2.4 &amp;&amp; net start Apache2.4</span><br></span></code></pre></div></div><p><strong>Check error logs</strong></p><ul>
<li><strong>Apache</strong></li>
</ul><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type &quot;C:\Apache24\logs\error.log&quot;</span><br></span></code></pre></div></div><ul>
<li><strong>IIS</strong></li>
</ul><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">REM Check Event Viewer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">eventvwr.msc</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">→ Windows Logs → Application</span><br></span></code></pre></div></div><hr></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="core-dump-configuration">Core Dump Configuration<a href="#core-dump-configuration" class="hash-link" aria-label="Direct link to Core Dump Configuration" title="Direct link to Core Dump Configuration">​</a></h4><ol>
<li>Grant permissions to the directory where the <em>dump</em> file will be stored:</li>
</ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> 0777 /home/httpd-core</span><br></span></code></pre></div></div><ol start="2">
<li>Apply system settings:</li>
</ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">ulimit</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-c</span><span class="token plain"> unlimited</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sysctl</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">fs.suid_dumpable</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sysctl</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">kernel.core_uses_pid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sysctl</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">kernel.core_pattern</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;| /home/httpd-core/core-%e.%p&#x27;</span><br></span></code></pre></div></div><hr></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="apache">Apache<a href="#apache" class="hash-link" aria-label="Direct link to Apache" title="Direct link to Apache">​</a></h4><ol>
<li>Add CoreDumpDirectory to Apache configuration:</li>
</ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> /etc/httpd/conf/httpd.conf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CoreDumpDirectory /home/httpd-core</span><br></span></code></pre></div></div><ol start="2">
<li>
<p>Restart Apache to apply the setting.</p>
</li>
<li>
<p>When an error occurs, a <em>dump</em> file is generated.<br>
<!-- -->Analyze the file using gdb and use <code>bt full</code> to print the full stack trace:</p>
</li>
</ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># gdb /usr/sbin/httpd /home/httpd-core/core-httpd.31832</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> bt full</span><br></span></code></pre></div></div><hr></section>
<section class="remark-sectionize-h4"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="php-fpm">PHP-FPM<a href="#php-fpm" class="hash-link" aria-label="Direct link to PHP-FPM" title="Direct link to PHP-FPM">​</a></h4><ol>
<li>Configure <code>rlimit_core</code> in the FPM configuration file:</li>
</ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rlimit_core </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> unlimited</span><br></span></code></pre></div></div><ol start="2">
<li>
<p>Restart PHP-FPM.</p>
</li>
<li>
<p>When an error occurs, a <em>dump</em> file will be created.<br>
<!-- -->Analyze it using gdb with <code>bt full</code>:</p>
</li>
</ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># gdb /usr/sbin/php-fpm /home/httpd-core/core-php-fpm.31832</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> bt full</span><br></span></code></pre></div></div></section></section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><div class="btnwrapper_gsW7"><button class="modalopenbtn_jIdz">Feedback</button></div></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/whatap-docs/php/install-check"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">설치 점검</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/whatap-docs/php/set-agent"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PHP agent configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_pzBX thin-scrollbar"></div><div class="fbsharebutton_dZBI" data-href="https://docs.whatap.io/whatap-docs/php/agent-troubleshooting" data-layout="" data-size=""><button type="button" class="fb_xfbml_parse_ignore_BpHP">Shared</button></div><div class="btnprint_EBmh"><button>PDF</button></div><div class="btnwrapper_gsW7"><button class="modalopenbtn_jIdz">Feedback</button></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 WhaTap Labs Inc. All rights reserved. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>